/*! nouislider - 11.1.0 - 2018-04-02 11:18:13 */(function(factory){if(typeof define==='function'&&define.amd){define([],factory);}else if(typeof exports==='object'){module.exports=factory();}else{window.noUiSlider=factory();}}(function(){'use strict';var VERSION='11.1.0';function isValidFormatter(entry){return typeof entry==='object'&&typeof entry.to==='function'&&typeof entry.from==='function';}
function removeElement(el){el.parentElement.removeChild(el);}
function isSet(value){return value!==null&&value!==undefined;}
function preventDefault(e){e.preventDefault();}
function unique(array){return array.filter(function(a){return!this[a]?this[a]=true:false;},{});}
function closest(value,to){return Math.round(value/to)*to;}
function offset(elem,orientation){var rect=elem.getBoundingClientRect();var doc=elem.ownerDocument;var docElem=doc.documentElement;var pageOffset=getPageOffset(doc);if(/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)){pageOffset.x=0;}
return orientation?(rect.top+pageOffset.y-docElem.clientTop):(rect.left+pageOffset.x-docElem.clientLeft);}
function isNumeric(a){return typeof a==='number'&&!isNaN(a)&&isFinite(a);}
function addClassFor(element,className,duration){if(duration>0){addClass(element,className);setTimeout(function(){removeClass(element,className);},duration);}}
function limit(a){return Math.max(Math.min(a,100),0);}
function asArray(a){return Array.isArray(a)?a:[a];}
function countDecimals(numStr){numStr=String(numStr);var pieces=numStr.split(".");return pieces.length>1?pieces[1].length:0;}
function addClass(el,className){if(el.classList){el.classList.add(className);}else{el.className+=' '+className;}}
function removeClass(el,className){if(el.classList){el.classList.remove(className);}else{el.className=el.className.replace(new RegExp('(^|\\b)'+className.split(' ').join('|')+'(\\b|$)','gi'),' ');}}
function hasClass(el,className){return el.classList?el.classList.contains(className):new RegExp('\\b'+className+'\\b').test(el.className);}
function getPageOffset(doc){var supportPageOffset=window.pageXOffset!==undefined;var isCSS1Compat=((doc.compatMode||"")==="CSS1Compat");var x=supportPageOffset?window.pageXOffset:isCSS1Compat?doc.documentElement.scrollLeft:doc.body.scrollLeft;var y=supportPageOffset?window.pageYOffset:isCSS1Compat?doc.documentElement.scrollTop:doc.body.scrollTop;return{x:x,y:y};}
function getActions(){return window.navigator.pointerEnabled?{start:'pointerdown',move:'pointermove',end:'pointerup'}:window.navigator.msPointerEnabled?{start:'MSPointerDown',move:'MSPointerMove',end:'MSPointerUp'}:{start:'mousedown touchstart',move:'mousemove touchmove',end:'mouseup touchend'};}
function getSupportsPassive(){var supportsPassive=false;try{var opts=Object.defineProperty({},'passive',{get:function(){supportsPassive=true;}});window.addEventListener('test',null,opts);}catch(e){}
return supportsPassive;}
function getSupportsTouchActionNone(){return window.CSS&&CSS.supports&&CSS.supports('touch-action','none');}
function subRangeRatio(pa,pb){return(100/(pb-pa));}
function fromPercentage(range,value){return(value*100)/(range[1]-range[0]);}
function toPercentage(range,value){return fromPercentage(range,range[0]<0?value+Math.abs(range[0]):value-range[0]);}
function isPercentage(range,value){return((value*(range[1]-range[0]))/100)+range[0];}
function getJ(value,arr){var j=1;while(value>=arr[j]){j+=1;}
return j;}
function toStepping(xVal,xPct,value){if(value>=xVal.slice(-1)[0]){return 100;}
var j=getJ(value,xVal);var va=xVal[j-1];var vb=xVal[j];var pa=xPct[j-1];var pb=xPct[j];return pa+(toPercentage([va,vb],value)/subRangeRatio(pa,pb));}
function fromStepping(xVal,xPct,value){if(value>=100){return xVal.slice(-1)[0];}
var j=getJ(value,xPct);var va=xVal[j-1];var vb=xVal[j];var pa=xPct[j-1];var pb=xPct[j];return isPercentage([va,vb],(value-pa)*subRangeRatio(pa,pb));}
function getStep(xPct,xSteps,snap,value){if(value===100){return value;}
var j=getJ(value,xPct);var a=xPct[j-1];var b=xPct[j];if(snap){if((value-a)>((b-a)/2)){return b;}
return a;}
if(!xSteps[j-1]){return value;}
return xPct[j-1]+closest(value-xPct[j-1],xSteps[j-1]);}
function handleEntryPoint(index,value,that){var percentage;if(typeof value==="number"){value=[value];}
if(!Array.isArray(value)){throw new Error("noUiSlider ("+VERSION+"): 'range' contains invalid value.");}
if(index==='min'){percentage=0;}else if(index==='max'){percentage=100;}else{percentage=parseFloat(index);}
if(!isNumeric(percentage)||!isNumeric(value[0])){throw new Error("noUiSlider ("+VERSION+"): 'range' value isn't numeric.");}
that.xPct.push(percentage);that.xVal.push(value[0]);if(!percentage){if(!isNaN(value[1])){that.xSteps[0]=value[1];}}else{that.xSteps.push(isNaN(value[1])?false:value[1]);}
that.xHighestCompleteStep.push(0);}
function handleStepPoint(i,n,that){if(!n){return true;}
that.xSteps[i]=fromPercentage([that.xVal[i],that.xVal[i+1]],n)/subRangeRatio(that.xPct[i],that.xPct[i+1]);var totalSteps=(that.xVal[i+1]-that.xVal[i])/that.xNumSteps[i];var highestStep=Math.ceil(Number(totalSteps.toFixed(3))-1);var step=that.xVal[i]+(that.xNumSteps[i]*highestStep);that.xHighestCompleteStep[i]=step;}
function Spectrum(entry,snap,singleStep){this.xPct=[];this.xVal=[];this.xSteps=[singleStep||false];this.xNumSteps=[false];this.xHighestCompleteStep=[];this.snap=snap;var index;var ordered=[];for(index in entry){if(entry.hasOwnProperty(index)){ordered.push([entry[index],index]);}}
if(ordered.length&&typeof ordered[0][0]==="object"){ordered.sort(function(a,b){return a[0][0]-b[0][0];});}else{ordered.sort(function(a,b){return a[0]-b[0];});}
for(index=0;index<ordered.length;index++){handleEntryPoint(ordered[index][1],ordered[index][0],this);}
this.xNumSteps=this.xSteps.slice(0);for(index=0;index<this.xNumSteps.length;index++){handleStepPoint(index,this.xNumSteps[index],this);}}
Spectrum.prototype.getMargin=function(value){var step=this.xNumSteps[0];if(step&&((value/step)%1)!==0){throw new Error("noUiSlider ("+VERSION+"): 'limit', 'margin' and 'padding' must be divisible by step.");}
return this.xPct.length===2?fromPercentage(this.xVal,value):false;};Spectrum.prototype.toStepping=function(value){value=toStepping(this.xVal,this.xPct,value);return value;};Spectrum.prototype.fromStepping=function(value){return fromStepping(this.xVal,this.xPct,value);};Spectrum.prototype.getStep=function(value){value=getStep(this.xPct,this.xSteps,this.snap,value);return value;};Spectrum.prototype.getNearbySteps=function(value){var j=getJ(value,this.xPct);return{stepBefore:{startValue:this.xVal[j-2],step:this.xNumSteps[j-2],highestStep:this.xHighestCompleteStep[j-2]},thisStep:{startValue:this.xVal[j-1],step:this.xNumSteps[j-1],highestStep:this.xHighestCompleteStep[j-1]},stepAfter:{startValue:this.xVal[j-0],step:this.xNumSteps[j-0],highestStep:this.xHighestCompleteStep[j-0]}};};Spectrum.prototype.countStepDecimals=function(){var stepDecimals=this.xNumSteps.map(countDecimals);return Math.max.apply(null,stepDecimals);};Spectrum.prototype.convert=function(value){return this.getStep(this.toStepping(value));};var defaultFormatter={'to':function(value){return value!==undefined&&value.toFixed(2);},'from':Number};function validateFormat(entry){if(isValidFormatter(entry)){return true;}
throw new Error("noUiSlider ("+VERSION+"): 'format' requires 'to' and 'from' methods.");}
function testStep(parsed,entry){if(!isNumeric(entry)){throw new Error("noUiSlider ("+VERSION+"): 'step' is not numeric.");}
parsed.singleStep=entry;}
function testRange(parsed,entry){if(typeof entry!=='object'||Array.isArray(entry)){throw new Error("noUiSlider ("+VERSION+"): 'range' is not an object.");}
if(entry.min===undefined||entry.max===undefined){throw new Error("noUiSlider ("+VERSION+"): Missing 'min' or 'max' in 'range'.");}
if(entry.min===entry.max){throw new Error("noUiSlider ("+VERSION+"): 'range' 'min' and 'max' cannot be equal.");}
parsed.spectrum=new Spectrum(entry,parsed.snap,parsed.singleStep);}
function testStart(parsed,entry){entry=asArray(entry);if(!Array.isArray(entry)||!entry.length){throw new Error("noUiSlider ("+VERSION+"): 'start' option is incorrect.");}
parsed.handles=entry.length;parsed.start=entry;}
function testSnap(parsed,entry){parsed.snap=entry;if(typeof entry!=='boolean'){throw new Error("noUiSlider ("+VERSION+"): 'snap' option must be a boolean.");}}
function testAnimate(parsed,entry){parsed.animate=entry;if(typeof entry!=='boolean'){throw new Error("noUiSlider ("+VERSION+"): 'animate' option must be a boolean.");}}
function testAnimationDuration(parsed,entry){parsed.animationDuration=entry;if(typeof entry!=='number'){throw new Error("noUiSlider ("+VERSION+"): 'animationDuration' option must be a number.");}}
function testConnect(parsed,entry){var connect=[false];var i;if(entry==='lower'){entry=[true,false];}
else if(entry==='upper'){entry=[false,true];}
if(entry===true||entry===false){for(i=1;i<parsed.handles;i++){connect.push(entry);}
connect.push(false);}
else if(!Array.isArray(entry)||!entry.length||entry.length!==parsed.handles+1){throw new Error("noUiSlider ("+VERSION+"): 'connect' option doesn't match handle count.");}
else{connect=entry;}
parsed.connect=connect;}
function testOrientation(parsed,entry){switch(entry){case'horizontal':parsed.ort=0;break;case'vertical':parsed.ort=1;break;default:throw new Error("noUiSlider ("+VERSION+"): 'orientation' option is invalid.");}}
function testMargin(parsed,entry){if(!isNumeric(entry)){throw new Error("noUiSlider ("+VERSION+"): 'margin' option must be numeric.");}
if(entry===0){return;}
parsed.margin=parsed.spectrum.getMargin(entry);if(!parsed.margin){throw new Error("noUiSlider ("+VERSION+"): 'margin' option is only supported on linear sliders.");}}
function testLimit(parsed,entry){if(!isNumeric(entry)){throw new Error("noUiSlider ("+VERSION+"): 'limit' option must be numeric.");}
parsed.limit=parsed.spectrum.getMargin(entry);if(!parsed.limit||parsed.handles<2){throw new Error("noUiSlider ("+VERSION+"): 'limit' option is only supported on linear sliders with 2 or more handles.");}}
function testPadding(parsed,entry){if(!isNumeric(entry)&&!Array.isArray(entry)){throw new Error("noUiSlider ("+VERSION+"): 'padding' option must be numeric or array of exactly 2 numbers.");}
if(Array.isArray(entry)&&!(entry.length===2||isNumeric(entry[0])||isNumeric(entry[1]))){throw new Error("noUiSlider ("+VERSION+"): 'padding' option must be numeric or array of exactly 2 numbers.");}
if(entry===0){return;}
if(!Array.isArray(entry)){entry=[entry,entry];}
parsed.padding=[parsed.spectrum.getMargin(entry[0]),parsed.spectrum.getMargin(entry[1])];if(parsed.padding[0]===false||parsed.padding[1]===false){throw new Error("noUiSlider ("+VERSION+"): 'padding' option is only supported on linear sliders.");}
if(parsed.padding[0]<0||parsed.padding[1]<0){throw new Error("noUiSlider ("+VERSION+"): 'padding' option must be a positive number(s).");}
if(parsed.padding[0]+parsed.padding[1]>=100){throw new Error("noUiSlider ("+VERSION+"): 'padding' option must not exceed 100% of the range.");}}
function testDirection(parsed,entry){switch(entry){case'ltr':parsed.dir=0;break;case'rtl':parsed.dir=1;break;default:throw new Error("noUiSlider ("+VERSION+"): 'direction' option was not recognized.");}}
function testBehaviour(parsed,entry){if(typeof entry!=='string'){throw new Error("noUiSlider ("+VERSION+"): 'behaviour' must be a string containing options.");}
var tap=entry.indexOf('tap')>=0;var drag=entry.indexOf('drag')>=0;var fixed=entry.indexOf('fixed')>=0;var snap=entry.indexOf('snap')>=0;var hover=entry.indexOf('hover')>=0;if(fixed){if(parsed.handles!==2){throw new Error("noUiSlider ("+VERSION+"): 'fixed' behaviour must be used with 2 handles");}
testMargin(parsed,parsed.start[1]-parsed.start[0]);}
parsed.events={tap:tap||snap,drag:drag,fixed:fixed,snap:snap,hover:hover};}
function testTooltips(parsed,entry){if(entry===false){return;}
else if(entry===true){parsed.tooltips=[];for(var i=0;i<parsed.handles;i++){parsed.tooltips.push(true);}}
else{parsed.tooltips=asArray(entry);if(parsed.tooltips.length!==parsed.handles){throw new Error("noUiSlider ("+VERSION+"): must pass a formatter for all handles.");}
parsed.tooltips.forEach(function(formatter){if(typeof formatter!=='boolean'&&(typeof formatter!=='object'||typeof formatter.to!=='function')){throw new Error("noUiSlider ("+VERSION+"): 'tooltips' must be passed a formatter or 'false'.");}});}}
function testAriaFormat(parsed,entry){parsed.ariaFormat=entry;validateFormat(entry);}
function testFormat(parsed,entry){parsed.format=entry;validateFormat(entry);}
function testCssPrefix(parsed,entry){if(typeof entry!=='string'&&entry!==false){throw new Error("noUiSlider ("+VERSION+"): 'cssPrefix' must be a string or `false`.");}
parsed.cssPrefix=entry;}
function testCssClasses(parsed,entry){if(typeof entry!=='object'){throw new Error("noUiSlider ("+VERSION+"): 'cssClasses' must be an object.");}
if(typeof parsed.cssPrefix==='string'){parsed.cssClasses={};for(var key in entry){if(!entry.hasOwnProperty(key)){continue;}
parsed.cssClasses[key]=parsed.cssPrefix+entry[key];}}else{parsed.cssClasses=entry;}}
function testOptions(options){var parsed={margin:0,limit:0,padding:0,animate:true,animationDuration:300,ariaFormat:defaultFormatter,format:defaultFormatter};var tests={'step':{r:false,t:testStep},'start':{r:true,t:testStart},'connect':{r:true,t:testConnect},'direction':{r:true,t:testDirection},'snap':{r:false,t:testSnap},'animate':{r:false,t:testAnimate},'animationDuration':{r:false,t:testAnimationDuration},'range':{r:true,t:testRange},'orientation':{r:false,t:testOrientation},'margin':{r:false,t:testMargin},'limit':{r:false,t:testLimit},'padding':{r:false,t:testPadding},'behaviour':{r:true,t:testBehaviour},'ariaFormat':{r:false,t:testAriaFormat},'format':{r:false,t:testFormat},'tooltips':{r:false,t:testTooltips},'cssPrefix':{r:true,t:testCssPrefix},'cssClasses':{r:true,t:testCssClasses}};var defaults={'connect':false,'direction':'ltr','behaviour':'tap','orientation':'horizontal','cssPrefix':'noUi-','cssClasses':{target:'target',base:'base',origin:'origin',handle:'handle',handleLower:'handle-lower',handleUpper:'handle-upper',horizontal:'horizontal',vertical:'vertical',background:'background',connect:'connect',connects:'connects',ltr:'ltr',rtl:'rtl',draggable:'draggable',drag:'state-drag',tap:'state-tap',active:'active',tooltip:'tooltip',pips:'pips',pipsHorizontal:'pips-horizontal',pipsVertical:'pips-vertical',marker:'marker',markerHorizontal:'marker-horizontal',markerVertical:'marker-vertical',markerNormal:'marker-normal',markerLarge:'marker-large',markerSub:'marker-sub',value:'value',valueHorizontal:'value-horizontal',valueVertical:'value-vertical',valueNormal:'value-normal',valueLarge:'value-large',valueSub:'value-sub'}};if(options.format&&!options.ariaFormat){options.ariaFormat=options.format;}
Object.keys(tests).forEach(function(name){if(!isSet(options[name])&&defaults[name]===undefined){if(tests[name].r){throw new Error("noUiSlider ("+VERSION+"): '"+name+"' is required.");}
return true;}
tests[name].t(parsed,!isSet(options[name])?defaults[name]:options[name]);});parsed.pips=options.pips;var d=document.createElement("div");var msPrefix=d.style.msTransform!==undefined;var noPrefix=d.style.transform!==undefined;parsed.transformRule=noPrefix?'transform':(msPrefix?'msTransform':'webkitTransform');var styles=[['left','top'],['right','bottom']];parsed.style=styles[parsed.dir][parsed.ort];return parsed;}
function scope(target,options,originalOptions){var actions=getActions();var supportsTouchActionNone=getSupportsTouchActionNone();var supportsPassive=supportsTouchActionNone&&getSupportsPassive();var scope_Target=target;var scope_Locations=[];var scope_Base;var scope_Handles;var scope_HandleNumbers=[];var scope_ActiveHandlesCount=0;var scope_Connects;var scope_Spectrum=options.spectrum;var scope_Values=[];var scope_Events={};var scope_Self;var scope_Pips;var scope_Document=target.ownerDocument;var scope_DocumentElement=scope_Document.documentElement;var scope_Body=scope_Document.body;var scope_DirOffset=(scope_Document.dir==='rtl')||(options.ort===1)?0:100;/*! In this file: Construction of DOM elements; */function addNodeTo(addTarget,className){var div=scope_Document.createElement('div');if(className){addClass(div,className);}
addTarget.appendChild(div);return div;}
function addOrigin(base,handleNumber){var origin=addNodeTo(base,options.cssClasses.origin);var handle=addNodeTo(origin,options.cssClasses.handle);handle.setAttribute('data-handle',handleNumber);handle.setAttribute('tabindex','0');handle.setAttribute('role','slider');handle.setAttribute('aria-orientation',options.ort?'vertical':'horizontal');if(handleNumber===0){addClass(handle,options.cssClasses.handleLower);}
else if(handleNumber===options.handles-1){addClass(handle,options.cssClasses.handleUpper);}
return origin;}
function addConnect(base,add){if(!add){return false;}
return addNodeTo(base,options.cssClasses.connect);}
function addElements(connectOptions,base){var connectBase=addNodeTo(base,options.cssClasses.connects);scope_Handles=[];scope_Connects=[];scope_Connects.push(addConnect(connectBase,connectOptions[0]));for(var i=0;i<options.handles;i++){scope_Handles.push(addOrigin(base,i));scope_HandleNumbers[i]=i;scope_Connects.push(addConnect(connectBase,connectOptions[i+1]));}}
function addSlider(addTarget){addClass(addTarget,options.cssClasses.target);if(options.dir===0){addClass(addTarget,options.cssClasses.ltr);}else{addClass(addTarget,options.cssClasses.rtl);}
if(options.ort===0){addClass(addTarget,options.cssClasses.horizontal);}else{addClass(addTarget,options.cssClasses.vertical);}
scope_Base=addNodeTo(addTarget,options.cssClasses.base);}
function addTooltip(handle,handleNumber){if(!options.tooltips[handleNumber]){return false;}
return addNodeTo(handle.firstChild,options.cssClasses.tooltip);}
function tooltips(){var tips=scope_Handles.map(addTooltip);bindEvent('update',function(values,handleNumber,unencoded){if(!tips[handleNumber]){return;}
var formattedValue=values[handleNumber];if(options.tooltips[handleNumber]!==true){formattedValue=options.tooltips[handleNumber].to(unencoded[handleNumber]);}
tips[handleNumber].innerHTML=formattedValue;});}
function aria(){bindEvent('update',function(values,handleNumber,unencoded,tap,positions){scope_HandleNumbers.forEach(function(index){var handle=scope_Handles[index];var min=checkHandlePosition(scope_Locations,index,0,true,true,true);var max=checkHandlePosition(scope_Locations,index,100,true,true,true);var now=positions[index];var text=options.ariaFormat.to(unencoded[index]);handle.children[0].setAttribute('aria-valuemin',min.toFixed(1));handle.children[0].setAttribute('aria-valuemax',max.toFixed(1));handle.children[0].setAttribute('aria-valuenow',now.toFixed(1));handle.children[0].setAttribute('aria-valuetext',text);});});}
function getGroup(mode,values,stepped){if(mode==='range'||mode==='steps'){return scope_Spectrum.xVal;}
if(mode==='count'){if(values<2){throw new Error("noUiSlider ("+VERSION+"): 'values' (>= 2) required for mode 'count'.");}
var interval=values-1;var spread=(100/interval);values=[];while(interval--){values[interval]=(interval*spread);}
values.push(100);mode='positions';}
if(mode==='positions'){return values.map(function(value){return scope_Spectrum.fromStepping(stepped?scope_Spectrum.getStep(value):value);});}
if(mode==='values'){if(stepped){return values.map(function(value){return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)));});}
return values;}}
function generateSpread(density,mode,group){function safeIncrement(value,increment){return(value+increment).toFixed(7)/1;}
var indexes={};var firstInRange=scope_Spectrum.xVal[0];var lastInRange=scope_Spectrum.xVal[scope_Spectrum.xVal.length-1];var ignoreFirst=false;var ignoreLast=false;var prevPct=0;group=unique(group.slice().sort(function(a,b){return a-b;}));if(group[0]!==firstInRange){group.unshift(firstInRange);ignoreFirst=true;}
if(group[group.length-1]!==lastInRange){group.push(lastInRange);ignoreLast=true;}
group.forEach(function(current,index){var step;var i;var q;var low=current;var high=group[index+1];var newPct;var pctDifference;var pctPos;var type;var steps;var realSteps;var stepsize;if(mode==='steps'){step=scope_Spectrum.xNumSteps[index];}
if(!step){step=high-low;}
if(low===false||high===undefined){return;}
step=Math.max(step,0.0000001);for(i=low;i<=high;i=safeIncrement(i,step)){newPct=scope_Spectrum.toStepping(i);pctDifference=newPct-prevPct;steps=pctDifference/density;realSteps=Math.round(steps);stepsize=pctDifference/realSteps;for(q=1;q<=realSteps;q+=1){pctPos=prevPct+(q*stepsize);indexes[pctPos.toFixed(5)]=['x',0];}
type=(group.indexOf(i)>-1)?1:(mode==='steps'?2:0);if(!index&&ignoreFirst){type=0;}
if(!(i===high&&ignoreLast)){indexes[newPct.toFixed(5)]=[i,type];}
prevPct=newPct;}});return indexes;}
function addMarking(spread,filterFunc,formatter){var element=scope_Document.createElement('div');var valueSizeClasses=[options.cssClasses.valueNormal,options.cssClasses.valueLarge,options.cssClasses.valueSub];var markerSizeClasses=[options.cssClasses.markerNormal,options.cssClasses.markerLarge,options.cssClasses.markerSub];var valueOrientationClasses=[options.cssClasses.valueHorizontal,options.cssClasses.valueVertical];var markerOrientationClasses=[options.cssClasses.markerHorizontal,options.cssClasses.markerVertical];addClass(element,options.cssClasses.pips);addClass(element,options.ort===0?options.cssClasses.pipsHorizontal:options.cssClasses.pipsVertical);function getClasses(type,source){var a=source===options.cssClasses.value;var orientationClasses=a?valueOrientationClasses:markerOrientationClasses;var sizeClasses=a?valueSizeClasses:markerSizeClasses;return source+' '+orientationClasses[options.ort]+' '+sizeClasses[type];}
function addSpread(offset,values){values[1]=(values[1]&&filterFunc)?filterFunc(values[0],values[1]):values[1];var node=addNodeTo(element,false);node.className=getClasses(values[1],options.cssClasses.marker);node.style[options.style]=offset+'%';if(values[1]){node=addNodeTo(element,false);node.className=getClasses(values[1],options.cssClasses.value);node.setAttribute('data-value',values[0]);node.style[options.style]=offset+'%';node.innerText=formatter.to(values[0]);}}
Object.keys(spread).forEach(function(a){addSpread(a,spread[a]);});return element;}
function removePips(){if(scope_Pips){removeElement(scope_Pips);scope_Pips=null;}}
function pips(grid){removePips();var mode=grid.mode;var density=grid.density||1;var filter=grid.filter||false;var values=grid.values||false;var stepped=grid.stepped||false;var group=getGroup(mode,values,stepped);var spread=generateSpread(density,mode,group);var format=grid.format||{to:Math.round};scope_Pips=scope_Target.appendChild(addMarking(spread,filter,format));return scope_Pips;}/*! In this file: Browser events (not slider events like slide, change); */
function baseSize(){var rect=scope_Base.getBoundingClientRect();var alt='offset'+['Width','Height'][options.ort];return options.ort===0?(rect.width||scope_Base[alt]):(rect.height||scope_Base[alt]);}
function attachEvent(events,element,callback,data){var method=function(e){e=fixEvent(e,data.pageOffset,data.target||element);if(!e){return false;}
if(scope_Target.hasAttribute('disabled')&&!data.doNotReject){return false;}
if(hasClass(scope_Target,options.cssClasses.tap)&&!data.doNotReject){return false;}
if(events===actions.start&&e.buttons!==undefined&&e.buttons>1){return false;}
if(data.hover&&e.buttons){return false;}
if(!supportsPassive){e.preventDefault();}
e.calcPoint=e.points[options.ort];callback(e,data);};var methods=[];events.split(' ').forEach(function(eventName){element.addEventListener(eventName,method,supportsPassive?{passive:true}:false);methods.push([eventName,method]);});return methods;}
function fixEvent(e,pageOffset,eventTarget){var touch=e.type.indexOf('touch')===0;var mouse=e.type.indexOf('mouse')===0;var pointer=e.type.indexOf('pointer')===0;var x;var y;if(e.type.indexOf('MSPointer')===0){pointer=true;}
if(touch){var isTouchOnTarget=function(checkTouch){return checkTouch.target===eventTarget||eventTarget.contains(checkTouch.target);};if(e.type==='touchstart'){var targetTouches=Array.prototype.filter.call(e.touches,isTouchOnTarget);if(targetTouches.length>1){return false;}
x=targetTouches[0].pageX;y=targetTouches[0].pageY;}else{var targetTouch=Array.prototype.find.call(e.changedTouches,isTouchOnTarget);if(!targetTouch){return false;}
x=targetTouch.pageX;y=targetTouch.pageY;}}
pageOffset=pageOffset||getPageOffset(scope_Document);if(mouse||pointer){x=e.clientX+pageOffset.x;y=e.clientY+pageOffset.y;}
e.pageOffset=pageOffset;e.points=[x,y];e.cursor=mouse||pointer;return e;}
function calcPointToPercentage(calcPoint){var location=calcPoint-offset(scope_Base,options.ort);var proposal=(location*100)/baseSize();proposal=limit(proposal);return options.dir?100-proposal:proposal;}
function getClosestHandle(proposal){var closest=100;var handleNumber=false;scope_Handles.forEach(function(handle,index){if(handle.hasAttribute('disabled')){return;}
var pos=Math.abs(scope_Locations[index]-proposal);if(pos<closest||(pos===100&&closest===100)){handleNumber=index;closest=pos;}});return handleNumber;}
function documentLeave(event,data){if(event.type==="mouseout"&&event.target.nodeName==="HTML"&&event.relatedTarget===null){eventEnd(event,data);}}
function eventMove(event,data){if(navigator.appVersion.indexOf("MSIE 9")===-1&&event.buttons===0&&data.buttonsProperty!==0){return eventEnd(event,data);}
var movement=(options.dir?-1:1)*(event.calcPoint-data.startCalcPoint);var proposal=(movement*100)/data.baseSize;moveHandles(movement>0,proposal,data.locations,data.handleNumbers);}
function eventEnd(event,data){if(data.handle){removeClass(data.handle,options.cssClasses.active);scope_ActiveHandlesCount-=1;}
data.listeners.forEach(function(c){scope_DocumentElement.removeEventListener(c[0],c[1]);});if(scope_ActiveHandlesCount===0){removeClass(scope_Target,options.cssClasses.drag);setZindex();if(event.cursor){scope_Body.style.cursor='';scope_Body.removeEventListener('selectstart',preventDefault);}}
data.handleNumbers.forEach(function(handleNumber){fireEvent('change',handleNumber);fireEvent('set',handleNumber);fireEvent('end',handleNumber);});}
function eventStart(event,data){var handle;if(data.handleNumbers.length===1){var handleOrigin=scope_Handles[data.handleNumbers[0]];if(handleOrigin.hasAttribute('disabled')){return false;}
handle=handleOrigin.children[0];scope_ActiveHandlesCount+=1;addClass(handle,options.cssClasses.active);}
event.stopPropagation();var listeners=[];var moveEvent=attachEvent(actions.move,scope_DocumentElement,eventMove,{target:event.target,handle:handle,listeners:listeners,startCalcPoint:event.calcPoint,baseSize:baseSize(),pageOffset:event.pageOffset,handleNumbers:data.handleNumbers,buttonsProperty:event.buttons,locations:scope_Locations.slice()});var endEvent=attachEvent(actions.end,scope_DocumentElement,eventEnd,{target:event.target,handle:handle,listeners:listeners,doNotReject:true,handleNumbers:data.handleNumbers});var outEvent=attachEvent("mouseout",scope_DocumentElement,documentLeave,{target:event.target,handle:handle,listeners:listeners,doNotReject:true,handleNumbers:data.handleNumbers});listeners.push.apply(listeners,moveEvent.concat(endEvent,outEvent));if(event.cursor){scope_Body.style.cursor=getComputedStyle(event.target).cursor;if(scope_Handles.length>1){addClass(scope_Target,options.cssClasses.drag);}
scope_Body.addEventListener('selectstart',preventDefault,false);}
data.handleNumbers.forEach(function(handleNumber){fireEvent('start',handleNumber);});}
function eventTap(event){event.stopPropagation();var proposal=calcPointToPercentage(event.calcPoint);var handleNumber=getClosestHandle(proposal);if(handleNumber===false){return false;}
if(!options.events.snap){addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration);}
setHandle(handleNumber,proposal,true,true);setZindex();fireEvent('slide',handleNumber,true);fireEvent('update',handleNumber,true);fireEvent('change',handleNumber,true);fireEvent('set',handleNumber,true);if(options.events.snap){eventStart(event,{handleNumbers:[handleNumber]});}}
function eventHover(event){var proposal=calcPointToPercentage(event.calcPoint);var to=scope_Spectrum.getStep(proposal);var value=scope_Spectrum.fromStepping(to);Object.keys(scope_Events).forEach(function(targetEvent){if('hover'===targetEvent.split('.')[0]){scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,value);});}});}
function bindSliderEvents(behaviour){if(!behaviour.fixed){scope_Handles.forEach(function(handle,index){attachEvent(actions.start,handle.children[0],eventStart,{handleNumbers:[index]});});}
if(behaviour.tap){attachEvent(actions.start,scope_Base,eventTap,{});}
if(behaviour.hover){attachEvent(actions.move,scope_Base,eventHover,{hover:true});}
if(behaviour.drag){scope_Connects.forEach(function(connect,index){if(connect===false||index===0||index===scope_Connects.length-1){return;}
var handleBefore=scope_Handles[index-1];var handleAfter=scope_Handles[index];var eventHolders=[connect];addClass(connect,options.cssClasses.draggable);if(behaviour.fixed){eventHolders.push(handleBefore.children[0]);eventHolders.push(handleAfter.children[0]);}
eventHolders.forEach(function(eventHolder){attachEvent(actions.start,eventHolder,eventStart,{handles:[handleBefore,handleAfter],handleNumbers:[index-1,index]});});});}}/*! In this file: Slider events (not browser events); */
function bindEvent(namespacedEvent,callback){scope_Events[namespacedEvent]=scope_Events[namespacedEvent]||[];scope_Events[namespacedEvent].push(callback);if(namespacedEvent.split('.')[0]==='update'){scope_Handles.forEach(function(a,index){fireEvent('update',index);});}}
function removeEvent(namespacedEvent){var event=namespacedEvent&&namespacedEvent.split('.')[0];var namespace=event&&namespacedEvent.substring(event.length);Object.keys(scope_Events).forEach(function(bind){var tEvent=bind.split('.')[0];var tNamespace=bind.substring(tEvent.length);if((!event||event===tEvent)&&(!namespace||namespace===tNamespace)){delete scope_Events[bind];}});}
function fireEvent(eventName,handleNumber,tap){Object.keys(scope_Events).forEach(function(targetEvent){var eventType=targetEvent.split('.')[0];if(eventName===eventType){scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,scope_Values.map(options.format.to),handleNumber,scope_Values.slice(),tap||false,scope_Locations.slice());});}});}/*! In this file: Mechanics for slider operation */
function toPct(pct){return pct+'%';}
function checkHandlePosition(reference,handleNumber,to,lookBackward,lookForward,getValue){if(scope_Handles.length>1){if(lookBackward&&handleNumber>0){to=Math.max(to,reference[handleNumber-1]+options.margin);}
if(lookForward&&handleNumber<scope_Handles.length-1){to=Math.min(to,reference[handleNumber+1]-options.margin);}}
if(scope_Handles.length>1&&options.limit){if(lookBackward&&handleNumber>0){to=Math.min(to,reference[handleNumber-1]+options.limit);}
if(lookForward&&handleNumber<scope_Handles.length-1){to=Math.max(to,reference[handleNumber+1]-options.limit);}}
if(options.padding){if(handleNumber===0){to=Math.max(to,options.padding[0]);}
if(handleNumber===scope_Handles.length-1){to=Math.min(to,100-options.padding[1]);}}
to=scope_Spectrum.getStep(to);to=limit(to);if(to===reference[handleNumber]&&!getValue){return false;}
return to;}
function inRuleOrder(v,a){var o=options.ort;return(o?a:v)+', '+(o?v:a);}
function moveHandles(upward,proposal,locations,handleNumbers){var proposals=locations.slice();var b=[!upward,upward];var f=[upward,!upward];handleNumbers=handleNumbers.slice();if(upward){handleNumbers.reverse();}
if(handleNumbers.length>1){handleNumbers.forEach(function(handleNumber,o){var to=checkHandlePosition(proposals,handleNumber,proposals[handleNumber]+proposal,b[o],f[o],false);if(to===false){proposal=0;}else{proposal=to-proposals[handleNumber];proposals[handleNumber]=to;}});}
else{b=f=[true];}
var state=false;handleNumbers.forEach(function(handleNumber,o){state=setHandle(handleNumber,locations[handleNumber]+proposal,b[o],f[o])||state;});if(state){handleNumbers.forEach(function(handleNumber){fireEvent('update',handleNumber);fireEvent('slide',handleNumber);});}}
function transformDirection(a,b){return options.dir?100-a-b:a;}
function updateHandlePosition(handleNumber,to){scope_Locations[handleNumber]=to;scope_Values[handleNumber]=scope_Spectrum.fromStepping(to);var rule='translate('+inRuleOrder(toPct(transformDirection(to,0)-scope_DirOffset),'0')+')';scope_Handles[handleNumber].style[options.transformRule]=rule;updateConnect(handleNumber);updateConnect(handleNumber+1);}
function setZindex(){scope_HandleNumbers.forEach(function(handleNumber){var dir=(scope_Locations[handleNumber]>50?-1:1);var zIndex=3+(scope_Handles.length+(dir*handleNumber));scope_Handles[handleNumber].style.zIndex=zIndex;});}
function setHandle(handleNumber,to,lookBackward,lookForward){to=checkHandlePosition(scope_Locations,handleNumber,to,lookBackward,lookForward,false);if(to===false){return false;}
updateHandlePosition(handleNumber,to);return true;}
function updateConnect(index){if(!scope_Connects[index]){return;}
var l=0;var h=100;if(index!==0){l=scope_Locations[index-1];}
if(index!==scope_Connects.length-1){h=scope_Locations[index];}
var connectWidth=h-l;var translateRule='translate('+inRuleOrder(toPct(transformDirection(l,connectWidth)),'0')+')';var scaleRule='scale('+inRuleOrder(connectWidth/100,'1')+')';scope_Connects[index].style[options.transformRule]=translateRule+' '+scaleRule;}/*! In this file: All methods eventually exposed in slider.noUiSlider... */
function resolveToValue(to,handleNumber){if(to===null||to===false||to===undefined){return scope_Locations[handleNumber];}
if(typeof to==='number'){to=String(to);}
to=options.format.from(to);to=scope_Spectrum.toStepping(to);if(to===false||isNaN(to)){return scope_Locations[handleNumber];}
return to;}
function valueSet(input,fireSetEvent){var values=asArray(input);var isInit=scope_Locations[0]===undefined;fireSetEvent=(fireSetEvent===undefined?true:!!fireSetEvent);if(options.animate&&!isInit){addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration);}
scope_HandleNumbers.forEach(function(handleNumber){setHandle(handleNumber,resolveToValue(values[handleNumber],handleNumber),true,false);});scope_HandleNumbers.forEach(function(handleNumber){setHandle(handleNumber,scope_Locations[handleNumber],true,true);});setZindex();scope_HandleNumbers.forEach(function(handleNumber){fireEvent('update',handleNumber);if(values[handleNumber]!==null&&fireSetEvent){fireEvent('set',handleNumber);}});}
function valueReset(fireSetEvent){valueSet(options.start,fireSetEvent);}
function valueGet(){var values=scope_Values.map(options.format.to);if(values.length===1){return values[0];}
return values;}
function destroy(){for(var key in options.cssClasses){if(!options.cssClasses.hasOwnProperty(key)){continue;}
removeClass(scope_Target,options.cssClasses[key]);}
while(scope_Target.firstChild){scope_Target.removeChild(scope_Target.firstChild);}
delete scope_Target.noUiSlider;}
function getCurrentStep(){return scope_Locations.map(function(location,index){var nearbySteps=scope_Spectrum.getNearbySteps(location);var value=scope_Values[index];var increment=nearbySteps.thisStep.step;var decrement=null;if(increment!==false){if(value+increment>nearbySteps.stepAfter.startValue){increment=nearbySteps.stepAfter.startValue-value;}}
if(value>nearbySteps.thisStep.startValue){decrement=nearbySteps.thisStep.step;}
else if(nearbySteps.stepBefore.step===false){decrement=false;}
else{decrement=value-nearbySteps.stepBefore.highestStep;}
if(location===100){increment=null;}
else if(location===0){decrement=null;}
var stepDecimals=scope_Spectrum.countStepDecimals();if(increment!==null&&increment!==false){increment=Number(increment.toFixed(stepDecimals));}
if(decrement!==null&&decrement!==false){decrement=Number(decrement.toFixed(stepDecimals));}
return[decrement,increment];});}
function updateOptions(optionsToUpdate,fireSetEvent){var v=valueGet();var updateAble=['margin','limit','padding','range','animate','snap','step','format'];updateAble.forEach(function(name){if(optionsToUpdate[name]!==undefined){originalOptions[name]=optionsToUpdate[name];}});var newOptions=testOptions(originalOptions);updateAble.forEach(function(name){if(optionsToUpdate[name]!==undefined){options[name]=newOptions[name];}});scope_Spectrum=newOptions.spectrum;options.margin=newOptions.margin;options.limit=newOptions.limit;options.padding=newOptions.padding;if(options.pips){pips(options.pips);}
scope_Locations=[];valueSet(optionsToUpdate.start||v,fireSetEvent);}/*! In this file: Calls to functions. All other scope_ files define functions only; */
addSlider(scope_Target);addElements(options.connect,scope_Base);bindSliderEvents(options.events);valueSet(options.start);scope_Self={destroy:destroy,steps:getCurrentStep,on:bindEvent,off:removeEvent,get:valueGet,set:valueSet,reset:valueReset,__moveHandles:function(a,b,c){moveHandles(a,b,scope_Locations,c);},options:originalOptions,updateOptions:updateOptions,target:scope_Target,removePips:removePips,pips:pips};if(options.pips){pips(options.pips);}
if(options.tooltips){tooltips();}
aria();return scope_Self;}
function initialize(target,originalOptions){if(!target||!target.nodeName){throw new Error("noUiSlider ("+VERSION+"): create requires a single element, got: "+target);}
if(target.noUiSlider){throw new Error("noUiSlider ("+VERSION+"): Slider was already initialized.");}
var options=testOptions(originalOptions,target);var api=scope(target,options,originalOptions);target.noUiSlider=api;return api;}
return{version:VERSION,create:initialize};}));;!function(){var e={};(function(t){(function(){var n=function(e){return e&&e.Math==Math&&e};e=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var t=function(e){try{return!!e()}catch(t){return!0}},n=!t((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),i={},r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);i.f=a?function(e){var t=o(this,e);return!!t&&t.enumerable}:r;var s=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},l={}.toString,c=function(e){return l.call(e).slice(8,-1)},u="".split,d=t((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==c(e)?u.call(e,""):Object(e)}:Object,h=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},f=function(e){return d(h(e))},p=function(e){return"object"==typeof e?null!==e:"function"==typeof e},m=function(e,t){if(!p(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!p(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!p(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!p(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},g={}.hasOwnProperty,v=function(e,t){return g.call(e,t)},y=e.document,b=p(y)&&p(y.createElement),w=function(e){return b?y.createElement(e):{}},S=!n&&!t((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),_={},C=Object.getOwnPropertyDescriptor;_.f=n?C:function(e,t){if(e=f(e),t=m(t,!0),S)try{return C(e,t)}catch(n){}if(v(e,t))return s(!i.f.call(e,t),e[t])};var k=function(e){if(!p(e))throw TypeError(String(e)+" is not an object");return e},T={},x=Object.defineProperty;T.f=n?x:function(e,t,n){if(k(e),t=m(t,!0),k(n),S)try{return x(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var E=n?function(e,t,n){return T.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e},D=function(t,n){try{E(e,t,n)}catch(i){e[t]=n}return n},F=e["__core-js_shared__"]||D("__core-js_shared__",{}),I={},A=Function.toString;"function"!=typeof F.inspectSource&&(F.inspectSource=function(e){return A.call(e)}),I=F.inspectSource;var O,M=e.WeakMap,P="function"==typeof M&&/native code/.test(I(M));(O=function(e,t){return F[e]||(F[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"});var j,L,R,N=0,Y=Math.random(),B=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++N+Y).toString(36)},V=O("keys"),U=function(e){return V[e]||(V[e]=B(e))},H={},W=e.WeakMap;if(P){var Q=F.state||(F.state=new W),q=Q.get,z=Q.has,G=Q.set;j=function(e,t){return t.facade=e,G.call(Q,e,t),t},L=function(e){return q.call(Q,e)||{}},R=function(e){return z.call(Q,e)}}else{var J=U("state");H[J]=!0,j=function(e,t){return t.facade=e,E(e,J,t),t},L=function(e){return v(e,J)?e[J]:{}},R=function(e){return v(e,J)}}var $,K={set:j,get:L,has:R,enforce:function(e){return R(e)?L(e):j(e,{})},getterFor:function(e){return function(t){var n;if(!p(t)||(n=L(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Z=K.get,X=K.enforce,ee=String(String).split("String");($=function(t,n,i,r){var o,a=!!r&&!!r.unsafe,s=!!r&&!!r.enumerable,l=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof n||v(i,"name")||E(i,"name",n),(o=X(i)).source||(o.source=ee.join("string"==typeof n?n:""))),t!==e?(a?!l&&t[n]&&(s=!0):delete t[n],s?t[n]=i:E(t,n,i)):s?t[n]=i:D(n,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&Z(this).source||I(this)}));var te=e,ne=function(e){return"function"==typeof e?e:void 0},ie=function(t,n){return arguments.length<2?ne(te[t])||ne(e[t]):te[t]&&te[t][n]||e[t]&&e[t][n]},re=Math.ceil,oe=Math.floor,ae=function(e){return isNaN(e=+e)?0:(e>0?oe:re)(e)},se=Math.min,le=function(e){return e>0?se(ae(e),9007199254740991):0},ce=Math.max,ue=Math.min,de=function(e,t){var n=ae(e);return n<0?ce(n+t,0):ue(n,t)},he=function(e){return function(t,n,i){var r,o=f(t),a=le(o.length),s=de(i,a);if(e&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},fe={includes:he(!0),indexOf:he(!1)},pe=fe.indexOf,me=function(e,t){var n,i=f(e),r=0,o=[];for(n in i)!v(H,n)&&v(i,n)&&o.push(n);for(;t.length>r;)v(i,n=t[r++])&&(~pe(o,n)||o.push(n));return o},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ve={},ye=ge.concat("length","prototype");ve.f=Object.getOwnPropertyNames||function(e){return me(e,ye)};var be={};be.f=Object.getOwnPropertySymbols;var we,Se=ie("Reflect","ownKeys")||function(e){var t=ve.f(k(e)),n=be.f;return n?t.concat(n(e)):t},_e=function(e,t){for(var n=Se(t),i=T.f,r=_.f,o=0;o<n.length;o++){var a=n[o];v(e,a)||i(e,a,r(t,a))}},Ce=/#|\.prototype\./,ke=function(e,n){var i=xe[Te(e)];return i==De||i!=Ee&&("function"==typeof n?t(n):!!n)},Te=ke.normalize=function(e){return String(e).replace(Ce,".").toLowerCase()},xe=ke.data={},Ee=ke.NATIVE="N",De=ke.POLYFILL="P",Fe=ke,Ie=_.f,Ae=function(t,n){var i,r,o,a,s,l=t.target,c=t.global,u=t.stat;if(i=c?e:u?e[l]||D(l,{}):(e[l]||{}).prototype)for(r in n){if(a=n[r],o=t.noTargetGet?(s=Ie(i,r))&&s.value:i[r],!Fe(c?r:l+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;_e(a,o)}(t.sham||o&&o.sham)&&E(a,"sham",!0),$(i,r,a,t)}},Oe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Me=function(e,t,n){if(Oe(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},Pe=function(e){return Object(h(e))},je=Array.isArray||function(e){return"Array"==c(e)},Le=!!Object.getOwnPropertySymbols&&!t((function(){return!String(Symbol())})),Re=Le&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ne=O("wks"),Ye=e.Symbol,Be=Re?Ye:Ye&&Ye.withoutSetter||B,Ve=function(e){return v(Ne,e)||(Le&&v(Ye,e)?Ne[e]=Ye[e]:Ne[e]=Be("Symbol."+e)),Ne[e]},Ue=Ve("species"),He=function(e,t){var n;return je(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!je(n.prototype)?p(n)&&null===(n=n[Ue])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},We=[].push,Qe=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,a=7==e,s=5==e||o;return function(l,c,u,h){for(var f,p,m=Pe(l),g=d(m),v=Me(c,u,3),y=le(g.length),b=0,w=h||He,S=t?w(l,y):n||a?w(l,0):void 0;y>b;b++)if((s||b in g)&&(p=v(f=g[b],b,m),e))if(t)S[b]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return b;case 2:We.call(S,f)}else switch(e){case 4:return!1;case 7:We.call(S,f)}return o?-1:i||r?r:S}},qe={forEach:Qe(0),map:Qe(1),filter:Qe(2),some:Qe(3),every:Qe(4),find:Qe(5),findIndex:Qe(6),filterOut:Qe(7)},ze=Object.keys||function(e){return me(e,ge)},Ge=n?Object.defineProperties:function(e,t){k(e);for(var n,i=ze(t),r=i.length,o=0;r>o;)T.f(e,n=i[o++],t[n]);return e},Je=ie("document","documentElement"),$e={},Ke=U("IE_PROTO"),Ze=function(){},Xe=function(e){return"<script>"+e+"<\/script>"},et=function(){try{we=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;et=we?function(e){e.write(Xe("")),e.close();var t=e.parentWindow.Object;return e=null,t}(we):((t=w("iframe")).style.display="none",Je.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Xe("document.F=Object")),e.close(),e.F);for(var n=ge.length;n--;)delete et.prototype[ge[n]];return et()};H[Ke]=!0,$e=Object.create||function(e,t){var n;return null!==e?(Ze.prototype=k(e),n=new Ze,Ze.prototype=null,n[Ke]=e):n=et(),void 0===t?n:Ge(n,t)};var tt,nt=Ve("unscopables"),it=Array.prototype;null==it[nt]&&T.f(it,nt,{configurable:!0,value:$e(null)}),tt=function(e){it[nt][e]=!0};var rt=Object.defineProperty,ot={},at=function(e){throw e},st=function(e,i){if(v(ot,e))return ot[e];i||(i={});var r=[][e],o=!!v(i,"ACCESSORS")&&i.ACCESSORS,a=v(i,0)?i[0]:at,s=v(i,1)?i[1]:void 0;return ot[e]=!!r&&!t((function(){if(o&&!n)return!0;var e={length:-1};o?rt(e,1,{enumerable:!0,get:at}):e[1]=1,r.call(e,a,s)}))},lt=qe.find,ct=!0,ut=st("find");"find"in[]&&Array(1).find((function(){ct=!1})),Ae({target:"Array",proto:!0,forced:ct||!ut},{find:function(e){return lt(this,e,arguments.length>1?arguments[1]:void 0)}}),tt("find");var dt=function(e,n){var i=[][e];return!!i&&t((function(){i.call(null,n||function(){throw 1},1)}))},ht=qe.forEach,ft=dt("forEach"),pt=st("forEach"),mt=ft&&pt?[].forEach:function(e){return ht(this,e,arguments.length>1?arguments[1]:void 0)};Ae({target:"Array",proto:!0,forced:[].forEach!=mt},{forEach:mt});var gt,vt=function(e,t,n,i){try{return i?t(k(n)[0],n[1]):t(n)}catch(r){throw function(e){var t=e.return;if(void 0!==t)k(t.call(e)).value}(e),r}},yt={},bt=Ve("iterator"),wt=Array.prototype,St=function(e){return void 0!==e&&(yt.Array===e||wt[bt]===e)},_t=function(e,t,n){var i=m(t);i in e?T.f(e,i,s(0,n)):e[i]=n},Ct={};Ct[Ve("toStringTag")]="z",gt="[object z]"===String(Ct);var kt=Ve("toStringTag"),Tt="Arguments"==c(function(){return arguments}()),xt=gt?c:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),kt))?n:Tt?c(t):"Object"==(i=c(t))&&"function"==typeof t.callee?"Arguments":i},Et=Ve("iterator"),Dt=function(e){if(null!=e)return e[Et]||e["@@iterator"]||yt[xt(e)]},Ft=Ve("iterator"),It=!1;try{var At=0,Ot={next:function(){return{done:!!At++}},return:function(){It=!0}};Ot[Ft]=function(){return this},Array.from(Ot,(function(){throw 2}))}catch(Ds){}Ae({target:"Array",stat:!0,forced:!function(e,t){if(!t&&!It)return!1;var n=!1;try{var i={};i[Ft]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(Ds){}return n}((function(e){Array.from(e)}))},{from:function(e){var t,n,i,r,o,a,s=Pe(e),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=Dt(s),f=0;if(d&&(u=Me(u,c>2?arguments[2]:void 0,2)),null==h||l==Array&&St(h))for(n=new l(t=le(s.length));t>f;f++)a=d?u(s[f],f):s[f],_t(n,f,a);else for(o=(r=h.call(s)).next,n=new l;!(i=o.call(r)).done;f++)a=d?vt(r,u,[i.value,f],!0):i.value,_t(n,f,a);return n.length=f,n}});var Mt=fe.indexOf,Pt=[].indexOf,jt=!!Pt&&1/[1].indexOf(1,-0)<0,Lt=dt("indexOf"),Rt=st("indexOf",{ACCESSORS:!0,1:0});Ae({target:"Array",proto:!0,forced:jt||!Lt||!Rt},{indexOf:function(e){return jt?Pt.apply(this,arguments)||0:Mt(this,e,arguments.length>1?arguments[1]:void 0)}});var Nt,Yt,Bt,Vt=ie("navigator","userAgent")||"",Ut=e.process,Ht=Ut&&Ut.versions,Wt=Ht&&Ht.v8;Wt?Bt=(Yt=Wt.split("."))[0]+Yt[1]:Vt&&(!(Yt=Vt.match(/Edge\/(\d+)/))||Yt[1]>=74)&&(Yt=Vt.match(/Chrome\/(\d+)/))&&(Bt=Yt[1]),Nt=Bt&&+Bt;var Qt=Ve("species"),qt=function(e){return Nt>=51||!t((function(){var t=[];return(t.constructor={})[Qt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},zt=qt("slice"),Gt=st("slice",{ACCESSORS:!0,0:0,1:2}),Jt=Ve("species"),$t=[].slice,Kt=Math.max;Ae({target:"Array",proto:!0,forced:!zt||!Gt},{slice:function(e,t){var n,i,r,o=f(this),a=le(o.length),s=de(e,a),l=de(void 0===t?a:t,a);if(je(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!je(n.prototype)?p(n)&&null===(n=n[Jt])&&(n=void 0):n=void 0,n===Array||void 0===n))return $t.call(o,s,l);for(i=new(void 0===n?Array:n)(Kt(l-s,0)),r=0;s<l;s++,r++)s in o&&_t(i,r,o[s]);return i.length=r,i}});var Zt=gt?{}.toString:function(){return"[object "+xt(this)+"]"};gt||$(Object.prototype,"toString",Zt,{unsafe:!0});var Xt=function(){var e=k(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},en={};function tn(e,t){return RegExp(e,t)}en.UNSUPPORTED_Y=t((function(){var e=tn("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),en.BROKEN_CARET=t((function(){var e=tn("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));var nn,rn,on={},an=RegExp.prototype.exec,sn=String.prototype.replace,ln=an,cn=(nn=/a/,rn=/b*/g,an.call(nn,"a"),an.call(rn,"a"),0!==nn.lastIndex||0!==rn.lastIndex),un=en.UNSUPPORTED_Y||en.BROKEN_CARET,dn=void 0!==/()??/.exec("")[1];(cn||dn||un)&&(ln=function(e){var t,n,i,r,o=this,a=un&&o.sticky,s=Xt.call(o),l=o.source,c=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),dn&&(n=new RegExp("^"+l+"$(?!\\s)",s)),cn&&(t=o.lastIndex),i=an.call(a?n:o,u),a?i?(i.input=i.input.slice(c),i[0]=i[0].slice(c),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:cn&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),dn&&i&&i.length>1&&sn.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),Ae({target:"RegExp",proto:!0,forced:/./.exec!==(on=ln)},{exec:on});var hn=RegExp.prototype,fn=hn.toString,pn=t((function(){return"/a/b"!=fn.call({source:"a",flags:"b"})})),mn="toString"!=fn.name;(pn||mn)&&$(RegExp.prototype,"toString",(function(){var e=k(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in hn)?Xt.call(e):n)}),{unsafe:!0});var gn,vn,yn,bn,wn=function(e){return function(t,n){var i,r,o=String(h(t)),a=ae(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=o.charCodeAt(a))<55296||i>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?e?o.charAt(a):i:e?o.slice(a,a+2):r-56320+(i-55296<<10)+65536}},Sn={codeAt:wn(!1),charAt:wn(!0)},_n=!t((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Cn=U("IE_PROTO"),kn=Object.prototype,Tn=_n?Object.getPrototypeOf:function(e){return e=Pe(e),v(e,Cn)?e[Cn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?kn:null},xn=Ve("iterator"),En=!1;[].keys&&("next"in(bn=[].keys())?(yn=Tn(Tn(bn)))!==Object.prototype&&(vn=yn):En=!0),null==vn&&(vn={}),v(vn,xn)||E(vn,xn,(function(){return this})),gn={IteratorPrototype:vn,BUGGY_SAFARI_ITERATORS:En};var Dn=T.f,Fn=Ve("toStringTag"),In=function(e,t,n){e&&!v(e=n?e:e.prototype,Fn)&&Dn(e,Fn,{configurable:!0,value:t})},An=gn.IteratorPrototype,On=function(){return this},Mn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(Ds){}return function(n,i){return k(n),function(e){if(!p(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),Pn=gn.IteratorPrototype,jn=gn.BUGGY_SAFARI_ITERATORS,Ln=Ve("iterator"),Rn=function(){return this},Nn=Sn.charAt,Yn=K.set,Bn=K.getterFor("String Iterator");!function(e,t,n,i,r,o,a){!function(e,t,n){var i=t+" Iterator";e.prototype=$e(An,{next:s(1,n)}),In(e,i,!1),yt[i]=On}(n,t,i);var l,c,u,d=function(e){if(e===r&&g)return g;if(!jn&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,p=e.prototype,m=p[Ln]||p["@@iterator"]||r&&p[r],g=!jn&&m||d(r),v="Array"==t&&p.entries||m;if(v&&(l=Tn(v.call(new e)),Pn!==Object.prototype&&l.next&&(Tn(l)===Pn||(Mn?Mn(l,Pn):"function"!=typeof l[Ln]&&E(l,Ln,Rn)),In(l,h,!0))),"values"==r&&m&&"values"!==m.name&&(f=!0,g=function(){return m.call(this)}),p[Ln]===g||E(p,Ln,g),yt[t]=g,r)if(c={values:d("values"),keys:o?g:d("keys"),entries:d("entries")},a)for(u in c)!jn&&!f&&u in p||$(p,u,c[u]);else Ae({target:t,proto:!0,forced:jn||f},c)}(String,"String",(function(e){Yn(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Bn(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=Nn(n,i),t.index+=e.length,{value:e,done:!1})}));var Vn=Ve("species"),Un=!t((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Hn="$0"==="a".replace(/./,"$0"),Wn=Ve("replace"),Qn=!!/./[Wn]&&""===/./[Wn]("a","$0"),qn=!t((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),zn=function(e,n,i,r){var o=Ve(e),a=!t((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=a&&!t((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Vn]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!s||"replace"===e&&(!Un||!Hn||Qn)||"split"===e&&!qn){var l=/./[o],c=i(o,""[e],(function(e,t,n,i,r){return t.exec===on?a&&!r?{done:!0,value:l.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:Hn,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Qn}),u=c[0],d=c[1];$(String.prototype,e,u),$(RegExp.prototype,o,2==n?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}r&&E(RegExp.prototype[o],"sham",!0)},Gn=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Jn=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==c(e))throw TypeError("RegExp#exec called on incompatible receiver");return on.call(e,t)};zn("search",1,(function(e,t,n){return[function(t){var n=h(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var r=k(e),o=String(this),a=r.lastIndex;Gn(a,0)||(r.lastIndex=0);var s=Jn(r,o);return Gn(r.lastIndex,a)||(r.lastIndex=a),null===s?-1:s.index}]}));var $n=Ve("match"),Kn=function(e){var t;return p(e)&&(void 0!==(t=e[$n])?!!t:"RegExp"==c(e))},Zn=Ve("species"),Xn=Sn.charAt,ei=function(e,t,n){return t+(n?Xn(e,t).length:1)},ti=[].push,ni=Math.min,ii=!t((function(){return!RegExp(4294967295,"y")}));zn("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(h(this)),r=void 0===n?4294967295:n>>>0;if(0===r)return[];if(void 0===e)return[i];if(!Kn(e))return t.call(i,e,r);for(var o,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=new RegExp(e.source,c+"g");(o=on.call(d,i))&&!((a=d.lastIndex)>u&&(l.push(i.slice(u,o.index)),o.length>1&&o.index<i.length&&ti.apply(l,o.slice(1)),s=o[0].length,u=a,l.length>=r));)d.lastIndex===o.index&&d.lastIndex++;return u===i.length?!s&&d.test("")||l.push(""):l.push(i.slice(u)),l.length>r?l.slice(0,r):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=h(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,r,n):i.call(String(r),t,n)},function(e,r){var o=n(i,e,this,r,i!==t);if(o.done)return o.value;var a=k(e),s=String(this),l=function(e,t){var n,i=k(e).constructor;return void 0===i||null==(n=k(i)[Zn])?t:Oe(n)}(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ii?"y":"g"),d=new l(ii?a:"^(?:"+a.source+")",u),h=void 0===r?4294967295:r>>>0;if(0===h)return[];if(0===s.length)return null===Jn(d,s)?[s]:[];for(var f=0,p=0,m=[];p<s.length;){d.lastIndex=ii?p:0;var g,v=Jn(d,ii?s:s.slice(p));if(null===v||(g=ni(le(d.lastIndex+(ii?0:p)),s.length))===f)p=ei(s,p,c);else{if(m.push(s.slice(f,p)),m.length===h)return m;for(var y=1;y<=v.length-1;y++)if(m.push(v[y]),m.length===h)return m;p=f=g}}return m.push(s.slice(f)),m}]}),!ii);for(var ri in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var oi=e[ri],ai=oi&&oi.prototype;if(ai&&ai.forEach!==mt)try{E(ai,"forEach",mt)}catch(Ds){ai.forEach=mt}}var si={exports:{}};!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):si.exports?si.exports=t():e.log=t()}(this,(function(){"use strict";var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(t,i){for(var r=0;r<n.length;r++){var o=n[r];this[o]=r<t?e:this.methodFactory(o,t,i)}this.log=this.debug}function a(n,a,s){return function(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?r:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}(n)||function(e,t,n){return function(){"undefined"!=typeof console&&(o.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function s(e,t,i){var r,s=this,l="loglevel";function c(){var e;if("undefined"!=typeof window&&l){try{e=window.localStorage[l]}catch(i){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||a,s.getLevel=function(){return r},s.setLevel=function(t,i){if("string"==typeof t&&void 0!==s.levels[t.toUpperCase()]&&(t=s.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==i&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window&&l){try{return void(window.localStorage[l]=t)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+t+";"}catch(i){}}}(t),o.call(s,t,e),"undefined"==typeof console&&t<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){c()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var u=c();null==u&&(u=null==t?"WARN":t),s.setLevel(u,!1)}var l=new s,c={};l.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=c[e];return t||(t=c[e]=new s(e,l.getLevel(),l.methodFactory)),t};var u="undefined"!=typeof window?window.log:void 0;return l.noConflict=function(){return"undefined"!=typeof window&&window.log===l&&(window.log=u),l},l.getLoggers=function(){return c},l.default=l,l})),si=si.exports;var li={};(function(e){(function(){var t=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")(),c=Object.prototype.toString,u=Math.max,d=Math.min,h=function(){return l.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(f(e)){var a="function"==typeof e.valueOf?e.valueOf():e;e=f(a)?a+"":a}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var s=i.test(e);return s||r.test(e)?o(e.slice(2),s?2:8):n.test(e)?NaN:+e}li=function(e,t,n){var i,r,o,a,s,l,c=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,o=r;return i=r=void 0,c=t,a=e.apply(o,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=o}function w(){var e=h();if(b(e))return S(e);s=setTimeout(w,function(e){var n=t-(e-l);return g?d(n,o-(e-c)):n}(e))}function S(e){return s=void 0,v&&i?y(e):(i=r=void 0,a)}function _(){var e=h(),n=b(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(w,t),m?y(e):a}(l);if(g)return s=setTimeout(w,t),y(l)}return void 0===s&&(s=setTimeout(w,t)),a}return t=p(t)||0,f(n)&&(m=!!n.leading,o=(g="maxWait"in n)?u(p(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},_.flush=function(){return void 0===s?a:S(h())},_}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ci,ui={__esModule:!0,pingerErrorHandler:function(e,t){di.default.getLogger(e).error(t),window.ncbi.pinger&&window.ncbi.pinger._handleError&&window.ncbi.pinger._handleError({message:t})}},di=(ci=si)&&ci.__esModule?ci:{default:ci},hi=qt("splice"),fi=st("splice",{ACCESSORS:!0,0:0,1:2}),pi=Math.max,mi=Math.min;Ae({target:"Array",proto:!0,forced:!hi||!fi},{splice:function(e,t){var n,i,r,o,a,s,l=Pe(this),c=le(l.length),u=de(e,c),d=arguments.length;if(0===d?n=i=0:1===d?(n=0,i=c-u):(n=d-2,i=mi(pi(ae(t),0),c-u)),c+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=He(l,i),o=0;o<i;o++)(a=u+o)in l&&_t(r,o,l[a]);if(r.length=i,n<i){for(o=u;o<c-i;o++)s=o+n,(a=o+i)in l?l[s]=l[a]:delete l[s];for(o=c;o>c-i+n;o--)delete l[o-1]}else if(n>i)for(o=c-i;o>u;o--)s=o+n-1,(a=o+i-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-i+n,r}});var gi={};(function(e){(function(){"use strict";gi.__esModule=!0,gi.OverlayBlock=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.container,i=e.cssClass,r=e.triggers;this.overlay=(0,n.default)(t).parent(),this.overlay.addClass(i),this.container=(0,n.default)(t).attr("role","document"),this.triggers=r,this.initTriggers(),this.initAppearance(),this.initCloseButton(),this.initOverlayPadding(),this.trapFocus(this.container)}var t=e.prototype;return t.initTriggers=function(){var e=this;this.triggers&&this.triggers.length&&this.triggers.on("click",(function(t){t.preventDefault(),e.activeTrigger=(0,n.default)(t.target).closest(e.triggers),e.show()}))},t.initAppearance=function(){var e=this;this.overlay.on("click",(function(t){(0,n.default)(t.target).closest(e.container)[0]||e.hide()})),this.overlay.on("click",".close-overlay",(function(t){t.preventDefault(),e.hide()})),this.overlay.on("keypress",(function(t){"escape"===t.key.toLowerCase()&&e.hide()})),(0,n.default)(window).on("resize",(function(){return e.checkContainerHeight()}))},t.initCloseButton=function(){this.overlay.find(".close-overlay").attr("data-pinger-ignore","true")},t.trapFocus=function(e){var t=(0,n.default)(e[0]).find('a:visible, button:visible, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'),i=t[0],r=t[t.length-1];(0,n.default)(e[0]).keydown((function(e){"tab"===e.key.toLowerCase()&&(e.shiftKey?document.activeElement===i&&(r.focus(),e.preventDefault()):document.activeElement===r&&(i.focus(),e.preventDefault()))}))},t.initOverlayPadding=function(){var t=this;e.controller.pageContainer.on("padding-added",(function(e,n){t.overlay.css("padding-right",n+"px")})),e.controller.pageContainer.on("padding-removed",(function(){t.overlay.css("padding-right","")}))},t.checkContainerHeight=function(){this.container.outerHeight()>(0,n.default)(window).height()?this.container.addClass("long"):this.container.removeClass("long")},t.show=function(){this.overlay.scrollTop(0).addClass("active"),this.checkContainerHeight(),e.controller.activate(this),this.container.trigger("overlay-active");var t=this.container.find(".dialog-focus");t.length&&t.focus()},t.hide=function(){this.overlay.removeClass("active"),e.controller.deactivate(this),this.activeTrigger&&(this.activeTrigger.focus(),this.activeTrigger=null),this.overlay.trigger("overlay-hide-called")},e}();gi.OverlayBlock=i,i.controller={activeBlocks:[],startIndex:10,init:function(){var e=this;this.pageContainer=(0,n.default)("body"),this.fakeScrollEl=(0,n.default)('<div class="fake-body-scroll">').appendTo(this.pageContainer),(0,n.default)(window).on("keydown",(function(t){if("escape"===t.key.toLowerCase()){var n=e.activeBlocks.length-1;-1!==n&&e.activeBlocks[n].hide()}})),(0,n.default)(window).on("resize",(function(){return e.handleContainerPadding()}))},activate:function(e){var t=this.activeBlocks.indexOf(e);-1!==t&&(this.activeBlocks.splice(t,1),this.rearrange()),this.activeBlocks.push(e),e.overlay.css("z-index",this.startIndex+this.activeBlocks.length),1===this.activeBlocks.length&&this.disableContainerScroll()},deactivate:function(e){var t=this.activeBlocks.indexOf(e);-1!==t&&(this.activeBlocks.splice(t,1),this.rearrange()),this.activeBlocks.length||this.enableContainerScroll()},rearrange:function(){var e=this;this.activeBlocks.forEach((function(t,n){return t.overlay.css("z-index",e.startIndex+n+1)}))},enableContainerScroll:function(){this.pageContainer.removeClass("no-scroll"),this.handleContainerPadding()},disableContainerScroll:function(){this.pageContainer.addClass("no-scroll"),this.handleContainerPadding()},handleContainerPadding:function(){var e=parseInt(this.pageContainer.css("padding-right"),10);if(this.pageContainer.css("padding-right",""),this.fakeScrollEl.hide(),this.pageContainer.hasClass("no-scroll")){this.pageContainer.removeClass("no-scroll");var t=this.pageContainer.outerWidth();this.pageContainer.addClass("no-scroll");var n=this.pageContainer.outerWidth()-t;n?(this.pageContainer.css("padding-right",n),this.fakeScrollEl.width(n).show(),n!==e&&this.pageContainer.trigger("padding-added",[n])):e&&this.pageContainer.trigger("padding-removed")}else e&&this.pageContainer.trigger("padding-removed")}},i.controller.init()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var vi=Ve("isConcatSpreadable"),yi=Nt>=51||!t((function(){var e=[];return e[vi]=!1,e.concat()[0]!==e})),bi=qt("concat"),wi=function(e){if(!p(e))return!1;var t=e[vi];return void 0!==t?!!t:je(e)};Ae({target:"Array",proto:!0,forced:!yi||!bi},{concat:function(e){var t,n,i,r,o,a=Pe(this),s=He(a,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(wi(o=-1===t?a:arguments[t])){if(l+(r=le(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,l++)n in o&&_t(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");_t(s,l++,o)}return s.length=l,s}});var Si=qe.filter,_i=qt("filter"),Ci=st("filter");Ae({target:"Array",proto:!0,forced:!_i||!Ci},{filter:function(e){return Si(this,e,arguments.length>1?arguments[1]:void 0)}});var ki=[].join,Ti=d!=Object,xi=dt("join",",");Ae({target:"Array",proto:!0,forced:Ti||!xi},{join:function(e){return ki.call(f(this),void 0===e?",":e)}});var Ei=qe.map,Di=qt("map"),Fi=st("map");Ae({target:"Array",proto:!0,forced:!Di||!Fi},{map:function(e){return Ei(this,e,arguments.length>1?arguments[1]:void 0)}});var Ii=Math.max,Ai=Math.min,Oi=Math.floor,Mi=/\$([$&'`]|\d\d?|<[^>]*>)/g,Pi=/\$([$&'`]|\d\d?)/g;zn("replace",2,(function(e,t,n,i){var r=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=i.REPLACE_KEEPS_$0,a=r?"$":"$0";return[function(n,i){var r=h(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!r&&o||"string"==typeof i&&-1===i.indexOf(a)){var l=n(t,e,this,i);if(l.done)return l.value}var c=k(e),u=String(this),d="function"==typeof i;d||(i=String(i));var h=c.global;if(h){var f=c.unicode;c.lastIndex=0}for(var p=[];;){var m=Jn(c,u);if(null===m)break;if(p.push(m),!h)break;""===String(m[0])&&(c.lastIndex=ei(u,le(c.lastIndex),f))}for(var g,v="",y=0,b=0;b<p.length;b++){m=p[b];for(var w=String(m[0]),S=Ii(Ai(ae(m.index),u.length),0),_=[],C=1;C<m.length;C++)_.push(void 0===(g=m[C])?g:String(g));var T=m.groups;if(d){var x=[w].concat(_,S,u);void 0!==T&&x.push(T);var E=String(i.apply(void 0,x))}else E=s(w,u,S,_,T,i);S>=y&&(v+=u.slice(y,S)+E,y=S+w.length)}return v+u.slice(y)}];function s(e,n,i,r,o,a){var s=i+e.length,l=r.length,c=Pi;return void 0!==o&&(o=Pe(o),c=Mi),t.call(a,c,(function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,i);case"'":return n.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>l){var d=Oi(u/10);return 0===d?t:d<=l?void 0===r[d-1]?a.charAt(1):r[d-1]+a.charAt(1):t}c=r[u-1]}return void 0===c?"":c}))}}));var ji={__esModule:!0,QueryDict:void 0},Li=function(){function e(e){void 0===e&&(e=[]),this.paramPairs="string"==typeof e?this.constructor.parseQueryString(e):e}var t=e.prototype;return t.getParam=function(e){var t=this.paramPairs.find((function(t){return t[0]===e}));return t&&this.constructor._decodeUndefined(t[1])},t.setParam=function(e,t){return this.setParamList(e,[t])},t.deleteParam=function(e){return this.paramPairs=this.paramPairs.filter((function(t){return t[0]!==e})),this},t.getParamList=function(e){var t=this;return this.paramPairs.filter((function(t){return t[0]===e})).map((function(e){return t.constructor._decodeUndefined(e[1])}))},t.setParamList=function(e,t){var n=[],i=t.map((function(t){return[e,t]})),r=!1;return this.paramPairs.forEach((function(t){t[0]!==e?n.push(t):r||(n=n.concat(i),r=!0)})),r||(n=n.concat(i)),this.paramPairs=n,this},e._decodeUndefined=function(e){return void 0===e?null:e},e.fromQueryString=function(e){return new this(e)},e.parseQueryString=function(e){return e?e.replace(/^\?/,"").split("&").map((function(e){var t=e.split("=");return 1===(t=t.map((function(e){return decodeURIComponent(e).replace(/\+/g," ")}))).length&&t.push(void 0),t})):[]},t.encodeURI=function(){return this.paramPairs.map((function(e){var t=e[0],n=e[1];return void 0===n?encodeURIComponent(t):encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&")},t.toString=function(){return this.encodeURI()},t.toObject=function(){var e={};return this.paramPairs.forEach((function(t){var n=t[0],i=t[1];Object.prototype.hasOwnProperty.call(e,n)||(e[n]=[]),e[n].push(i)})),e},t.toDict=function(){var e={};return this.paramPairs.forEach((function(t){var n=t[0],i=t[1];Object.prototype.hasOwnProperty.call(e,n)?e[n]=e[n]+","+i:e[n]=i})),e},e}();ji.QueryDict=Li;var Ri={};(function(e){(function(){"use strict";Ri.__esModule=!0,Ri.reportEvent=function(e,t,n){return void 0===n&&(n="PubMed Events"),i("send","event",n,e,t)},Ri.reportPageView=function(){return i("send","pageview")};var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(){var e=n.default.Deferred();if("function"!=typeof ncbi_global_ga)return e.resolve(),e.promise();for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];try{setTimeout(e.resolve,2e3),ncbi_global_ga.apply(void 0,i.concat([{hitCallback:e.resolve}]))}catch(a){var o="GA call failed. Arguments: "+i.join(", ");(0,ui.pingerErrorHandler)("stats-reporter",o),e.resolve()}return e.promise()}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ni={};(function(e){(function(){"use strict";Ni.__esModule=!0,Ni.DotsLoadingIndicator=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.template,i=e.container,r=e.before,o=e.after,a=e.width,s=e.height,l=e.color,c=e.className,u=e.activeClassName,d=void 0===u?"active":u;if(this.template=t||'<div class="dots-loading-indicator">\n        <div class="dot dot-1"></div>\n        <div class="dot dot-2"></div>\n        <div class="dot dot-3"></div>\n      </div>',i)this.el=(0,n.default)(this.template).appendTo(i);else if(r)this.el=(0,n.default)(this.template).insertBefore(r);else{if(!o)throw new Error('Please, specify "container", "before" or "after" in config');this.el=(0,n.default)(this.template).insertAfter(o)}this.el.width(a).height(s).addClass(c),this.el.children().width(s).height(s).css("background-color",l),this.activeClassName=d}var t=e.prototype;return t.show=function(){this.el.addClass(this.activeClassName)},t.hide=function(){this.el.removeClass(this.activeClassName)},t.destroy=function(){this.el.remove()},e}();Ni.DotsLoadingIndicator=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Yi=i.f,Bi=function(e){return function(t){for(var i,r=f(t),o=ze(r),a=o.length,s=0,l=[];a>s;)i=o[s++],n&&!Yi.call(r,i)||l.push(e?[i,r[i]]:r[i]);return l}},Vi={entries:Bi(!0),values:Bi(!1)}.entries;Ae({target:"Object",stat:!0},{entries:function(e){return Vi(e)}});Ae({target:"Object",stat:!0,forced:t((function(){ze(1)}))},{keys:function(e){return ze(Pe(e))}});var Ui,Hi={};Hi.__esModule=!0,Hi.AdjNavStorage=void 0;var Wi=((Ui=si)&&Ui.__esModule?Ui:{default:Ui}).default.getLogger("adj-nav-storage"),Qi=function(){function e(e){var t=e.maxAdjNavRecords,n=void 0===t?2e4:t,i=e.maxRecordLifetime,r=void 0===i?864e6:i,o=e.cleanupFrequency,a=void 0===o?864e5:o;this.maxAdjNavRecords=n,this.maxRecordLifetime=r,this.cleanupFrequency=a,this.storage=window.localStorage}var t=e.prototype;return t.getArticleAdjNavData=function(e,t,n){var i=this.storage.getItem("adjNavData");if(i)try{var r=(i=JSON.parse(i))[e+":"+t];if(!r)return;var o=r.url;return n||this.addToAdjNavData(e,t,o),o}catch(Ds){Wi.error("Cant get adjnavdata "+Ds)}},t.removeAdjNavData=function(){this.storage.removeItem("adjNavData"),this.storage.removeItem("adjNavDataLastCleanUpTime")},t.expireAdjNavData=function(){var e=this.storage.getItem("adjNavData");if(e){var t=Date.now(),n=this.storage.getItem("adjNavDataLastCleanUpTime");!n||t-n>this.cleanupFrequency||Object.keys(e).length>=this.maxAdjNavRecords?this.cleanUpAdjNavRecords(e,t):Wi.info("Skipping adjacent nav data clean up as not yet expired")}else Wi.info("No adjacent nav data to clean up")},t.paramValueValid=function(e){return 0==e||Boolean(e)},t.addToAdjNavData=function(e,t,n){this.expireAdjNavData();var i=this.storage.getItem("adjNavData");i=i?JSON.parse(i):{},this.paramValueValid(e)&&this.paramValueValid(t)&&this.paramValueValid(n)?(i[e+":"+t]={url:n,timestamp:Date.now()},this.storage.setItem("adjNavData",JSON.stringify(i))):Wi.warn("Cant add adj nav data as not all required params specified")},t.cleanUpAdjNavRecords=function(e,t){for(var n=JSON.parse(e),i=[],r=[],o=0,a=Object.entries(n);o<a.length;o++){var s=a[o],l=s[0],c=s[1],u=c.timestamp;t-c.timestamp>this.maxRecordLifetime?i.push(l):r.push(u)}if(i.forEach((function(e){return delete n[e]})),r.length>this.maxAdjNavRecords){r.sort();for(var d=r.length-1,h=r[d-Math.floor(3*d/4)],f=[],p=0,m=Object.entries(n);p<m.length;p++){var g=m[p],v=g[0];g[1].timestamp<h&&f.push(v)}f.forEach((function(e){return delete n[e]}))}this.storage.setItem("adjNavDataLastCleanUpTime",t),this.storage.setItem("adjNavData",JSON.stringify(n)),Wi.info("Cleaned up adjacent nav data "+i.length+" entries")},e}();Hi.AdjNavStorage=Qi,zn("match",1,(function(e,t,n){return[function(t){var n=h(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var r=k(e),o=String(this);if(!r.global)return Jn(r,o);var a=r.unicode;r.lastIndex=0;for(var s,l=[],c=0;null!==(s=Jn(r,o));){var u=String(s[0]);l[c]=u,""===u&&(r.lastIndex=ei(o,le(r.lastIndex),a)),c++}return 0===c?null:l}]}));var qi=Object.assign,zi=Object.defineProperty,Gi=!qi||t((function(){if(n&&1!==qi({b:1},qi(zi({},"a",{enumerable:!0,get:function(){zi(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol();return e[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=qi({},e)[i]||"abcdefghijklmnopqrst"!=ze(qi({},t)).join("")}))?function(e,t){for(var r=Pe(e),o=arguments.length,a=1,s=be.f,l=i.f;o>a;)for(var c,u=d(arguments[a++]),h=s?ze(u).concat(s(u)):ze(u),f=h.length,p=0;f>p;)c=h[p++],n&&!l.call(u,c)||(r[c]=u[c]);return r}:qi;Ae({target:"Object",stat:!0,forced:Object.assign!==Gi},{assign:Gi});var Ji,$i={exports:{}};Ji=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.css=t.deepExtend=t.animationEndEvents=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.inArray=function(e,t,n){var i=void 0;if(n){for(i in t)if(t.hasOwnProperty(i)&&t[i]===e)return!0}else for(i in t)if(t.hasOwnProperty(i)&&t[i]===e)return!0;return!1},t.stopPropagation=function(e){void 0!==(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.generateID=function(){var e="noty_"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"_";return e+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.outerHeight=function(e){var t=e.offsetHeight,n=window.getComputedStyle(e);return t+(parseInt(n.marginTop)+parseInt(n.marginBottom))},t.addListener=o,t.hasClass=a,t.addClass=function(e,t){var n=l(e),i=n+t;a(n,t)||(e.className=i.substring(1))},t.removeClass=function(e,t){var n=l(e),i=void 0;a(e,t)&&(i=n.replace(" "+t+" "," "),e.className=i.substring(1,i.length-1))},t.remove=s,t.classList=l,t.visibilityChangeFlow=function(){var e=void 0,t=void 0;function n(){r.PageHidden?setTimeout((function(){Object.keys(r.Store).forEach((function(e){r.Store.hasOwnProperty(e)&&r.Store[e].options.visibilityControl&&r.Store[e].stop()}))}),100):setTimeout((function(){Object.keys(r.Store).forEach((function(e){r.Store.hasOwnProperty(e)&&r.Store[e].options.visibilityControl&&r.Store[e].resume()})),r.queueRenderAll()}),100)}void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&o(document,t,(function(){r.PageHidden=document[e],n()})),o(window,"blur",(function(){r.PageHidden=!0,n()})),o(window,"focus",(function(){r.PageHidden=!1,n()}))},t.createAudioElements=function(e){if(e.hasSound){var t=document.createElement("audio");e.options.sounds.sources.forEach((function(e){var n=document.createElement("source");n.src=e,n.type="audio/"+e.match(/\.([^.]+)$/)[1],t.appendChild(n)})),e.barDom?e.barDom.appendChild(t):document.querySelector("body").appendChild(t),t.volume=e.options.sounds.volume,e.soundPlayed||(t.play(),e.soundPlayed=!0),t.onended=function(){s(t)}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function o(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.split(" ");for(var r=0;r<t.length;r++)document.addEventListener?e.addEventListener(t[r],n,i):document.attachEvent&&e.attachEvent("on"+t[r],n)}function a(e,t){return("string"==typeof e?e:l(e)).indexOf(" "+t+" ")>=0}function s(e){e.parentNode&&e.parentNode.removeChild(e)}function l(e){return(" "+(e&&e.className||"")+" ").replace(/\s+/gi," ")}t.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t.deepExtend=function e(t){t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)r.hasOwnProperty(o)&&(Array.isArray(r[o])?t[o]=r[o]:"object"===i(r[o])&&null!==r[o]?t[o]=e(t[o],r[o]):t[o]=r[o])}return t},t.css=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n,i,r){var o;o=(o=i).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()})),i=t[o]||(t[o]=function(t){var n=document.body.style;if(t in n)return t;for(var i=e.length,r=t.charAt(0).toUpperCase()+t.slice(1),o=void 0;i--;)if((o=e[i]+r)in n)return o;return t}(o)),n.style[i]=r}return function(e,t){var i=arguments,r=void 0,o=void 0;if(2===i.length)for(r in t)t.hasOwnProperty(r)&&void 0!==(o=t[r])&&t.hasOwnProperty(r)&&n(e,r,o);else n(e,i[1],i[2])}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults=t.Store=t.Queues=t.DefaultMaxVisible=t.docTitle=t.DocModalCount=t.PageHidden=void 0,t.getQueueCounts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=0,n=s;return l.hasOwnProperty(e)&&(n=l[e].maxVisible,Object.keys(c).forEach((function(n){c[n].options.queue!==e||c[n].closed||t++}))),{current:t,maxVisible:n}},t.addToQueue=function(e){l.hasOwnProperty(e.options.queue)||(l[e.options.queue]={maxVisible:s,queue:[]}),l[e.options.queue].queue.push(e)},t.removeFromQueue=function(e){if(l.hasOwnProperty(e.options.queue)){var t=[];Object.keys(l[e.options.queue].queue).forEach((function(n){l[e.options.queue].queue[n].id!==e.id&&t.push(l[e.options.queue].queue[n])})),l[e.options.queue].queue=t}},t.queueRender=u,t.queueRenderAll=function(){Object.keys(l).forEach((function(e){u(e)}))},t.ghostFix=function(e){var t=i.generateID("ghost"),n=document.createElement("div");n.setAttribute("id",t),i.css(n,{height:i.outerHeight(e.barDom)+"px"}),e.barDom.insertAdjacentHTML("afterend",n.outerHTML),i.remove(e.barDom),n=document.getElementById(t),i.addClass(n,"noty_fix_effects_height"),i.addListener(n,i.animationEndEvents,(function(){i.remove(n)}))},t.build=function(e){!function(e){if(e.options.container)e.layoutDom=document.querySelector(e.options.container);else{var t="noty_layout__"+e.options.layout;e.layoutDom=document.querySelector("div#"+t),e.layoutDom||(e.layoutDom=document.createElement("div"),e.layoutDom.setAttribute("id",t),e.layoutDom.setAttribute("role","alert"),e.layoutDom.setAttribute("aria-live","polite"),i.addClass(e.layoutDom,"noty_layout"),document.querySelector("body").appendChild(e.layoutDom))}}(e);var t='<div class="noty_body">'+e.options.text+"</div>"+function(e){if(d(e)){var t=document.createElement("div");return i.addClass(t,"noty_buttons"),Object.keys(e.options.buttons).forEach((function(n){t.appendChild(e.options.buttons[n].dom)})),e.options.buttons.forEach((function(e){t.appendChild(e.dom)})),t.outerHTML}return""}(e)+'<div class="noty_progressbar"></div>';e.barDom=document.createElement("div"),e.barDom.setAttribute("id",e.id),i.addClass(e.barDom,"noty_bar noty_type__"+e.options.type+" noty_theme__"+e.options.theme),e.barDom.innerHTML=t,p(e,"onTemplate")},t.hasButtons=d,t.handleModal=function(e){var n,o;e.options.modal&&(0===r&&(n=document.querySelector("body"),o=document.createElement("div"),i.addClass(o,"noty_modal"),n.insertBefore(o,n.firstChild),i.addClass(o,"noty_modal_open"),i.addListener(o,i.animationEndEvents,(function(){i.removeClass(o,"noty_modal_open")}))),t.DocModalCount=r+=1)},t.handleModalClose=function(e){if(e.options.modal&&r>0&&(t.DocModalCount=r-=1,r<=0)){var n=document.querySelector(".noty_modal");n&&(i.removeClass(n,"noty_modal_open"),i.addClass(n,"noty_modal_close"),i.addListener(n,i.animationEndEvents,(function(){i.remove(n)})))}},t.queueClose=h,t.dequeueClose=f,t.fire=p,t.openFlow=function(e){p(e,"afterShow"),h(e),i.addListener(e.barDom,"mouseenter",(function(){f(e)})),i.addListener(e.barDom,"mouseleave",(function(){h(e)}))},t.closeFlow=function(e){delete c[e.id],e.closing=!1,p(e,"afterClose"),i.remove(e.barDom),0!==e.layoutDom.querySelectorAll(".noty_bar").length||e.options.container||i.remove(e.layoutDom),(i.inArray("docVisible",e.options.titleCount.conditions)||i.inArray("docHidden",e.options.titleCount.conditions))&&a.decrement(),u(e.options.queue)};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.PageHidden=!1;var r=t.DocModalCount=0,o={originalTitle:null,count:0,changed:!1,timer:-1},a=t.docTitle={increment:function(){o.count++,a._update()},decrement:function(){o.count--,o.count<=0?a._clear():a._update()},_update:function(){var e=document.title;o.changed?document.title="("+o.count+") "+o.originalTitle:(o.originalTitle=e,document.title="("+o.count+") "+e,o.changed=!0)},_clear:function(){o.changed&&(o.count=0,document.title=o.originalTitle,o.changed=!1)}},s=t.DefaultMaxVisible=5,l=t.Queues={global:{maxVisible:s,queue:[]}},c=t.Store={};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";if(l.hasOwnProperty(e)){var t=l[e].queue.shift();t&&t.show()}}function d(e){return!(!e.options.buttons||!Object.keys(e.options.buttons).length)}function h(e){e.options.timeout&&(e.options.progressBar&&e.progressDom&&i.css(e.progressDom,{transition:"width "+e.options.timeout+"ms linear",width:"0%"}),clearTimeout(e.closeTimer),e.closeTimer=setTimeout((function(){e.close()}),e.options.timeout))}function f(e){e.options.timeout&&e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=-1,e.options.progressBar&&e.progressDom&&i.css(e.progressDom,{transition:"width 0ms linear",width:"100%"}))}function p(e,t){e.listeners.hasOwnProperty(t)&&e.listeners[t].forEach((function(t){"function"==typeof t&&t.apply(e)}))}t.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onClick:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotyButton=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.NotyButton=function e(t,n,r){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=document.createElement("button"),this.dom.innerHTML=t,this.id=a.id=a.id||i.generateID("button"),this.cb=r,Object.keys(a).forEach((function(e){o.dom.setAttribute(e,a[e])})),i.addClass(this.dom,n||"noty_btn"),this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Push=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subData={},this.workerPath=t,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}return i(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof t&&this.listeners.hasOwnProperty(e)&&this.listeners[e].push(t),this}},{key:"fire",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.listeners.hasOwnProperty(e)&&this.listeners[e].forEach((function(e){"function"==typeof e&&e.apply(t,n)}))}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var e=!1;try{e=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(t){}return e}},{key:"getPermissionStatus",value:function(){var e="default";if(window.Notification&&window.Notification.permissionLevel)e=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:e="default";break;case 0:e="granted";break;default:e="denied"}else window.Notification&&window.Notification.permission?e=window.Notification.permission:navigator.mozNotification?e="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(e=window.external.msIsSiteMode()?"granted":"default");return e.toString().toLowerCase()}},{key:"getEndpoint",value:function(e){var t=e.endpoint,n=e.subscriptionId;return n&&-1===t.indexOf(n)&&(t+="/"+n),t}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(e){return!1}}},{key:"unregisterWorker",value:function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.unregister(),e.fire("onSubscriptionCancel")}catch(s){i=!0,r=s}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}))}},{key:"requestSubscription",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this,i=this.getPermissionStatus(),r=function(i){"granted"===i?(e.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(e.workerPath).then((function(){navigator.serviceWorker.ready.then((function(e){n.fire("onWorkerSuccess"),e.pushManager.subscribe({userVisibleOnly:t}).then((function(e){var t=e.getKey("p256dh"),i=e.getKey("auth");n.subData={endpoint:n.getEndpoint(e),p256dh:t?window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))):null,auth:i?window.btoa(String.fromCharCode.apply(null,new Uint8Array(i))):null},n.fire("onSubscriptionSuccess",[n.subData])})).catch((function(e){n.fire("onWorkerError",[e])}))}))})):n.fire("onWorkerNotSupported")):"denied"===i&&(e.fire("onPermissionDenied"),e.unregisterWorker())};"default"===i?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(r):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(r):r(i)}}]),e}()},function(e,t,n){(function(t,i){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,l=function(e,t){m[o]=e,m[o+1]=t,2===(o+=2)&&(s?s(g):S())},c="undefined"!=typeof window?window:void 0,u=c||{},d=u.MutationObserver||u.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var m=new Array(1e3);function g(){for(var e=0;e<o;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;o=0}var v,y,b,w,S=void 0;function _(e,t){var n=arguments,i=this,r=new this.constructor(T);void 0===r[k]&&Y(r);var o,a=i._state;return a?(o=n[a-1],l((function(){return R(a,r,o,i._result)}))):M(i,r,e,t),r}function C(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return F(t,e),t}h?S=function(){return t.nextTick(g)}:d?(y=0,b=new d(g),w=document.createTextNode(""),b.observe(w,{characterData:!0}),S=function(){w.data=y=++y%2}):f?((v=new MessageChannel).port1.onmessage=g,S=function(){return v.port2.postMessage(0)}):S=void 0===c?function(){try{var e=n(9);return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(g)}:p()}catch(t){return p()}}():p();var k=Math.random().toString(36).substring(16);function T(){}var x=new j;function E(e){try{return e.then}catch(Ds){return x.error=Ds,x}}function D(t,n,i){n.constructor===t.constructor&&i===_&&n.constructor.resolve===C?function(e,t){1===t._state?A(e,t._result):2===t._state?O(e,t._result):M(t,void 0,(function(t){return F(e,t)}),(function(t){return O(e,t)}))}(t,n):i===x?(O(t,x.error),x.error=null):void 0===i?A(t,n):e(i)?function(e,t,n){l((function(e){var i=!1,r=function(n,r,o,a){try{n.call(r,(function(n){i||(i=!0,t!==n?F(e,n):A(e,n))}),(function(t){i||(i=!0,O(e,t))}))}catch(s){return s}}(n,t,0,0,e._label);!i&&r&&(i=!0,O(e,r))}),e)}(t,n,i):A(t,n)}function F(e,t){var n,i;e===t?O(e,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=t),null===n||"object"!==i&&"function"!==i?A(e,t):D(e,t,E(t)))}function I(e){e._onerror&&e._onerror(e._result),P(e)}function A(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&l(P,e))}function O(e,t){void 0===e._state&&(e._state=2,e._result=t,l(I,e))}function M(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+1]=n,r[o+2]=i,0===o&&e._state&&l(P,e)}function P(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?R(n,i,r,o):r(o);e._subscribers.length=0}}function j(){this.error=null}var L=new j;function R(t,n,i,r){var o=e(i),a=void 0,s=void 0,l=void 0,c=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(n){return L.error=n,L}}(i,r))===L?(c=!0,s=a.error,a.error=null):l=!0,n===a)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else a=r,l=!0;void 0!==n._state||(o&&l?F(n,a):c?O(n,s):1===t?A(n,a):2===t&&O(n,a))}var N=0;function Y(e){e[k]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}function B(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[k]||Y(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&A(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}function V(e){this[k]=N++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof V?function(e,t){try{t((function(t){F(e,t)}),(function(t){O(e,t)}))}catch(n){O(e,n)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return B.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},B.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===C){var r=E(e);if(r===_&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===V){var o=new n(T);D(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},B.prototype._settledAt=function(e,t,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===e?O(i,n):this._result[t]=n),0===this._remaining&&A(i,this._result)},B.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},V.all=function(e){return new B(this,e).promise},V.race=function(e){var t=this;return r(e)?new t((function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},V.resolve=C,V.reject=function(e){var t=new this(T);return O(t,e),t},V._setScheduler=function(e){s=e},V._setAsap=function(e){l=e},V._asap=l,V.prototype={constructor:V,then:_,catch:function(e){return this.then(null,e)}},V.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(r){}if("[object Promise]"===n&&!t.cast)return}e.Promise=V},V.Promise=V,V},e.exports=r()}).call(t,n(7),n(8))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(5);var r,o=(r=n(4))&&r.__esModule?r:{default:r},a=u(n(0)),s=u(n(1)),l=n(2),c=n(3);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=a.deepExtend({},s.Defaults,t),this.id=this.options.id||a.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||this.options.closeWith.length>0,this.hasSound=this.options.sounds.sources.length>0,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this}return i(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof t&&this.listeners.hasOwnProperty(e)&&this.listeners[e].push(t),this}},{key:"show",value:function(){var t=this;!0===this.options.killer?e.closeAll():"string"==typeof this.options.killer&&e.closeAll(this.options.killer);var n=s.getQueueCounts(this.options.queue);if(n.current>=n.maxVisible||s.PageHidden&&this.options.visibilityControl)return s.addToQueue(this),s.PageHidden&&this.hasSound&&a.inArray("docHidden",this.options.sounds.conditions)&&a.createAudioElements(this),s.PageHidden&&a.inArray("docHidden",this.options.titleCount.conditions)&&s.docTitle.increment(),this;if(s.Store[this.id]=this,s.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(s.build(this),s.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&a.inArray("docVisible",this.options.sounds.conditions)&&a.createAudioElements(this),a.inArray("docVisible",this.options.titleCount.conditions)&&s.docTitle.increment(),this.shown=!0,this.closed=!1,s.hasButtons(this)&&Object.keys(this.options.buttons).forEach((function(e){var n=t.barDom.querySelector("#"+t.options.buttons[e].id);a.addListener(n,"click",(function(n){a.stopPropagation(n),t.options.buttons[e].cb()}))})),this.progressDom=this.barDom.querySelector(".noty_progressbar"),a.inArray("click",this.options.closeWith)&&(a.addClass(this.barDom,"noty_close_with_click"),a.addListener(this.barDom,"click",(function(e){a.stopPropagation(e),s.fire(t,"onClick"),t.close()}),!1)),a.addListener(this.barDom,"mouseenter",(function(){s.fire(t,"onHover")}),!1),this.options.timeout&&a.addClass(this.barDom,"noty_has_timeout"),this.options.progressBar&&a.addClass(this.barDom,"noty_has_progressbar"),a.inArray("button",this.options.closeWith)){a.addClass(this.barDom,"noty_close_with_button");var i=document.createElement("div");a.addClass(i,"noty_close_button"),i.innerHTML="\xd7",this.barDom.appendChild(i),a.addListener(i,"click",(function(e){a.stopPropagation(e),t.close()}),!1)}return s.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new o.default((function(e){e()})):"function"==typeof this.options.animation.open?this.promises.show=new o.default(this.options.animation.open.bind(this)):(a.addClass(this.barDom,this.options.animation.open),this.promises.show=new o.default((function(e){a.addListener(t.barDom,a.animationEndEvents,(function(){a.removeClass(t.barDom,t.options.animation.open),e()}))}))),this.promises.show.then((function(){var e=t;setTimeout((function(){s.openFlow(e)}),100)})),this}},{key:"stop",value:function(){return s.dequeueClose(this),this}},{key:"resume",value:function(){return s.queueClose(this),this}},{key:"setTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){if(this.stop(),this.options.timeout=e,this.barDom){this.options.timeout?a.addClass(this.barDom,"noty_has_timeout"):a.removeClass(this.barDom,"noty_has_timeout");var t=this;setTimeout((function(){t.resume()}),100)}return this}))},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=e),t&&(this.options.text=e),this}},{key:"setType",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(a.classList(this.barDom).split(" ").forEach((function(e){"noty_type__"===e.substring(0,11)&&a.removeClass(t.barDom,e)})),a.addClass(this.barDom,"noty_type__"+e)),n&&(this.options.type=e),this}},{key:"setTheme",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(a.classList(this.barDom).split(" ").forEach((function(e){"noty_theme__"===e.substring(0,12)&&a.removeClass(t.barDom,e)})),a.addClass(this.barDom,"noty_theme__"+e)),n&&(this.options.theme=e),this}},{key:"close",value:function(){var e=this;return this.closed?this:this.shown?(s.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close?this.promises.close=new o.default((function(e){e()})):"function"==typeof this.options.animation.close?this.promises.close=new o.default(this.options.animation.close.bind(this)):(a.addClass(this.barDom,this.options.animation.close),this.promises.close=new o.default((function(t){a.addListener(e.barDom,a.animationEndEvents,(function(){e.options.force?a.remove(e.barDom):s.ghostFix(e),t()}))}))),this.promises.close.then((function(){s.closeFlow(e),s.handleModalClose(e)})),this.closed=!0,this):(s.removeFromQueue(this),this)}}],[{key:"closeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(s.Store).forEach((function(t){e?s.Store[t].options.queue===e&&s.Store[t].killable&&s.Store[t].close():s.Store[t].killable&&s.Store[t].close()})),this}},{key:"overrideDefaults",value:function(e){return s.Defaults=a.deepExtend({},s.Defaults,e),this}},{key:"setMaxVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DefaultMaxVisible,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return s.Queues.hasOwnProperty(t)||(s.Queues[t]={maxVisible:e,queue:[]}),s.Queues[t].maxVisible=e,this}},{key:"button",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new l.NotyButton(e,t,n,i)}},{key:"version",value:function(){return"3.1.4"}},{key:"Push",value:function(e){return new c.Push(e)}}]),e}();t.default=d,a.visibilityChangeFlow(),e.exports=t.default},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(i){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){}])},"object"==typeof $i.exports?$i.exports=Ji():"function"==typeof define&&define.amd?define("Noty",[],Ji):"object"==typeof $i.exports?$i.exports.Noty=Ji():this.Noty=Ji(),$i=$i.exports;var Ki,Zi={__esModule:!0,Notification:void 0},Xi=(Ki=$i)&&Ki.__esModule?Ki:{default:Ki},er={options:{layout:"center",theme:"uswdsTheme",animation:{open:"animated fade-in-down",close:"animated fade-out-up"},callbacks:{onShow:function(){this.layoutDom.classList.add("notification"),this.layoutDom.setAttribute("role","alert"),this.layoutDom.setAttribute("aria-live","assertive"),this.barDom.classList.add("uswdsTheme")}},timeout:5e3},notify:function(e,t){new Xi.default(Object.assign({text:e,type:t},er.options)).show()},info:function(e){return er.notify(e,"information")},warning:function(e){return er.notify(e,"warning")},error:function(e){return er.notify(e,"error")}};Zi.Notification=er;var tr={};(function(e){(function(){"use strict";tr.__esModule=!0,tr.ExtendedArticleDetails=void 0;var t=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(si).default.getLogger("authors-details"),o=function(){function e(e){var t=e.container,n=e.trigger,i=e.fetchedAuthorsPlaceholder,r=e.affiliationLinks,o=e.windowScrollElement,a=e.navigationOffset,s=void 0===a?0:a,l=e.animationDuration,c=void 0===l?300:l,u=e.highlightDuration,d=void 0===u?3e3:u,h=e.updateUrl,f=void 0===h||h,p=e.isDesktop,m=void 0===p||p;this.container=t,this.trigger=n,this.fetchedAuthorsPlaceholder=i,this.windowScrollElement=o,this.navigationOffset=s,this.animationDuration=c,this.highlightDuration=d,this.affiliationIdRegex=/^#.*affiliation-\d+$/,this.updateUrl=f,this.isDesktop=m,this.affiliationLinks=r,this.expandLoadingIndicator=new Ni.DotsLoadingIndicator({container:this.trigger.eq(0),className:"loading-indicator"}),this.handleAffiliationInUrl(),this.initToggleAuthors(),this.initAffiliationLinks()}var n,o,a=e.prototype;return a.initToggleAuthors=function(){var e=this;this.trigger.on("click",(function(t){t.preventDefault(),e.toggleAuthorsDetails()}))},a.initAffiliationLinks=function(){var e=this;this.affiliationLinks.on("click",(function(t){t.preventDefault(),e.isAuthorAffiliationsAndDetailsExpanded?e.scrollToAffiliation(t.target.hash):e.toggleAuthorsDetails((function(){return e.scrollToAffiliation(t.target.hash)}),e.animationDuration)}))},a.getAffiliationElement=function(e){var t=e.replace("#","");return this.container.find("[data-affiliation-id='"+t+"']")},a.handleAffiliationInUrl=function(){var e=this;this.trigger.is(":visible")&&window.location.hash.match(this.affiliationIdRegex)&&(this.isAuthorAffiliationsAndDetailsExpanded?this.scrollToAffiliation(window.location.hash):this.toggleAuthorsDetails((function(){return e.scrollToAffiliation(window.location.hash)}),this.animationDuration))},a.toggleAuthorsDetails=function(e,n){var i=this;if(void 0===e&&(e=t.default.noop),void 0===n&&(n=0),!this.trigger.data("fetch-started")){var r=t.default.Deferred();if(this.fetchedAuthorsPlaceholder&&this.fetchedAuthorsPlaceholder.length){var o=this.trigger.data("fetch-url")+"?isDesktop="+this.isDesktop;this.trigger.data("id-prefix")&&(o=o+"&idPrefix="+this.trigger.data("id-prefix")),this.trigger.data("fetch-started","true"),this.trigger.find(".title").hide(),this.expandLoadingIndicator.show(),t.default.ajax(o).done((function(e){var n=(0,t.default)(e);i.fetchedAuthorsPlaceholder.replaceWith(n),i.isDesktop?i.container=n:(i.affiliationLinks=i.container.find(".affiliation-link"),i.initAffiliationLinks()),i.fetchedAuthorsPlaceholder=null,r.resolve(),i.container.trigger("new-html-loaded",[n])})).fail((function(){Zi.Notification.error("Failed to fetch full authors."),r.reject()})).always((function(){i.trigger.data("fetch-started",""),i.expandLoadingIndicator.hide(),i.trigger.find(".title").show()}))}else r.resolve();r.done((function(){var t="true"===i.container.attr("aria-hidden");i.container.toggle(n,e).attr("aria-hidden",(!t).toString());var r=i.trigger.find(".title").text(),o=i.trigger.data("alt-text"),a=i.isAuthorAffiliationsAndDetailsExpanded;i.trigger.data("alt-text",r).attr("aria-expanded",(!a).toString()).toggleClass("active",!a),i.trigger.find(".title").text(o),(0,Ri.reportEvent)(a?"collapse":"expand","","author_link")}))}},a.scrollToAffiliation=function(e){var t=this.getAffiliationElement(e),n=t.offset().top;this.navigationOffset&&(n-="function"==typeof this.navigationOffset?this.navigationOffset():this.navigationOffset),this.windowScrollElement.stop(!0,!1).animate({scrollTop:n},this.animationDuration),t.addClass("target"),setTimeout((function(){return t.removeClass("target")}),this.highlightDuration),r.debug("Scrolled to affiliation. Affiliation offset (top): "+n+"px."),this.updateUrl&&(window.location.hash="#"+t.data("affiliation-id"))},n=e,(o=[{key:"isAuthorAffiliationsAndDetailsExpanded",get:function(){return"true"===this.trigger.attr("aria-expanded")}}])&&i(n.prototype,o),e}();tr.ExtendedArticleDetails=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var nr={__esModule:!0,GrantsList:void 0},ir=function(){function e(e){var t=e.showAllButton,n=e.listToShow;this.showAllButton=t,this.listToShow=n,this.initShowAllButton()}return e.prototype.initShowAllButton=function(){var e=this;this.showAllButton.on("click",(function(){e.listToShow.show(),e.showAllButton.parent().hide()}))},e}();nr.GrantsList=ir;var rr={};(function(e){(function(){"use strict";rr.__esModule=!0,rr.AbstractList=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.abstractLanguages,n=e.abstractItems,i=e.container;this.abstractLanguages=t,this.abstractItems=n,this.container=i,this.initShowHideAbstracts()}return e.prototype.initShowHideAbstracts=function(){this.abstractLanguages.on("click",(function(e){e.preventDefault();var t=(0,n.default)(e.target).closest(".abstract"),i=(0,n.default)(e.target).attr("href");t.find(i).addClass("selected").siblings().removeClass("selected"),(0,n.default)(e.target).addClass("selected"),(0,n.default)(e.target).siblings().removeClass("selected")}))},e}();rr.AbstractList=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var or=function(e){return function(t,n,i,r){Oe(n);var o=Pe(t),a=d(o),s=le(o.length),l=e?s-1:0,c=e?-1:1;if(i<2)for(;;){if(l in a){r=a[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in a&&(r=n(r,a[l],l,o));return r}},ar={left:or(!1),right:or(!0)},sr="process"==c(e.process),lr=ar.left,cr=dt("reduce"),ur=st("reduce",{1:0});Ae({target:"Array",proto:!0,forced:!cr||!ur||!sr&&Nt>79&&Nt<83},{reduce:function(e){return lr(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var dr={};function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}dr.__esModule=!0,dr.BasePersistentFiltersStorage=void 0;var pr=function(){function e(e){this.storage=window.localStorage,this.filtersStorageKey=e}var t,n,i=e.prototype;return i.setFiltersData=function(e,t){void 0===t&&(t=!0),e&&e.length?(t&&this.convertFilterKeysToNew(e),this.storage.setItem(this.filtersStorageKey,JSON.stringify(e))):this.storage.removeItem(this.filtersStorageKey)},i.removeFiltersData=function(){this.storage.removeItem(this.filtersStorageKey)},i.convertFilterKeysToNew=function(e){var t=!1;if(!e||!e.length)return t;for(var n,i=[],r=[],o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return hr(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(n=o()).done;){var a=n.value;if(a&&a.value){var s=a.value.replace("ds1.","datesearch.").replace("species.","hum_ani.").replace("language.","lang.");s!==a.value&&(t=!0,a.value=s),-1===i.indexOf(s)&&(i.push(s),r.push(a))}}return e.splice(0,e.length),e.splice.apply(e,[0,0].concat(r)),t},t=e,(n=[{key:"filtersData",get:function(){var e=this.storage.getItem(this.filtersStorageKey);if(e){var t=JSON.parse(e);return this.convertFilterKeysToNew(t)&&this.setFiltersData(t,!1),t}return[]}},{key:"filtersTitlesLine",get:function(){var e=this.filtersData;return e&&e.length?e.map((function(e){return e.title})).reduce((function(e,t){return e+", "+t})):null}},{key:"filterSearchParamValues",get:function(){var e=this.filtersData;return e&&e.length?e.map((function(e){return"&filter="+e.value})).reduce((function(e,t){return""+e+t})):null}}])&&fr(t.prototype,n),e}();dr.BasePersistentFiltersStorage=pr;var mr={__esModule:!0,PersistentFiltersStorage:void 0},gr=function(e){var t,n;function i(){return e.call(this,"pm-filters-by")||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(dr.BasePersistentFiltersStorage);mr.PersistentFiltersStorage=gr;var vr={};(function(e){(function(){"use strict";vr.__esModule=!0,vr.goToUrlWithFilters=function(e,t){void 0===t&&(t=!1);var i=new mr.PersistentFiltersStorage,r=(0,n.default)(e).attr("data-href"),o=i.filterSearchParamValues;o&&(t&&(o=o.replace("&","?")),r=""+r+o),"/"===r.charAt(0)?window.location.href=r:Zi.Notification.error("An error has occurred. Please reload the page.")};var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var yr={};(function(e){(function(){"use strict";yr.__esModule=!0,yr.DropdownBlock=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.target,i=e.container,r=e.wrapperClassName,o=void 0===r?"dropdown-block":r,a=e.dropdownClassName,s=void 0===a?"dropdown-container":a,l=e.wrap,c=void 0===l||l,u=e.toggleOnHover,d=void 0===u||u,h=e.toggleOnClick,f=void 0===h||h,p=e.flipCloseToViewportEnd,m=void 0!==p&&p,g=e.targetClassName,v=void 0===g?null:g;this.target=(0,n.default)(t),this.container=(0,n.default)(i).addClass(s),this.targetClassName=v,c?(this.wrapper=this.target.wrap("<div>").parent(),this.container.appendTo(this.wrapper)):this.wrapper=null,this.target.parent().addClass(o),this.toggleOnHover=d,this.toggleOnClick=f,this.shouldFlip=m,this.initAppearance()}var t=e.prototype;return t.initAppearance=function(){var e,t=this;this.toggleOnHover&&(this.target.add(this.container).on("mouseenter",(function(){clearTimeout(e),t.show()})),this.target.add(this.container).on("mouseleave",(function(){e=setTimeout((function(){t.container.removeClass("active")}),250)}))),this.toggleOnClick&&(this.target.on("click",(function(e){return t.toggleOnClickHandler(e)})),(0,n.default)("body").on("click",(function(e){var i=(0,n.default)(e.target);i.closest(t.target).length||i.closest(t.container).length||t.hide()}))),this.container.on("keydown",(function(e){var i=(0,n.default)(e.currentTarget).find('a:visible, button:visible, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'),r=i[i.length-1];9===e.keyCode&&document.activeElement===r?t.hide():"escape"===e.key.toLowerCase()&&t.target.focus()})),(0,n.default)(window).on("keydown",(function(e){"escape"===e.key.toLowerCase()&&t.hide()}))},t.toggleOnClickHandler=function(e){if(e.preventDefault(),this.isDisplayed(e))this.hide();else{if(this.shouldFlip){var t=this.container.height();window.innerHeight-e.currentTarget.getBoundingClientRect().bottom<t+30?this.container.addClass("flipped"):this.container.removeClass("flipped")}this.show()}},t.isDisplayed=function(e){return!(!this.container.hasClass("active")||this.targetClassName&&(0,n.default)(e.currentTarget).hasClass(this.targetClassName))},t.show=function(){this.target.addClass("active"),this.target.attr("aria-expanded","true"),this.container.addClass("active"),this.container.trigger("dropdown-active"),this.container.attr("aria-hidden","false")},t.hide=function(){this.target.removeClass("active"),this.target.attr("aria-expanded","false"),this.container.removeClass("active"),this.container.trigger("dropdown-not-active"),this.container.attr("aria-hidden","true")},e}();yr.DropdownBlock=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var br={};(function(e){(function(){"use strict";br.__esModule=!0,br.MoreActionsDropdownBlock=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(){return e.apply(this,arguments)||this}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r.prototype.initAppearance=function(){var t=this;e.prototype.initAppearance.call(this),this.toggleOnClick&&this.container.find(".dropdown-block-link").on("click",(function(e){(0,n.default)(e.target).closest(t.container)&&t.hide()}))},r}(yr.DropdownBlock);br.MoreActionsDropdownBlock=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wr={};(function(e){(function(){"use strict";wr.__esModule=!0,wr.ArticleSearchActionsDropdown=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e,t,n,i,r){this.searchFormTermInput=t,this.filtersStorage=r,this.initArticleSearchActions(e,n,i)}var t=e.prototype;return t.initAddToSearchLink=function(e){var t=this;e.find(".add-to-search-link").on("click",(function(e){var i=(0,n.default)(e.currentTarget).attr("data-search-term");return t.searchFormTermInput.trigger("populate-search-input",[i]),!1}))},t.initSearchPubMedLink=function(e){e.find(".search-in-pubmed-link").on("click",(function(e){return(0,vr.goToUrlWithFilters)(e.currentTarget)}))},t.initArticleSearchActions=function(e,t,i){var r=this;e.find(t).each((function(e,t){var o=(0,n.default)(t).find(i),a=r.initDropdown(o);r.initAddToSearchLink(o),r.initSearchPubMedLink(o),r.closeActionsDropdownContainerOnTabOut(a)}))},t.initDropdown=function(e){return new br.MoreActionsDropdownBlock({target:e.find(".trigger"),container:e.find(".dropdown").removeAttr("hidden"),toggleOnHover:!1,wrap:!1})},t.closeActionsDropdownContainerOnTabOut=function(e){var t=e.container.find(".content ul li");t.first().keydown((function(t){t.shiftKey&&"tab"===t.key.toLowerCase()&&e.hide()})),t.last().keydown((function(t){"tab"!==t.key.toLowerCase()||t.shiftKey||e.hide()}))},e}();wr.ArticleSearchActionsDropdown=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sr={};(function(e){(function(){"use strict";Sr.__esModule=!0,Sr.ArticleOverview=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.container,i=e.articleSearchActionsContainers,r=e.searchFormTermInput,o=e.filtersStorage;this.container=(0,n.default)(t),this.articleSearchActionsContainers=i,this.searchFormTermInput=r,this.filtersStorage=o,this.initToggleAuthors(),this.initAbstractList(),this.initToggleSupplementaryInfo(),this.initGrantsList(),this.initArticleSearchActionsDropdown()}var t=e.prototype;return t.initToggleAuthors=function(){var e=(0,n.default)("html, body"),t=this.container.find(".heading"),i=t.children(".full-view"),r=t.children(".short-view");this.fullAuthors=new tr.ExtendedArticleDetails({container:i.find(".extended-article-details"),trigger:i.find(".short-article-details .more-details"),fetchedAuthorsPlaceholder:i.find(".fetched-authors-placeholder-full-view"),affiliationLinks:i.find(".inline-authors .affiliation-link"),windowScrollElement:e,updateUrl:!1,isDesktop:!0}),this.fullArticleDetails=new tr.ExtendedArticleDetails({container:r.find(".extended-article-details"),trigger:r.find(".more-article-details"),fetchedAuthorsPlaceholder:r.find(".fetched-authors-placeholder-short-view"),affiliationLinks:r.find(".affiliation-link"),windowScrollElement:e,updateUrl:!1,isDesktop:!1})},t.initAbstractList=function(){var e=this.container.find(".abstract"),t=e.find(".abstract-lang"),n=e.find(".abstract-content");t.length&&n.length&&(this.AbstractList=new rr.AbstractList({abstractLanguages:t,abstractItems:n,container:e}))},t.initToggleSupplementaryInfo=function(){var e=this.container.children(".supplementary-info"),t=e.find(".short-content .toggle-details"),n=e.children(".full-content");this.supplementaryInfoContainer=e,this.supplementaryInfoTrigger=t,this.supplementaryInfoDetails=n,t.on("click",(function(i){i.preventDefault();var r=!n.is(":hidden");e.toggleClass("active",!r),t.toggleClass("active"),n.attr("aria-hidden",r.toString()),t.attr("aria-expanded",(!r).toString()).text(r?"expand":"collapse")}))},t.initGrantsList=function(){var e=this.supplementaryInfoContainer.find(".grants .list-tail"),t=this.supplementaryInfoContainer.find(".grants .show-all");e.length&&t.length&&(this.grantsList=new nr.GrantsList({showAllButton:t,listToShow:e}))},t.initArticleSearchActionsDropdown=function(){var e=this;this.journalActionsDropdown=new wr.ArticleSearchActionsDropdown(this.container,this.searchFormTermInput,".article-source",".journal-actions",this.filtersStorage),this.keywordActionsDropdown=new wr.ArticleSearchActionsDropdown(this.container,this.searchFormTermInput,".keywords-list li",".keyword-actions",this.filtersStorage),this.associatedDataActionsDropdown=new wr.ArticleSearchActionsDropdown(this.container,this.searchFormTermInput,".supplemental-data-list li",".supplemental-data-actions",this.filtersStorage);var t=function(t,n){e.journalActionsDropdown.initArticleSearchActions(n,".article-source",".journal-actions"),e.keywordActionsDropdown.initArticleSearchActions(n,".keywords-list li",".keyword-actions"),e.associatedDataActionsDropdown.initArticleSearchActions(n,".supplemental-data-list li",".supplemental-data-actions")};this.articleSearchActionsContainers.forEach((function(e){(0,n.default)(e).on("chunk-loaded",t)}))},e}();Sr.ArticleOverview=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _r=T.f,Cr=Function.prototype,kr=Cr.toString,Tr=/^\s*function ([^ (]*)/;!n||"name"in Cr||_r(Cr,"name",{configurable:!0,get:function(){try{return kr.call(this).match(Tr)[1]}catch(Ds){return""}}});var xr={};!function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof xr&&(xr=e(),t=!0),!t){var n=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=n,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(i.read||i)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(r[c]=l,e===c)break}catch(u){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}));var Er,Dr={__esModule:!0,setSecureCookieIfPossible:function(e,t,n){var i=n||{};"https:"===window.location.protocol&&(i.secure=!0),i.expires||(i.expires=365),Fr.default.set(e,t,i)}},Fr=(Er=xr)&&Er.__esModule?Er:{default:Er},Ir={};(function(e){(function(){"use strict";Ir.__esModule=!0,Ir.clearSearchCookie=function(e,n){t.default.remove(e,{domain:n})},Ir.addVisibilityListener=function(e,i,r,o){var a=function(){var e,t,n={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in n)if(e in document){t=n[e];break}return function(n){return n&&document.addEventListener(t,n),!document[e]}}();a((function(){var s=(0,n.default)("meta[name="+i+"]").attr("content"),l="search"===(0,n.default)("meta[name=log_op]").attr("content");a()&&(s?(0,Dr.setSecureCookieIfPossible)(e,s,{domain:o}):t.default.remove(e,{domain:o}),l?(0,Dr.setSecureCookieIfPossible)(r,"",{domain:o}):t.default.remove(r,{domain:o}))}))},Ir.setSubmittedSearchCookie=function(e,t){(0,Dr.setSecureCookieIfPossible)(e,"",{domain:t})},Ir.setBackToSearchCookie=function(e,t){(0,Dr.setSecureCookieIfPossible)(e,"",{domain:t})},Ir.setIsOnSearchPageCookie=function(e,t){(0,Dr.setSecureCookieIfPossible)(e,"",{domain:t})};var t=i(xr),n=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function i(e){return e&&e.__esModule?e:{default:e}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ar,Or,Mr={__esModule:!0,updateUrlQuery:function(e){if(void 0===e&&(e={}),window.history&&window.history.replaceState){for(var t=window.location.search.substr(1),n=new ji.QueryDict(t),i=0,r=Object.entries(e);i<r.length;i++){var o=r[i],a=o[0],s=o[1];null===s?n.deleteParam(a):n.setParam(a,s)}var l=n.encodeURI();window.history.replaceState(null,window.title,window.location.href.replace(t,l))}else Pr.warn(jr)},updateUrlPath:function(e){if(window.history&&window.history.replaceState){var t=window.location.pathname;window.history.replaceState(null,window.title,window.location.href.replace(t,e))}else Pr.warn(jr)},removeUrlQuery:function(){if(window.history&&window.history.replaceState){var e=window.location.search;e&&window.history.replaceState(null,window.title,window.location.href.replace(e,""))}else Pr.warn(jr)}},Pr=((Ar=si)&&Ar.__esModule?Ar:{default:Ar}).default.getLogger("paginated-list"),jr="Can't update location URL: your browser doesn't support History API",Lr=function(e){if(Kn(e))throw TypeError("The method doesn't accept regular expressions");return e},Rr=Ve("match"),Nr=_.f,Yr="".startsWith,Br=Math.min,Vr=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Rr]=!1,"/./"[e](t)}catch(i){}}return!1}("startsWith");Ae({target:"String",proto:!0,forced:!(!Vr&&(Or=Nr(String.prototype,"startsWith"),Or&&!Or.writable)||Vr)},{startsWith:function(e){var t=String(h(this));Lr(e);var n=le(Br(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return Yr?Yr.call(t,i,n):t.slice(n,n+i.length)===i}});var Ur,Hr="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",Wr=RegExp("^"+Hr+Hr+"*"),Qr=RegExp(Hr+Hr+"*$"),qr=function(e){return function(t){var n=String(h(t));return 1&e&&(n=n.replace(Wr,"")),2&e&&(n=n.replace(Qr,"")),n}},zr={start:qr(1),end:qr(2),trim:qr(3)},Gr=zr.trim;Ae({target:"String",proto:!0,forced:(Ur="trim",t((function(){return!!"\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"[Ur]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[Ur]()||"\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"[Ur].name!==Ur})))},{trim:function(){return Gr(this)}});var Jr={};function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Kr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Jr.__esModule=!0,Jr.BasePersistentFiltersStorage=void 0;var Zr=function(){function e(e){this.storage=window.localStorage,this.filtersStorageKey=e}var t,n,i=e.prototype;return i.setFiltersData=function(e,t){void 0===t&&(t=!0),e&&e.length?(t&&this.convertFilterKeysToNew(e),this.storage.setItem(this.filtersStorageKey,JSON.stringify(e))):this.storage.removeItem(this.filtersStorageKey)},i.removeFiltersData=function(){this.storage.removeItem(this.filtersStorageKey)},i.convertFilterKeysToNew=function(e){var t=!1;if(!e||!e.length)return t;for(var n,i=[],r=[],o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(n=o()).done;){var a=n.value;if(a&&a.value){var s=a.value.replace("ds1.","datesearch.").replace("species.","hum_ani.").replace("language.","lang.");s!==a.value&&(t=!0,a.value=s),-1===i.indexOf(s)&&(i.push(s),r.push(a))}}return e.splice(0,e.length),e.splice.apply(e,[0,0].concat(r)),t},t=e,(n=[{key:"filtersData",get:function(){var e=this.storage.getItem(this.filtersStorageKey);if(e){var t=JSON.parse(e);return this.convertFilterKeysToNew(t)&&this.setFiltersData(t,!1),t}return[]}},{key:"filtersTitlesLine",get:function(){var e=this.filtersData;return e&&e.length?e.map((function(e){return e.title})).reduce((function(e,t){return e+", "+t})):null}},{key:"filterSearchParamValues",get:function(){var e=this.filtersData;return e&&e.length?e.map((function(e){return"&filter="+e.value})).reduce((function(e,t){return""+e+t})):null}}])&&Kr(t.prototype,n),e}();Jr.BasePersistentFiltersStorage=Zr;var Xr={__esModule:!0,PersistentFiltersStorage:void 0},eo=function(e){var t,n;function i(){return e.call(this,"pm-filters-by")||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(Jr.BasePersistentFiltersStorage);Xr.PersistentFiltersStorage=eo;var to,no={exports:{}};to=function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,i){return wt(e,t,n,i,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var n=f(e),i=t.call(n.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=h(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var g=n.momentProperties=[],v=!1;function y(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=f(t)),s(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)s(r=t[i=g[n]])||(e[i]=r);return e}function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function S(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var i=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){var r,a,s,l=[];for(a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(s in r+="\n["+a+"] ",arguments[0])o(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[a];l.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var C,k={};function T(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),k[e]||(S(t),k[e]=!0)}function x(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e,t){var n,i=d({},e);for(n in t)o(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)o(e,n)&&!o(t,n)&&r(e[n])&&(i[n]=d({},i[n]));return i}function D(e){null!=e&&this.set(e)}function F(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,O={},M={};function P(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(M[e]=r),t&&(M[t[0]]=function(){return F(r.apply(this,arguments),t[1],t[2])}),n&&(M[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=L(t,e.localeData()),O[t]=O[t]||function(e){var t,n,i,r=e.match(I);for(t=0,n=r.length;t<n;t++)M[r[t]]?r[t]=M[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=x(r[i])?r[i].call(t,e):r[i];return o}}(t),O[t](e)):e.localeData().invalidDate()}function L(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(A.lastIndex=0;n>=0&&A.test(e);)e=e.replace(A,i),A.lastIndex=0,n-=1;return e}var R={};function N(e,t){var n=e.toLowerCase();R[n]=R[n+"s"]=R[t]=e}function Y(e){return"string"==typeof e?R[e]||R[e.toLowerCase()]:void 0}function B(e){var t,n,i={};for(n in e)o(e,n)&&(t=Y(n))&&(i[t]=e[n]);return i}var V={};function U(e,t){V[e]=t}function H(e){return e%4==0&&e%100!=0||e%400==0}function W(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Q(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=W(t)),n}function q(e,t){return function(i){return null!=i?(G(this,e,i),n.updateOffset(this,t),this):z(this,e)}}function z(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function G(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&H(e.year())&&1===e.month()&&29===e.date()?(n=Q(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),we(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var J,$=/\d/,K=/\d\d/,Z=/\d{3}/,X=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ne=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,re=/\d{1,3}/,oe=/\d{1,4}/,ae=/[+-]?\d{1,6}/,se=/\d+/,le=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,ue=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,n){J[e]=x(t)?t:function(e,i){return e&&n?n:t}}function fe(e,t){return o(J,e)?J[e](t._strict,t._locale):new RegExp(pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var me={};function ge(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=Q(e)}),n=0;n<e.length;n++)me[e[n]]=i}function ve(e,t){ge(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function ye(e,t,n){null!=t&&o(me,e)&&me[e](t,n._a,n,e)}var be;function we(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?H(e)?29:28:31-n%7%2}be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},P("M",["MM",2],"Mo",(function(){return this.month()+1})),P("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),P("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),N("month","M"),U("month",8),he("M",te),he("MM",te,K),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),ge(["M","MM"],(function(e,t){t[1]=Q(e)-1})),ge(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:f(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ce=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=de,Te=de;function xe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Q(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),we(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ee(e){return null!=e?(xe(this,e),n.updateOffset(this,!0),this):z(this,"Month")}function De(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=h([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=pe(i[t]),r[t]=pe(r[t]);for(t=0;t<24;t++)o[t]=pe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Fe(e){return H(e)?366:365}P("Y",0,0,(function(){var e=this.year();return e<=9999?F(e,4):"+"+e})),P(0,["YY",2],0,(function(){return this.year()%100})),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),N("year","y"),U("year",1),he("Y",le),he("YY",te,K),he("YYYY",oe,X),he("YYYYY",ae,ee),he("YYYYYY",ae,ee),ge(["YYYYY","YYYYYY"],0),ge("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):Q(e)})),ge("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),ge("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return Q(e)+(Q(e)>68?1900:2e3)};var Ie=q("FullYear",!0);function Ae(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Oe(e,t,n){var i=7+t-n;return-(7+Ae(e,0,i).getUTCDay()-t)%7+i-1}function Me(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+Oe(e,i,r);return s<=0?a=Fe(o=e-1)+s:s>Fe(e)?(o=e+1,a=s-Fe(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Pe(e,t,n){var i,r,o=Oe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+je(r=e.year()-1,t,n):a>je(e.year(),t,n)?(i=a-je(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function je(e,t,n){var i=Oe(e,t,n),r=Oe(e+1,t,n);return(Fe(e)-i+r)/7}function Le(e,t){return e.slice(t,7).concat(e.slice(0,t))}P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),U("week",5),U("isoWeek",5),he("w",te),he("ww",te,K),he("W",te),he("WW",te,K),ve(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=Q(e)})),P("d",0,"do","day"),P("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),P("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),P("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),he("d",te),he("e",te),he("E",te),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,n,i){t[i]=Q(e)}));var Re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ne="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Be=de,Ve=de,Ue=de;function He(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),i=pe(this.weekdaysMin(n,"")),r=pe(this.weekdaysShort(n,"")),o=pe(this.weekdays(n,"")),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);a.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function We(){return this.hours()%12||12}function Qe(e,t){P(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function qe(e,t){return t._meridiemParse}P("H",["HH",2],0,"hour"),P("h",["hh",2],0,We),P("k",["kk",2],0,(function(){return this.hours()||24})),P("hmm",0,0,(function(){return""+We.apply(this)+F(this.minutes(),2)})),P("hmmss",0,0,(function(){return""+We.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),P("Hmm",0,0,(function(){return""+this.hours()+F(this.minutes(),2)})),P("Hmmss",0,0,(function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),N("hour","h"),U("hour",13),he("a",qe),he("A",qe),he("H",te),he("h",te),he("k",te),he("HH",te,K),he("hh",te,K),he("kk",te,K),he("hmm",ne),he("hmmss",ie),he("Hmm",ne),he("Hmmss",ie),ge(["H","HH"],3),ge(["k","kk"],(function(e,t,n){var i=Q(e);t[3]=24===i?0:i})),ge(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ge(["h","hh"],(function(e,t,n){t[3]=Q(e),f(n).bigHour=!0})),ge("hmm",(function(e,t,n){var i=e.length-2;t[3]=Q(e.substr(0,i)),t[4]=Q(e.substr(i)),f(n).bigHour=!0})),ge("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=Q(e.substr(0,i)),t[4]=Q(e.substr(i,2)),t[5]=Q(e.substr(r)),f(n).bigHour=!0})),ge("Hmm",(function(e,t,n){var i=e.length-2;t[3]=Q(e.substr(0,i)),t[4]=Q(e.substr(i))})),ge("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=Q(e.substr(0,i)),t[4]=Q(e.substr(i,2)),t[5]=Q(e.substr(r))}));var ze,Ge=q("Hours",!0),Je={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:_e,week:{dow:0,doy:6},weekdays:Re,weekdaysMin:Ye,weekdaysShort:Ne,meridiemParse:/[ap]\.?m?\.?/i},$e={},Ke={};function Ze(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function et(e){var t=null;if(void 0===$e[e]&&no&&no.exports)try{t=ze._abbr,require("./locale/"+e),tt(t)}catch(n){$e[e]=null}return $e[e]}function tt(e,t){var n;return e&&((n=s(t)?it(e):nt(e,t))?ze=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ze._abbr}function nt(e,t){if(null!==t){var n,i=Je;if(t.abbr=e,null!=$e[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=$e[e]._config;else if(null!=t.parentLocale)if(null!=$e[t.parentLocale])i=$e[t.parentLocale]._config;else{if(null==(n=et(t.parentLocale)))return Ke[t.parentLocale]||(Ke[t.parentLocale]=[]),Ke[t.parentLocale].push({name:e,config:t}),null;i=n._config}return $e[e]=new D(E(i,t)),Ke[e]&&Ke[e].forEach((function(e){nt(e.name,e.config)})),tt(e),$e[e]}return delete $e[e],null}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ze;if(!i(e)){if(t=et(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=Xe(e[o]).split("-")).length,n=(n=Xe(e[o+1]))?n.split("-"):null;t>0;){if(i=et(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&Ze(r,n)>=t-1)break;t--}o++}return ze}(e)}function rt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>we(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var ot=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,st=/Z|[+-]\d\d(?::?\d\d)?/,lt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ct=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ut=/^\/?Date\((-?\d+)/i,dt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ht={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ft(e){var t,n,i,r,o,a,s=e._i,l=ot.exec(s)||at.exec(s);if(l){for(f(e).iso=!0,t=0,n=lt.length;t<n;t++)if(lt[t][1].exec(l[1])){r=lt[t][0],i=!1!==lt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=ct.length;t<n;t++)if(ct[t][1].exec(l[3])){o=(l[2]||" ")+ct[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!st.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),yt(e)}else e._isValid=!1}function pt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function mt(e){var t,n,i,r,o,a,s,l,c=dt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],i=c[3],r=c[2],o=c[5],a=c[6],s=c[7],l=[pt(n),_e.indexOf(i),parseInt(r,10),parseInt(o,10),parseInt(a,10)],s&&l.push(parseInt(s,10)),t=l,!function(e,t,n){return!e||Ne.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return ht[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),e._d=Ae.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function gt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,i,r,o,a,s=[];if(!e._d){for(r=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=gt(t.GG,e._a[0],Pe(St(),1,4).year),i=gt(t.W,1),((r=gt(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=Pe(St(),o,a),n=gt(t.gg,e._a[0],c.year),i=gt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),i<1||i>je(n,o,a)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Me(n,i,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=gt(e._a[0],r[0]),(e._dayOfYear>Fe(a)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=Ae(a,0,e._dayOfYear),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ae:function(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(f(e).weekdayMismatch=!0)}}function yt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],f(e).empty=!0;var t,i,r,o,a,s,l=""+e._i,c=l.length,u=0;for(r=L(e._f,e._locale).match(I)||[],t=0;t<r.length;t++)o=r[t],(i=(l.match(fe(o,e))||[])[0])&&((a=l.substr(0,l.indexOf(i))).length>0&&f(e).unusedInput.push(a),l=l.slice(l.indexOf(i)+i.length),u+=i.length),M[o]?(i?f(e).empty=!1:f(e).unusedTokens.push(o),ye(o,i,e)):e._strict&&!i&&f(e).unusedTokens.push(o);f(e).charsLeftOver=c-u,l.length>0&&f(e).unusedInput.push(l),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),vt(e),rt(e)}else mt(e);else ft(e)}function bt(e){var t=e._i,o=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===o&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(rt(t)):(c(t)?e._d=t:i(o)?function(e){var t,n,i,r,o,a,s=!1;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,a=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],yt(t),p(t)&&(a=!0),o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,s?o<i&&(i=o,n=t):(null==i||o<i||a)&&(i=o,n=t,a&&(s=!0));d(e,n||t)}(e):o?yt(e):function(e){var t=e._i;s(t)?e._d=new Date(n.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ut.exec(e._i);null===t?(ft(e),!1===e._isValid&&(delete e._isValid,mt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),vt(e)):r(t)?function(e){if(!e._d){var t=B(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vt(e)}}(e):l(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function wt(e,t,n,o,s){var l,c={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(r(e)&&a(e)||i(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=e,c._f=t,c._strict=o,(l=new b(rt(bt(c))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function St(e,t,n,i){return wt(e,t,n,i,!1)}n.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var _t=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Ct=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function kt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xt(e){var t=B(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(o(e,t)&&(-1===be.call(Tt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Tt.length;++n)if(e[Tt[n]]){if(i)return!1;parseFloat(e[Tt[n]])!==Q(e[Tt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*c+1e3*l*60*60,this._days=+s+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=it(),this._bubble()}function Et(e){return e instanceof xt}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){P(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)}))}Ft("Z",":"),Ft("ZZ",""),he("Z",ue),he("ZZ",ue),ge(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=At(ue,e)}));var It=/([\+\-]|\d\d)/gi;function At(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(It)||["-",0,0])[1]+Q(n[2]))?0:"+"===n[0]?i:-i}function Ot(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(w(e)||c(e)?e.valueOf():St(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):St(e).local()}function Mt(e){return-Math.round(e._d.getTimezoneOffset())}function Pt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var jt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rt(e,t){var n,i,r,a,s,c,u=e,d=null;return Et(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(d=jt.exec(e))?(n="-"===d[1]?-1:1,u={y:0,d:Q(d[2])*n,h:Q(d[3])*n,m:Q(d[4])*n,s:Q(d[5])*n,ms:Q(Dt(1e3*d[6]))*n}):(d=Lt.exec(e))?(n="-"===d[1]?-1:1,u={y:Nt(d[2],n),M:Nt(d[3],n),w:Nt(d[4],n),d:Nt(d[5],n),h:Nt(d[6],n),m:Nt(d[7],n),s:Nt(d[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(a=St(u.from),s=St(u.to),r=a.isValid()&&s.isValid()?(s=Ot(s,a),a.isBefore(s)?c=Yt(a,s):((c=Yt(s,a)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=r.milliseconds,u.M=r.months),i=new xt(u),Et(e)&&o(e,"_locale")&&(i._locale=e._locale),Et(e)&&o(e,"_isValid")&&(i._isValid=e._isValid),i}function Nt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Yt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Bt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Vt(this,Rt(n,i),e),this}}function Vt(e,t,i,r){var o=t._milliseconds,a=Dt(t._days),s=Dt(t._months);e.isValid()&&(r=null==r||r,s&&xe(e,z(e,"Month")+s*i),a&&G(e,"Date",z(e,"Date")+a*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&n.updateOffset(e,a||s))}Rt.fn=xt.prototype,Rt.invalid=function(){return Rt(NaN)};var Ut=Bt(1,"add"),Ht=Bt(-1,"subtract");function Wt(e){return"string"==typeof e||e instanceof String}function Qt(e){return w(e)||c(e)||Wt(e)||l(e)||function(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Wt(e)})).length),t&&n}(e)||function(e){var t,n=r(e)&&!a(e),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<s.length;t+=1)i=i||o(e,s[t]);return n&&i}(e)||null==e}function qt(e,t){if(e.date()<t.date())return-qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=it(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Gt=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Jt(){return this._locale}function $t(e,t){return(e%t+t)%t}function Kt(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Zt(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Xt(e,t){return t.erasAbbrRegex(e)}function en(){var e,t,n=[],i=[],r=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)i.push(pe(a[e].name)),n.push(pe(a[e].abbr)),r.push(pe(a[e].narrow)),o.push(pe(a[e].name)),o.push(pe(a[e].abbr)),o.push(pe(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function tn(e,t){P(0,[e,e.length],0,t)}function nn(e,t,n,i,r){var o;return null==e?Pe(this,i,r).year:(t>(o=je(e,i,r))&&(t=o),function(e,t,n,i,r){var o=Me(e,t,n,i,r),a=Ae(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}P("N",0,0,"eraAbbr"),P("NN",0,0,"eraAbbr"),P("NNN",0,0,"eraAbbr"),P("NNNN",0,0,"eraName"),P("NNNNN",0,0,"eraNarrow"),P("y",["y",1],"yo","eraYear"),P("y",["yy",2],0,"eraYear"),P("y",["yyy",3],0,"eraYear"),P("y",["yyyy",4],0,"eraYear"),he("N",Xt),he("NN",Xt),he("NNN",Xt),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ge(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?f(n).era=r:f(n).invalidEra=e})),he("y",se),he("yy",se),he("yyy",se),he("yyyy",se),he("yo",(function(e,t){return t._eraYearOrdinalRegex||se})),ge(["y","yy","yyy","yyyy"],0),ge(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),P(0,["gg",2],0,(function(){return this.weekYear()%100})),P(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),he("G",le),he("g",le),he("GG",te,K),he("gg",te,K),he("GGGG",oe,X),he("gggg",oe,X),he("GGGGG",ae,ee),he("ggggg",ae,ee),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=Q(e)})),ve(["gg","GG"],(function(e,t,i,r){t[r]=n.parseTwoDigitYear(e)})),P("Q",0,"Qo","quarter"),N("quarter","Q"),U("quarter",7),he("Q",$),ge("Q",(function(e,t){t[1]=3*(Q(e)-1)})),P("D",["DD",2],"Do","date"),N("date","D"),U("date",9),he("D",te),he("DD",te,K),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ge(["D","DD"],2),ge("Do",(function(e,t){t[2]=Q(e.match(te)[0])}));var rn=q("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),U("dayOfYear",4),he("DDD",re),he("DDDD",Z),ge(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Q(e)})),P("m",["mm",2],0,"minute"),N("minute","m"),U("minute",14),he("m",te),he("mm",te,K),ge(["m","mm"],4);var on=q("Minutes",!1);P("s",["ss",2],0,"second"),N("second","s"),U("second",15),he("s",te),he("ss",te,K),ge(["s","ss"],5);var an,sn,ln=q("Seconds",!1);for(P("S",0,0,(function(){return~~(this.millisecond()/100)})),P(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),P(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),P(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),P(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),P(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),P(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),N("millisecond","ms"),U("millisecond",16),he("S",re,$),he("SS",re,K),he("SSS",re,Z),an="SSSS";an.length<=9;an+="S")he(an,se);function cn(e,t){t[6]=Q(1e3*("0."+e))}for(an="S";an.length<=9;an+="S")ge(an,cn);sn=q("Milliseconds",!1),P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var un=b.prototype;function dn(e){return e}un.add=Ut,un.calendar=function(e,t){1===arguments.length&&(arguments[0]?Qt(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=r(e)&&!a(e),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)i=i||o(e,s[t]);return n&&i}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||St(),s=Ot(i,this).startOf("day"),l=n.calendarFormat(this,s)||"sameElse",c=t&&(x(t[l])?t[l].call(this,i):t[l]);return this.format(c||this.localeData().calendar(l,this,St(i)))},un.clone=function(){return new b(this)},un.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Ot(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=Y(t)){case"year":o=qt(this,i)/12;break;case"month":o=qt(this,i);break;case"quarter":o=qt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:W(o)},un.endOf=function(e){var t,i;if(void 0===(e=Y(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?Zt:Kt,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-$t(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-$t(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-$t(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},un.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},un.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||St(e).isValid())?Rt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.fromNow=function(e){return this.from(St(),e)},un.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||St(e).isValid())?Rt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.toNow=function(e){return this.to(St(),e)},un.get=function(e){return x(this[e=Y(e)])?this[e]():this},un.invalidAt=function(){return f(this).overflow},un.isAfter=function(e,t){var n=w(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},un.isBefore=function(e,t){var n=w(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},un.isBetween=function(e,t,n,i){var r=w(e)?e:St(e),o=w(t)?t:St(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},un.isSame=function(e,t){var n,i=w(e)?e:St(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},un.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},un.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},un.isValid=function(){return p(this)},un.lang=Gt,un.locale=zt,un.localeData=Jt,un.max=Ct,un.min=_t,un.parsingFlags=function(){return d({},f(this))},un.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:V[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=B(e));for(n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(x(this[e=Y(e)]))return this[e](t);return this},un.startOf=function(e){var t,i;if(void 0===(e=Y(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?Zt:Kt,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=$t(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=$t(t,6e4);break;case"second":t=this._d.valueOf(),t-=$t(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},un.subtract=Ht,un.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},un.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},un.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(un[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},un.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},un.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},un.eraYear=function(){var e,t,i,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-n(o[e].since).year())*i+o[e].offset;return this.year()},un.year=Ie,un.isLeapYear=function(){return H(this.year())},un.weekYear=function(e){return nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(e){return nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},un.month=Ee,un.daysInMonth=function(){return we(this.year(),this.month())},un.week=un.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},un.isoWeek=un.isoWeeks=function(e){var t=Pe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},un.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},un.weeksInWeekYear=function(){var e=this.localeData()._week;return je(this.weekYear(),e.dow,e.doy)},un.isoWeeksInYear=function(){return je(this.year(),1,4)},un.isoWeeksInISOWeekYear=function(){return je(this.isoWeekYear(),1,4)},un.date=rn,un.day=un.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},un.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},un.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},un.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},un.hour=un.hours=Ge,un.minute=un.minutes=on,un.second=un.seconds=ln,un.millisecond=un.milliseconds=sn,un.utcOffset=function(e,t,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=At(ue,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(r=Mt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Vt(this,Rt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Mt(this)},un.utc=function(e){return this.utcOffset(0,e)},un.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Mt(this),"m")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=At(ce,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=Pt,un.isUTC=Pt,un.zoneAbbr=function(){return this._isUTC?"UTC":""},un.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},un.dates=_("dates accessor is deprecated. Use date instead.",rn),un.months=_("months accessor is deprecated. Use month instead",Ee),un.years=_("years accessor is deprecated. Use year instead",Ie),un.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),un.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=bt(t))._a?(e=t._isUTC?h(t._a):St(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)Q(e[i])!==Q(t[i])&&a++;return a+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var hn=D.prototype;function fn(e,t,n,i){var r=it(),o=h().set(i,t);return r[n](o,e)}function pn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return fn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=fn(e,i,n,"month");return r}function mn(e,t,n,i){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r,o=it(),a=e?o._week.dow:0,s=[];if(null!=n)return fn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=fn(t,(r+a)%7,i,"day");return s}hn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return x(i)?i.call(t,n):i},hn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(e){return this._ordinal.replace("%d",e)},hn.preparse=dn,hn.postformat=dn,hn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return x(r)?r(e,t,n,i):r.replace(/%d/i,e)},hn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)},hn.set=function(e){var t,n;for(n in e)o(e,n)&&(x(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.eras=function(e,t){var i,r,o,a=this._eras||it("en")._eras;for(i=0,r=a.length;i<r;++i){switch(typeof a[i].since){case"string":o=n(a[i].since).startOf("day"),a[i].since=o.valueOf()}switch(typeof a[i].until){case"undefined":a[i].until=1/0;break;case"string":o=n(a[i].until).startOf("day").valueOf(),a[i].until=o.valueOf()}}return a},hn.erasParse=function(e,t,n){var i,r,o,a,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if([o,a,s].indexOf(e)>=0)return l[i]},hn.erasConvertYear=function(e,t){var i=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*i},hn.erasAbbrRegex=function(e){return o(this,"_erasAbbrRegex")||en.call(this),e?this._erasAbbrRegex:this._erasRegex},hn.erasNameRegex=function(e){return o(this,"_erasNameRegex")||en.call(this),e?this._erasNameRegex:this._erasRegex},hn.erasNarrowRegex=function(e){return o(this,"_erasNarrowRegex")||en.call(this),e?this._erasNarrowRegex:this._erasRegex},hn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ce).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},hn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ce.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=be.call(this._shortMonthsParse,a))?r:null:-1!==(r=be.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=be.call(this._shortMonthsParse,a))||-1!==(r=be.call(this._longMonthsParse,a))?r:null:-1!==(r=be.call(this._longMonthsParse,a))||-1!==(r=be.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},hn.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||De.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||De.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(e){return Pe(e,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Le(n,this._week.dow):e?n[e.day()]:n},hn.weekdaysMin=function(e){return!0===e?Le(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},hn.weekdaysShort=function(e){return!0===e?Le(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},hn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=be.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=be.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=be.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=be.call(this._weekdaysParse,a))||-1!==(r=be.call(this._shortWeekdaysParse,a))||-1!==(r=be.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=be.call(this._shortWeekdaysParse,a))||-1!==(r=be.call(this._weekdaysParse,a))||-1!==(r=be.call(this._minWeekdaysParse,a))?r:null:-1!==(r=be.call(this._minWeekdaysParse,a))||-1!==(r=be.call(this._weekdaysParse,a))||-1!==(r=be.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},hn.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Be),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ue),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},hn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=_("moment.lang is deprecated. Use moment.locale instead.",tt),n.langData=_("moment.langData is deprecated. Use moment.localeData instead.",it);var gn=Math.abs;function vn(e,t,n,i){var r=Rt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function yn(e){return e<0?Math.floor(e):Math.ceil(e)}function bn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function Sn(e){return function(){return this.as(e)}}var _n=Sn("ms"),Cn=Sn("s"),kn=Sn("m"),Tn=Sn("h"),xn=Sn("d"),En=Sn("w"),Dn=Sn("M"),Fn=Sn("Q"),In=Sn("y");function An(e){return function(){return this.isValid()?this._data[e]:NaN}}var On=An("milliseconds"),Mn=An("seconds"),Pn=An("minutes"),jn=An("hours"),Ln=An("days"),Rn=An("months"),Nn=An("years"),Yn=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},Vn=Math.abs;function Un(e){return(e>0)-(e<0)||+e}function Hn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,a,s,l=Vn(this._milliseconds)/1e3,c=Vn(this._days),u=Vn(this._months),d=this.asSeconds();return d?(e=W(l/60),t=W(e/60),l%=60,e%=60,n=W(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=Un(this._months)!==Un(d)?"-":"",a=Un(this._days)!==Un(d)?"-":"",s=Un(this._milliseconds)!==Un(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?a+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+i+"S":"")):"P0D"}var Wn=xt.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},Wn.add=function(e,t){return vn(this,e,t,1)},Wn.subtract=function(e,t){return vn(this,e,t,-1)},Wn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=Y(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+bn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Wn.asMilliseconds=_n,Wn.asSeconds=Cn,Wn.asMinutes=kn,Wn.asHours=Tn,Wn.asDays=xn,Wn.asWeeks=En,Wn.asMonths=Dn,Wn.asQuarters=Fn,Wn.asYears=In,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Q(this._months/12):NaN},Wn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*yn(wn(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=W(o/1e3),l.seconds=e%60,t=W(e/60),l.minutes=t%60,n=W(t/60),l.hours=n%24,a+=W(n/24),s+=r=W(bn(a)),a-=yn(wn(r)),i=W(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Wn.clone=function(){return Rt(this)},Wn.get=function(e){return e=Y(e),this.isValid()?this[e+"s"]():NaN},Wn.milliseconds=On,Wn.seconds=Mn,Wn.minutes=Pn,Wn.hours=jn,Wn.days=Ln,Wn.weeks=function(){return W(this.days()/7)},Wn.months=Rn,Wn.years=Nn,Wn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Bn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Bn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=Rt(e).abs(),o=Yn(r.as("s")),a=Yn(r.as("m")),s=Yn(r.as("h")),l=Yn(r.as("d")),c=Yn(r.as("M")),u=Yn(r.as("w")),d=Yn(r.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,h)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Wn.toISOString=Hn,Wn.toString=Hn,Wn.toJSON=Hn,Wn.locale=zt,Wn.localeData=Jt,Wn.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hn),Wn.lang=Gt,P("X",0,0,"unix"),P("x",0,0,"valueOf"),he("x",le),he("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ge("x",(function(e,t,n){n._d=new Date(Q(e))})),n.version="2.29.1",e=St,n.fn=un,n.min=function(){return kt("isBefore",[].slice.call(arguments,0))},n.max=function(){return kt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(e){return St(1e3*e)},n.months=function(e,t){return pn(e,t,"months")},n.isDate=c,n.locale=tt,n.invalid=m,n.duration=Rt,n.isMoment=w,n.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},n.parseZone=function(){return St.apply(null,arguments).parseZone()},n.localeData=it,n.isDuration=Et,n.monthsShort=function(e,t){return pn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},n.defineLocale=nt,n.updateLocale=function(e,t){if(null!=t){var n,i,r=Je;null!=$e[e]&&null!=$e[e].parentLocale?$e[e].set(E($e[e]._config,t)):(null!=(i=et(e))&&(r=i._config),t=E(r,t),null==i&&(t.abbr=e),(n=new D(t)).parentLocale=$e[e],$e[e]=n),tt(e)}else null!=$e[e]&&(null!=$e[e].parentLocale?($e[e]=$e[e].parentLocale,e===tt()&&tt(e)):null!=$e[e]&&delete $e[e]);return $e[e]},n.locales=function(){return C($e)},n.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},n.normalizeUnits=Y,n.relativeTimeRounding=function(e){return void 0===e?Yn:"function"==typeof e&&(Yn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Bn[e]&&(void 0===t?Bn[e]:(Bn[e]=t,"s"===e&&(Bn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=un,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n},"object"==typeof no.exports?no.exports=to():"function"==typeof define&&define.amd?define(to):this.moment=to(),no=no.exports;var io={};(function(e){(function(){"use strict";io.__esModule=!0,io.parseStartDate=a,io.parseStartAndEndDates=s,io.validateStartDates=l,io.validateEndDates=c,io.setStartYearMessage=u,io.setEndYearMessage=d,io.setStartMonthMessage=h,io.setStartDayMessage=f,io.setEndMonthMessage=p,io.setEndDayMessage=m,io.CustomRangeDatepicker=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(no);function i(e){return e&&e.__esModule?e:{default:e}}var r=["YYYY/MM/DD","YYYY/MM/D","YYYY/M/DD","YYYY/M/D","YYYY/MM","YYYY/M","YYYY"],o=function(){function e(e){var n=e.container;this.container=(0,t.default)(n),this.trigger=this.container.find(".datepicker-trigger"),this.radioButton=this.trigger.prev("input"),this.dropdownContainer=this.container.find(".datepicker-dropdown"),this.applyButton=this.container.find(".apply-btn"),this.clearButton=this.container.find(".clear-btn"),this.startYear=this.dropdownContainer.find(".start-year"),this.startMonth=this.dropdownContainer.find(".start-month"),this.startDay=this.dropdownContainer.find(".start-day"),this.endYear=this.dropdownContainer.find(".end-year"),this.endMonth=this.dropdownContainer.find(".end-month"),this.endDay=this.dropdownContainer.find(".end-day"),this.initCustomRangeDatePicker()}var n=e.prototype;return n.initCustomRangeDatePicker=function(){var e=this;this.trigger.on("click",(function(t){t.preventDefault(),setTimeout((function(){e.startYear.focus()}),100)})),this.trigger.prev("input").on("click keydown",(function(n){n.preventDefault(),32===n.keyCode?(n.preventDefault(),e.datepickerDropdown.show(),e.startYear.focus()):n.shiftKey&&9===n.keyCode?(0,t.default)(n.currentTarget).closest("li").prev().find("input").focus():9===n.keyCode&&(0,t.default)(n.currentTarget).closest(".choice-group").next().find(".items").children().first().find("input").focus()})),this.dropdownContainer.find("input").on("keydown",(function(t){if(13===t.keyCode)return e.applyButton.click(),!1})),this.applyButton.on("keydown",(function(t){9===t.keyCode&&e.datepickerDropdown.hide()})),this.clearButton.on("click",(function(t){t.preventDefault(),e.startYear.val(""),e.startMonth.val(""),e.startDay.val(""),e.endYear.val(""),e.endMonth.val(""),e.endDay.val(""),e.radioButton.prop("checked")&&e.container.trigger("clear-custom-range")})),this.clearButton.on("keydown",(function(t){13===t.keyCode&&(e.radioButton.prop("checked")&&e.container.trigger("clear-custom-range"),e.startYear.focus())})),this.applyButton.on("click",(function(t){e.applyButtonHandler(t)})),this.datepickerDropdown=new yr.DropdownBlock({target:this.trigger,container:this.dropdownContainer.removeAttr("hidden"),toggleOnHover:!1,wrap:!1})},n.applyButtonHandler=function(e){var t=s({startYear:this.startYear.val(),startMonth:this.startMonth.val(),startDay:this.startDay.val(),endYear:this.endYear.val(),endMonth:this.endMonth.val(),endDay:this.endDay.val()}),n=t.startYearVal,i=t.endYear,r=t.isStartYearEmpty,o=t.isStartMonthEmpty,a=t.isStartDayEmpty,u=t.isEndYearEmpty,d=t.isEndMonthEmpty,h=t.isEndDayEmpty,f=t.startDateVal,p=t.endDateVal,m=l({hasEndDate:!0,startYearEl:this.startYear,startMonthEl:this.startMonth,startDayEl:this.startDay,startDateVal:f,startYearVal:n,isStartYearEmpty:r,isStartMonthEmpty:o,isStartDayEmpty:a,endYear:i,endDateVal:p,isEndYearEmpty:u}),g=m.isEmptyStartDate,v=m.isValidStartDate,y=m.isStartDateBeforeEndDate,b=m.isValidEndDate,w=m.isValidStartYear,S=m.isValidEndYear,_=c(this.endYear,this.endMonth,this.endDay,u,d,h,w,S,v,b);(v&&b&&y||v&&_||b&&g)&&(e.preventDefault(),this.datepickerDropdown.hide(),this.trigger.text(this.constructor.setCustomRangeLabel({isValidStartDate:v,isValidEndDate:b,startDateVal:f,endDateVal:p,isStartDateBeforeEndDate:y})),_&&(p="3000/12/12"),g&&(f="1000/1/1"),this.radioButton.prop("checked",!0),this.radioButton.attr("aria-checked",!0),this.radioButton.attr("value","dates."+f+"-"+p),this.container.trigger("custom-range-selected"))},e.setCustomRangeLabel=function(e){var t=e.isValidStartDate,n=e.isValidEndDate,i=e.startDateVal,r=e.endDateVal,o=e.isStartDateBeforeEndDate;return t&&!n?"From "+i:n&&!t?"to "+r:t&&n&&o?"From "+i+" to "+r:void 0},e}();function a(e){var t=e.startYear,n=e.startMonth,i=e.startDay,r=""==t,o=""==n,a=""==i,s=parseInt(t,10);n=parseInt(n,10),i=parseInt(i,10);var l="";return r||(l+=s),o?o&&!a&&(l+="/"):l+="/"+n,a||(l+="/"+i),{startYearVal:s,isStartYearEmpty:r,isStartMonthEmpty:o,isStartDayEmpty:a,startDateVal:l}}function s(e){var t=e.startYear,n=e.startMonth,i=e.startDay,r=e.endYear,o=e.endMonth,s=e.endDay,l=""==r,c=""==o,u=""==s,d=a({startYear:t,startMonth:n,startDay:i}),h=d.startYearVal,f=d.isStartYearEmpty,p=d.isStartMonthEmpty,m=d.isStartDayEmpty,g=d.startDateVal;r=parseInt(r,10),o=parseInt(o,10),s=parseInt(s,10);var v="";return l||(v+=r),c?c&&!u&&(v+="/"):v+="/"+o,u||(v+="/"+s),{startYearVal:h,endYear:r,isStartYearEmpty:f,isStartMonthEmpty:p,isStartDayEmpty:m,isEndYearEmpty:l,isEndMonthEmpty:c,isEndDayEmpty:u,startDateVal:g,endDateVal:v}}function l(e){var t=e.hasEndDate,i=e.startYearEl,o=e.startMonthEl,a=e.startDayEl,s=e.startDateVal,l=e.startYearVal,c=e.isStartYearEmpty,d=e.isStartMonthEmpty,p=e.isStartDayEmpty,m=e.endDateVal,g=e.endYear,v=e.isEndYearEmpty,y=(0,n.default)(s,r,!0),b=(0,n.default)(m,r,!0),w=(0,n.default)(l,r,!0),S=w.isValid(),_=y.isValid(),C=b.isValid(),k=(0,n.default)(g,r,!0),T=k.isValid(),x=w.isSameOrBefore(k),E=y.isBefore(b);return c||i.val(parseInt(i.val(),10)),d||o.val(parseInt(o.val(),10)),p||a.val(parseInt(a.val(),10)),i[0].setCustomValidity(u({isStartYearEmpty:c,isStartMonthEmpty:d,isStartDayEmpty:p,isEndYearEmpty:v,isValidStartYear:S,isValidEndYear:T,isStartYrSameOrBeforeEndYr:x,isValidStartDate:_,isValidEndDate:C,isStartDateBeforeEndDate:E,hasEndDate:t})),o[0].setCustomValidity(h({isStartDayEmpty:p,isStartMonthEmpty:d,isValidStartYear:S,isValidStartDate:_})),a[0].setCustomValidity(f({isStartDayEmpty:p,isStartMonthEmpty:d,isValidStartYear:S,isValidStartDate:_})),{isEmptyStartDate:c&&d&&p,isValidStartDate:_,isStartDateBeforeEndDate:E,isValidEndDate:C,isValidStartYear:S,isValidEndYear:T}}function c(e,t,n,i,r,o,a,s,l,c){return i||e.val(parseInt(e.val(),10)),r||t.val(parseInt(t.val(),10)),o||n.val(parseInt(n.val(),10)),e[0].setCustomValidity(d({isEndYearEmpty:i,isEndMonthEmpty:r,isEndDayEmpty:o})),t[0].setCustomValidity(p({isEndDayEmpty:o,isEndMonthEmpty:r,isValidEndYear:s,isValidEndDate:c})),n[0].setCustomValidity(m({isEndDayEmpty:o,isEndMonthEmpty:r,isValidEndYear:s,isValidEndDate:c})),i&&r&&o}function u(e){var t=e.isStartYearEmpty,n=e.isStartMonthEmpty,i=e.isStartDayEmpty,r=e.isEndYearEmpty,o=e.isValidStartYear,a=e.isValidEndYear,s=e.isStartYrSameOrBeforeEndYr,l=e.isValidStartDate,c=e.isValidEndDate,u=e.isStartDateBeforeEndDate,d=e.hasEndDate,h=d?"Start ":"";return!s&&o&&a||!u&&l&&c?"Start Date must be before End Date":!n&&t?"Enter a "+h+"Year for the "+h+"Month to apply":d&&t&&r?"Enter at least a Start or End Year":!i&&t?"Enter a "+h+"Year for the "+h+"Day to apply":""}function d(e){var t=e.isEndYearEmpty,n=e.isEndMonthEmpty,i=e.isEndDayEmpty;return!n&&t&&i?"Enter an End Year for the End Month to apply":!i&&t&&n?"Enter an End Year for the End Day to apply":""}function h(e){var t=e.isStartDayEmpty,n=e.isStartMonthEmpty,i=e.isValidStartYear,r=e.isValidStartDate;return!t&&n&&i&&!r?"Enter a valid Month for this Day":""}function f(e){var t=e.isStartDayEmpty,n=e.isStartMonthEmpty,i=e.isValidStartYear,r=e.isValidStartDate;return t||n||!i||r?"":"Enter a valid Day for this Month"}function p(e){var t=e.isEndDayEmpty,n=e.isEndMonthEmpty,i=e.isValidEndYear,r=e.isValidEndDate;return!t&&n&&i&&!r?"Enter a valid Month for this Day":""}function m(e){var t=e.isEndDayEmpty,n=e.isEndMonthEmpty,i=e.isValidEndYear,r=e.isValidEndDate;return t||n||!i||r?"":"Enter a valid Day for this Month"}io.CustomRangeDatepicker=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ro={};(function(e){(function(){"use strict";ro.__esModule=!0,ro.FiltersField=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=function(){function e(e){var t=this,i=e.container,r=e.searchConstants,o=e.appliedFiltersMessage,a=e.filtersTrigger;this.filtersCategoriesDict={pubt:"Article Type",datesearch:"Publication date",hum_ani:"Species",lang:"Language",sex:"Sex",subject:"Subject",journalcategory:"Journal Category",age:"Age"},this.container=(0,n.default)(i),this.searchConstants=r,this.appliedFiltersMessage=o,this.clearFiltersLink=this.appliedFiltersMessage.find(".clear-filters"),this.filtersTrigger=a,this.filterInputs=this.container.find(":checkbox, :radio"),this.dateSearchRadioGroup=this.container.find(".datesearch :radio"),this.filterInputs.filter(":radio:checked").data("checked",!0),this.initFiltersActions(),this.initFiltersTrigger(),this.customRangeDatePicker=new io.CustomRangeDatepicker({container:i}),this.persistentFilters=new Xr.PersistentFiltersStorage,this.persistFilters(),this.container.on("inner-filters-changed",(function(e,n){t.persistFilters(),t.container.trigger("filters-changed",[n])})),this.container.on("disable-filters",(function(){var e=t.getSelectedFilters();e&&e.length&&t.filterInputs.prop("disabled",!0)})),this.container.on("enable-filters",(function(){var e=t.getDisabledFilters();e&&e.length&&t.filterInputs.prop("disabled",!1)})),this.container.on("custom-range-selected",(function(e){(0,Ri.reportEvent)("add_filter","custom_range_selected","filter"),t.container.trigger("inner-filters-changed",[t.getSelectedFilters()])}))}var t=e.prototype;return t.persistFilters=function(){this.persistentFilters.setFiltersData(this.getSelectedFilters())},t.initFiltersActions=function(){var e=this;this.filterInputs.prop("disabled",!1),this.filterInputs.on("click",(function(t){e.initFilterInput(t)})),this.container.find(".actions-bar .reset-btn").on("click",(function(t){t.preventDefault(),e.clearAllFilters()})),this.container.on("clear-custom-range",(function(t){t.preventDefault(),e.dateSearchRadioGroup.prop("checked",!1),e.container.trigger("reset-timeline-filter"),e.container.trigger("inner-filters-changed",[e.getSelectedFilters()])})),this.clearFiltersLink.on("click",(function(t){t.preventDefault(),e.clearAllFilters()}))},t.clearAllFilters=function(){this.appliedFiltersMessage.addClass("hide"),this.filterInputs.prop("checked",!1),this.container.trigger("reset-timeline-filter"),this.container.trigger("inner-filters-changed",[[]])},t.initFiltersTrigger=function(){var e=this;this.filtersTrigger.on("click",(function(t){t.preventDefault(),e.filtersTrigger.hasClass("active")?e.container.hide():(e.container.show(),e.container.trigger("hide-inline-timeline")),e.filtersTrigger.toggleClass("active")}))},t.setFiltersTriggerLabelAmount=function(){var e=this.getSelectedFilters().length,t=this.filtersTrigger.find(".amount");e?(t.text(""+e),t.show()):t.hide()},t.sendFilterEvent=function(e){"checked"!==(0,n.default)(e.currentTarget).attr("checked")&&(0,Ri.reportEvent)("add_filter",(0,n.default)(e.currentTarget).next("label").text().trim(),"filter")},t.filterInputsUpdated=function(e,t){for(var n,r=i(e);!(n=r()).done;){var o=n.value;this.addNewFilter(o)}for(var a,s=!1,l=this.getSelectedFilters().map((function(e){return e.value})),c=i(t);!(a=c()).done;){var u=a.value,d=this.container.find("."+u.value.split(".")[0]);1===d.find(".items li").length?d.remove():d.find("[for='id_filter_"+u.value+"']").parent("li").remove(),-1!==l.indexOf(u.value)&&(s=!0)}this.filterInputs=this.container.find(":checkbox, :radio"),s&&this.container.trigger("inner-filters-changed",[this.getSelectedFilters()])},t.addNewFilter=function(e){var t=this,i=e.value.split(".")[0],r=e.value.split(".")[1],o=this.container.find("."+i);o.length||(this.container.find(".choice-group-wrapper").append((0,n.default)("<div>",{class:"choice-group "+i}).append([(0,n.default)("<strong>",{class:"title",text:""+this.filtersCategoriesDict[i]}),(0,n.default)("<ul>",{class:"items"})])),o=this.container.find("."+i));var a=n.default.map(o.find(".items li input"),(function(e){return(0,n.default)(e).val()}));if(-1===n.default.inArray(e.value,a)){var s=(0,n.default)("<li>").append([(0,n.default)("<input>",{ariaChecked:!1,type:"checkbox",name:"filter",id:"id_filter_"+e.value,value:""+e.value,autocomplete:"off","data-is-custom":"true"}),(0,n.default)("<label>",{for:"id_filter_"+e.value,text:""+e.title})]),l=void 0;o.find(".items label").each((function(e,t){var i=r.toUpperCase(),o=(0,n.default)(t).prop("for").split(".")[1].toUpperCase();if(i.localeCompare(o)<0)return l=e,!1})),l||0===l?o.find(".items li").eq(l).before(s):o.find(".items").append(s),s.find(":checkbox, :radio").on("click",(function(e){t.initFilterInput(e)}))}},t.initFilterInput=function(e){var t=this.getSelectedFilters();this.sendFilterEvent(e),this.handleRadioButtonUncheck((0,n.default)(e.target)),this.container.trigger("inner-filters-changed",[t])},t.handleRadioButtonUncheck=function(e){"radio"===e.attr("type")&&(e.data("checked")&&e.prop("checked",!1),e.data("checked",e.prop("checked")),e.closest("form, body").find(":radio[name="+e.prop("name")+"]").not(e).data("checked",!1))},t.getSelectedFilters=function(){return this.filterInputs.filter(":checked:not(:disabled)").get().map((function(e){return{name:e.name,value:e.value,title:(0,n.default)(e).next("label").text().trim()}}))},t.getDisabledFilters=function(){return this.filterInputs.filter(":disabled").get()},t.getCustomFilters=function(){var e=[];return this.filterInputs.each((function(t,i){var r=(0,n.default)(i);r.data("is-custom")&&e.push({name:i.name,value:i.value,title:r.next("label").text().trim()})})),e},t.getSelectedDateFilterValue=function(){for(var e,t=i(this.getSelectedFilters());!(e=t()).done;){var n=e.value.value,r=(new Date).getFullYear();if(n===this.searchConstants.FILTER_1_YEAR)return{startYear:r-1,endYear:r};if(n===this.searchConstants.FILTER_5_YEARS)return{startYear:r-5,endYear:r};if(n===this.searchConstants.FILTER_10_YEARS)return{startYear:r-10,endYear:r};if(n.startsWith(this.searchConstants.FILTER_CUSTOM_RANGE)){var o=n.match(/\d{4}/g);return{startYear:o[0],endYear:o[1]}}}},t.resetSelectedDateFilters=function(){for(var e,t=i(this.filterInputs.filter(":checked:not(:disabled)").get());!(e=t()).done;){var n=e.value;(n.value===this.searchConstants.FILTER_1_YEAR||n.value===this.searchConstants.FILTER_5_YEARS||n.value===this.searchConstants.FILTER_10_YEARS||n.value.startsWith(this.searchConstants.FILTER_CUSTOM_RANGE))&&(n.checked=!1)}this.persistFilters()},e}();ro.FiltersField=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var oo={exports:{}};(function(e){(function(){!function(e,t){"object"==typeof oo.exports?oo.exports=t():"function"==typeof define&&define.amd?define(t):e.ResizeObserver=t()}(this,(function(){"use strict";var t=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,o=0;function a(){n&&(n=!1,e()),i&&l()}function s(){r(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);o=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},u=m(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}var f="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function p(e){return n?f(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return u;var i=c(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=d(o)}return t}(i),o=r.left+r.right,a=r.top+r.bottom,s=d(i.width),l=d(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==t&&(s-=h(i,"left","right")+o),Math.round(l+a)!==n&&(l-=h(i,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var f=Math.round(s+o)-t,p=Math.round(l+a)-n;1!==Math.abs(f)&&(s-=f),1!==Math.abs(p)&&(l-=p)}return m(r.left,r.top,s,l)}(e):u}function m(e,t,n,i){return{x:e,y:t,width:n,height:i}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=p(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,i,r,o,a,s,c,u=(i=(n=t).x,r=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:i,y:r,width:o,height:a,top:r,right:i+o,bottom:a+r,left:i}),c);l(this,{target:e,contentRect:u})},y=function(){function e(e,n,i){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),b="undefined"!=typeof WeakMap?new WeakMap:new t,w=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),i=new y(t,n,this);b.set(this,i)};return["observe","unobserve","disconnect"].forEach((function(e){w.prototype[e]=function(){var t;return(t=b.get(this))[e].apply(t,arguments)}})),void 0!==i.ResizeObserver?i.ResizeObserver:w}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),oo=oo.exports;var ao={__esModule:!0,formatNumberWithCommas:function(e){return new Intl.NumberFormat("en-US").format(e)}},so={};(function(e){(function(){"use strict";so.__esModule=!0,so.TimelineFilter=void 0;var t=r("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=r(si),i=r(oo);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=n.default.getLogger("timeline-filter"),l=function(){function e(e){var n=this,i=e.container,r=e.data,o=e.filterParamName,a=void 0===o?"f":o,l=e.yearsRangeParamTemplate,c=void 0===l?"y:{}-{}":l,u=e.enableHint,d=void 0===u||u,h=e.expandedStateQueryParam,f=void 0===h?{name:"tl",value:"on"}:h,p=e.searchFormControls;this.logger=s,this.windowElement=(0,t.default)(window),this.container=i,this.filterParamName=a,this.yearsRangeParamTemplate=c,this.toggleButton=this.container.find(".toggle-button"),this.resetButton=this.container.find(".reset-button"),this.histogramContainer=this.container.find(".histogram"),this.histogramSvg=this.histogramContainer.children("svg")[0],this.histogramHint=this.histogramContainer.children(".hint"),this.sliderContainer=this.container.find(".slider"),this.sliderEl=(0,t.default)("<div>").appendTo(this.sliderContainer),this.enableHint=d,this.searchFormControls=p,this.exportSearchByYearForm=this.container.find(".export-search-by-year-form"),this.downloadTimelineButton=this.exportSearchByYearForm.find(".download-results-by-year-button"),this.barMinHeight=.02,this.barMaxHeight=.95,this.maxSmallBarsAmount=15,this.data=this.constructor.formatData(r),this.expandedStateQueryParam=f,this.windowElement.on("pageshow",(function(e){e.originalEvent.persisted&&n.slider.reset()})),this.data.minYear!==this.data.maxYear?(this.changed=!1,this.renderHistogram(),this.initHistogramHint(),this.initSlider(),this.initExpandButton(),this.initResetButton(),this.initTimelineDownload()):s.info("Not initializing timeline for single year results.")}e.formatData=function(e){for(var t,n,i,r,a,s={},l=o(e.yearCounts);!(a=l()).done;){var c=a.value,u=c[0],d=c[1],h=parseInt(u,10);(void 0===t||t>h)&&(t=h),(void 0===n||n<h)&&(n=h),d&&((void 0===i||i>d)&&(i=d),(void 0===r||r<d)&&(r=d),s[h]=d)}return{minYear:t,maxYear:n,counts:s,minCount:i,maxCount:r,startYear:e.startYear||t,endYear:e.endYear||n}};var n=e.prototype;return n.renderHistogram=function(){this.bars=[];for(var e=this.data.maxYear-this.data.minYear+1,n=0;n<e;n++){var i=this.data.minYear+n,r=this.renderHistogramBar(n,i,e),o={year:i,count:this.data.counts[i]||0,bar:(0,t.default)(r)};o.countFormatted=(0,ao.formatNumberWithCommas)(o.count),this.bars.push(o),this.histogramSvg.appendChild(r)}},n.renderHistogramBar=function(e,t,n){var i=100/n,r=(this.data.counts[t]||0)/(this.data.maxCount||1);r=r*(this.barMaxHeight-this.barMinHeight)+this.barMinHeight,r*=100;var o=this.constructor.createSvgElement("g",{class:"bar-group","data-bar-index":e}),a=this.constructor.createSvgElement("rect",{class:"bar-bg",x:i*e+"%",y:0,width:i+"%",height:"100%"});o.appendChild(a);var s=this.constructor.createSvgElement("rect",{class:"bar",x:i*e+"%",y:100-r+"%",width:i+"%",height:r+"%"});return o.appendChild(s),o},e.createSvgElement=function(e,t){void 0===t&&(t={});for(var n=document.createElementNS("http://www.w3.org/2000/svg",e),i=0,r=Object.entries(t);i<r.length;i++){var o=r[i],a=o[0],s=o[1];n.setAttribute(a,s)}return n},n.initHistogramHint=function(){var e=this;if(this.enableHint){var n=this.histogramHint,i=this.histogramHint.find(".count"),r=this.histogramHint.find(".year");this.histogramContainer.on("mouseenter",(function(){return n.addClass("active")})),this.histogramContainer.on("mouseleave",(function(){return n.removeClass("active")})),this.histogramContainer.on("mouseover",".bar-group",(function(o){var a=(0,t.default)(o.target).closest(".bar-group").data("bar-index"),s=e.bars[a],l=s.year,c=s.countFormatted,u=e.histogramContainer[0].getBoundingClientRect().left,d=s.bar[0].getBoundingClientRect();n.css("left",d.left-u+d.width/2),r.text(l),i.text(c)}))}},n.initSlider=function(){var e=this,t={from:parseInt,to:parseInt},n=this.data.minYear,i=this.data.maxYear,r=this.data.startYear,o=this.data.endYear;this.slider=noUiSlider.create(this.sliderEl[0],{start:[r,o],step:1,connect:!0,behaviour:"tap-drag",range:{min:n,max:i},tooltips:[t,t]}),this.sliderEl.find(".noUi-handle-lower").attr("aria-label","Lower handle"),this.sliderEl.find(".noUi-handle-upper").attr("aria-label","Upper handle"),this.slider.on("change",(function(){return e._triggerChange()})),this.sliderEl.width(100*(1-1/(i-n+1))+"%"),this.bars.length>this.maxSmallBarsAmount&&this.container.addClass("lots-of-bars"),this.initSliderHistogram(),this.initSliderTooltips()},n.initSliderHistogram=function(){var e=this;this.slider.on("update",(function(t,n,i){var r=i[0],o=i[1];e.bars.forEach((function(e){e.bar.toggleClass("selected",e.year>=r&&e.year<=o)}))})),this.slider.on("start",(function(){e.histogramContainer.addClass("inactive")})),this.slider.on("end",(function(){e.histogramContainer.removeClass("inactive")})),this.histogramContainer.on("click",".bar-group",(function(n){var i=(0,t.default)(n.target).closest(".bar-group").data("bar-index"),r=e.bars[i].year,o=e._getSliderValue();o[0]===r&&o[1]===r?e.resetValue():e.setValue(r,r),e._triggerChange()}))},n.initSliderTooltips=function(){var e=this,t=this.sliderEl.find(".noUi-tooltip"),n=t.eq(0),i=t.eq(1),r=Math.max(n.outerWidth(),i.outerWidth());this.slider.on("update",(function(t,o,a,s,l){var c=e.sliderEl.width(),u=(l[1]-l[0])/100*c,d=(r-u)/2;if(u>0&&u<r){var h=l[0]/100*c,f=(1-l[1]/100)*c,p=h<d,m=f<d,g=p?-h:m?f-2*d:-d,v=m?f:p?2*d-h:d;n.css("transform","translateX("+g+"px)").addClass("with-dash"),i.css("transform","translateX("+v+"px)")}else n.css("transform","").removeClass("with-dash"),i.css("transform","");i.toggleClass("hidden",l[0]===l[1])}))},n.initExpandButton=function(){var e=this;this.toggleButton.prop("disabled",!1),this.toggleButton.on("click",(function(t){t.preventDefault(),e.isExpanded()?e.collapse():e.expand(),e._triggerSliderUpdate(),e.toggleButton.focus()})),this.resizeObserver=new i.default((function(){return e._triggerSliderUpdate()})),this.resizeObserver.observe(this.container.get(0))},n.expand=function(e){void 0===e&&(e=!1),this.container.addClass("expanded"),e||this.container.trigger("expanded")},n.collapse=function(e){void 0===e&&(e=!1),this.container.removeClass("expanded"),e||this.container.trigger("collapsed")},n.isExpanded=function(){return this.container.hasClass("expanded")},n.initResetButton=function(){var e=this;this.resetButton.prop("disabled",!1),this.resetButton.on("click",(function(t){t.preventDefault(),e.resetTimelineFilter(),e._triggerChange()})),this.getValue().isFullRange||this.resetButton.addClass("active"),this.slider.on("update",(function(){e.resetButton.toggleClass("active",!e.getValue().isFullRange)}))},n.initTimelineDownload=function(){var e=this;this.downloadTimelineButton.prop("disabled",!1),this.downloadTimelineButton.click((function(){for(var t,n=o(e.searchFormControls);!(t=n()).done;)t.value.hide().appendTo(e.exportSearchByYearForm)}))},n.resetTimelineFilter=function(){this.resetValue(),this.resetButton.removeClass("active")},n.resetValue=function(){this.setValue(this.data.minYear,this.data.maxYear)},n.getValue=function(){var e=this._getSliderValue(),t=e[0],n=e[1],i=this.slider.options.range;return{startYear:t,endYear:n,filterField:{name:this.filterParamName,value:this.yearsRangeParamTemplate.replace("{}",t).replace("{}",n),isTimelineFilter:!0},isFullRange:t===i.min&&n===i.max}},n.setValue=function(e,t){this.slider.set([e,t])},n._getSliderValue=function(){return this.slider.get().map((function(e){return parseInt(e,10)}))},n._triggerChange=function(){if(!this.changed){this.changed=!0;var e=this.getValue();s.debug("Triggering 'timeline-changed' event",e),this.container.trigger("timeline-changed",[e])}},n._triggerSliderUpdate=function(){this.slider.set(this.slider.get())},e}();so.TimelineFilter=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var lo={__esModule:!0,FiltersWithTimeline:void 0},co=ho(si),uo=ho(li);function ho(e){return e&&e.__esModule?e:{default:e}}function fo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var po=co.default.getLogger("search-form"),mo=function(){function e(e){var t=this,n=e.windowElement,i=e.staticFiltersContainer,r=e.searchConstants,o=e.appliedFiltersMessage,a=e.filtersTrigger,s=e.timelineTrigger,l=e.timelineData,c=e.inlineTimelineFilter,u=e.sideTimelineFilter,d=e.searchFormControls;this.windowElement=n,this.staticFiltersContainer=i,this.searchConstants=r,this.appliedFiltersMessage=o,this.filtersTrigger=a,this.timelineTrigger=s,this.inlineTimelineFilterContainer=c,this.sideTimelineFilterContainer=u,this.searchFormControls=d,this.timelineData=this.parseTimelineData(l),this.isDesktopSize=this.isDesktop(),this.windowElement.on("resize",(0,uo.default)((function(){var e=t.isDesktop();t.isDesktopSize!==e&&(t.isDesktopSize=e,t.initTimeline(),t.isDesktopSize?t.filtersField.container.show():(t.filtersTrigger.removeClass("active"),t.filtersField.container.hide()))}),200)),this.initFilters()}var t,n,i=e.prototype;return i.isDesktop=function(){return this.windowElement[0].innerWidth>=1020},i.parseTimelineData=function(e){if(!e)return null;e=Object.assign({},e);try{e.yearCounts=JSON.parse(e.yearCounts)}catch(t){return null}return e.yearCounts.length?e:null},i.initFilters=function(){var e=this;this.staticFiltersContainer[0]&&(this.filtersField=new ro.FiltersField({container:this.staticFiltersContainer.find(".filters-field"),searchConstants:this.searchConstants,appliedFiltersMessage:this.appliedFiltersMessage,filtersTrigger:this.filtersTrigger}),this.filtersTrigger.on("click",(function(t){t.preventDefault(),e.filtersTrigger.hasClass("active")?e.staticFiltersContainer.find(".filters-field").find(".choice-group").first().find("input").first().focus():e.filtersTrigger.focus()})),this.filtersField.container.on("reset-timeline-filter",(function(){e.sideTimelineFilter&&e.sideTimelineFilter.resetTimelineFilter(),e.inlineTimelineFilter&&e.inlineTimelineFilter.resetTimelineFilter()})),this.filtersField.container.on("hide-inline-timeline",(function(){e.inlineTimelineFilter&&e.inlineTimelineFilter.collapse(),e.timelineTrigger.removeClass("active")})),this.timelineData?this.filtersField.container.on("filters-changed",(function(t,n){n=e.adjustWithTimelineSelection(n),e.staticFiltersContainer.trigger("submit-filters",[n])})):this.filtersField.container.on("filters-changed",(function(t,n){e.staticFiltersContainer.trigger("submit-filters",[n])})),this.staticFiltersContainer.on("filters-list-updated",(function(t,n,i){e.filtersField.filterInputsUpdated(n,i)})),this.initTimeline())},i.initTimeline=function(){var e=this;if(this.timelineData&&(this.staticFiltersContainer.trigger("adjust-timeline-and-user-filters",[this.getTimelineElementToAdjustForUserFilters(),this.isTimelineExpanded()]),!(this.isDesktopSize&&this.sideTimelineFilter||!this.isDesktopSize&&this.inlineTimelineFilter))){var t=this.getExpandedStateQueryParam(),n=null,i=this.isDesktopSize?this.sideTimelineFilterContainer:this.inlineTimelineFilterContainer;(n=new so.TimelineFilter({container:i,data:this.timelineData,filterParamName:this.searchConstants.FILTER_KEY,yearsRangeParamTemplate:this.searchConstants.FILTER_YEARS_RANGE_TEMPLATE,enableHint:this.isDesktopSize,expandedStateQueryParam:t,searchFormControls:this.searchFormControls})).container.on("timeline-changed",(function(){e.filtersField.resetSelectedDateFilters();var t=e.filtersField.getSelectedFilters(),i=n.getValue();i.isFullRange||t.push(i.filterField),(0,Ri.reportEvent)("add_filter","timeline","filter"),e.staticFiltersContainer.trigger("submit-filters",[t])})),n||po.warn("Desktop or mobile timeline is not initialized, cannot init interactions"),this.expandOrCollapseTimeline(n),n&&this.isDesktopSize&&this.initSideTimeline(n),n&&!this.isDesktopSize&&this.initInlineTimeline(n)}},i.expandOrCollapseTimeline=function(e){var t=this.isTimelineExpanded();t&&!e.isExpanded()&&e.expand(),!t&&e.isExpanded()&&e.collapse()},i.initSideTimeline=function(e){var t=this;this.sideTimelineFilter=e,this.sideTimelineFilter.container.on("expanded",(function(){t.staticFiltersContainer.trigger("timeline-expanded"),t.timelineTrigger.addClass("active"),t.inlineTimelineFilterContainer.addClass("expanded"),t.inlineTimelineFilter&&!t.inlineTimelineFilter.isExpanded()&&t.inlineTimelineFilter.expand()})),this.sideTimelineFilter.container.on("collapsed",(function(){t.staticFiltersContainer.trigger("timeline-collapsed"),t.timelineTrigger.removeClass("active"),t.inlineTimelineFilterContainer.removeClass("expanded"),t.inlineTimelineFilter&&t.inlineTimelineFilter.isExpanded()&&t.inlineTimelineFilter.collapse()}))},i.initInlineTimeline=function(e){var t=this;this.inlineTimelineFilter=e,this.timelineTrigger.on("click",(function(e){e.preventDefault(),t.timelineTrigger.toggleClass("active"),t.timelineTrigger.hasClass("active")?(t.inlineTimelineFilter.expand(),t.inlineTimelineFilterContainer.find(".download-results-by-year-button").focus()):(t.inlineTimelineFilter.collapse(),t.timelineTrigger.focus())})),this.inlineTimelineFilter.container.on("expanded",(function(){t.staticFiltersContainer.trigger("timeline-expanded"),t.sideTimelineFilter&&!t.sideTimelineFilter.isExpanded()&&t.sideTimelineFilter.expand(),t.isDesktopSize||(t.filtersTrigger.removeClass("active"),t.filtersField.container.hide())})),this.inlineTimelineFilter.container.on("collapsed",(function(){t.staticFiltersContainer.trigger("timeline-collapsed"),t.sideTimelineFilter&&t.sideTimelineFilter.isExpanded()&&t.sideTimelineFilter.collapse()}))},i.adjustWithTimelineSelection=function(e){var t=this.filtersField.getSelectedDateFilterValue();if(t){var n=t.startYear,i=t.endYear;this.sideTimelineFilter&&this.sideTimelineFilter.setValue(n,i),this.inlineTimelineFilter&&this.inlineTimelineFilter.setValue(n,i)}else{var r=(this.sideTimelineFilter||this.inlineTimelineFilter).getValue();r.isFullRange||e.push(r.filterField)}return e},i.getTimelineElementToAdjustForUserFilters=function(){return this.isDesktopSize?this.sideTimelineFilterContainer:null},i.isTimelineExpanded=function(){return new ji.QueryDict(window.location.search.substr(1)).getParam(this.getExpandedStateQueryParam().name)},i.getExpandedStateQueryParam=function(){return this.searchConstants.expandedTimelineStateQueryParam},t=e,(n=[{key:"timelineFilter",get:function(){return this.sideTimelineFilter?this.sideTimelineFilter:this.inlineTimelineFilter?this.inlineTimelineFilter:void 0}}])&&fo(t.prototype,n),e}();lo.FiltersWithTimeline=mo;var go={};(function(e){(function(){"use strict";Object.defineProperty(go,"__esModule",{value:!0}),go.default=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r={hint:!1,limit:5,unpack:!1},o=function(){function e(t){var i=t.apiUrl,o=t.target,a=t.cssClass,s=void 0===a?"ncbi-autocomplete":a,l=t.filterSuggestions,c=void 0===l||l,u=t.options;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiUrl=i,this.target=(0,n.default)(o),this.cssClass=s,this._cache={},this.options=n.default.extend({},r,u),this.options.limit=+this.options.limit||r.limit,this.filterSuggestions=c,this.initAutocomplete()}var t,o;return t=e,(o=[{key:"initAutocomplete",value:function(){var e=this;this.suggestionsSource=this.constructSuggestionsSource(),this.typeahead=this.target.typeahead(this.options,{source:this.suggestionsSource,limit:this.options.limit,templates:{pending:function(){},notFound:function(){return""}}}),this.target.parent().addClass(this.cssClass),this.typeahead.data("tt-typeahead").input.off("enterKeyed"),this.typeahead.parent().removeAttr("style"),this.typeahead.bind("typeahead:select",(function(t,n){e.target.typeahead("val",n),e.target.trigger("suggestion-selected")}))}},{key:"constructSuggestionsSource",value:function(){var e=this;return function(t,i,r){t=(t=t.toLowerCase()).replace(/[<>=&"\/\/]/g," ").replace(/\s+/g," ").trim(),e._rebuildCache(t),t in e._cache?setTimeout((function(){return r(e.unpack(e._cache[t].suggestions))}),0):t.length<100&&n.default.get(e.apiUrl,{term:t}).done((function(n){var i=t;n.term&&(i=n.term),e._cache[i]={isCompleteList:Boolean(n.code),suggestions:n.suggestions},e._rebuildCache(t);var o=t in e._cache?e.unpack(e._cache[t].suggestions):[];r(o)})).fail((function(){return r([])}))}}},{key:"_rebuildCache",value:function(e){if(!this._cache[e]){for(var t,n,i,r=1,o=e.length;r<=10&&r<o&&(n=e.substring(0,e.length-r),!(t=this._cache[n]));r++);t&&!0===t.isCompleteList&&(i=this.filterSuggestions?t.suggestions.filter((function(t){return t.toLowerCase().includes(e)})):t.suggestions.slice(),this._cache[e]={isCompleteList:!0,suggestions:i})}}},{key:"unpack",value:function(e){return!0===this.options.unpack?e.map((function(e){return e.split("@")[0]})):e}}])&&i(t.prototype,o),e}();go.default=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var vo={__esModule:!0,isMediumLayout:function(){return window.innerWidth>=yo},isLargeDesktop:function(){return window.innerWidth>=bo}};vo.LARGE_DESKTOP_MIN_WIDTH=vo.MEDIUM_LAYOUT_MIN_WIDTH=void 0;var yo=700;vo.MEDIUM_LAYOUT_MIN_WIDTH=yo;var bo=1280;vo.LARGE_DESKTOP_MIN_WIDTH=bo;var wo={__esModule:!0,moveCursorToEndOfInput:function(e){var t=e[0];e.focus(),t.selectionStart=t.selectionEnd=t.value.length}},So={};function _o(e,t){e.toggleClass("active",Boolean(t.val()))}So.__esModule=!0,So.selectItemOnEnterKey=function(e,t){if(13===e.which){var n=t.target.parent().find(".tt-menu .tt-suggestion.tt-cursor");1===n.length&&(n.trigger("click"),e.preventDefault())}},So.initSearchInputCleaner=function(e,t){e.on("click",(function(n){n.preventDefault(),t.val(""),_o(e,t),t.typeahead("val","").focus()})),t.on("keyup paste change",(function(){_o(e,t)})),_o(e,t)},So.updateSearchInputCleaner=_o;var Co={__esModule:!0,isElementVisible:function(e){void 0===e&&(e={});var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<0||t.top-n>=0)}},ko={};(function(e){(function(){"use strict";ko.__esModule=!0,ko.SearchFormBase=void 0;var t=o("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=o(si),i=o(go),r=o(li);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=n.default.getLogger("search-form-base"),l=function(){function e(e){var n=this,i=e.form,r=e.baseSuggestionsUrl,o=e.searchIdCookieName,a=e.adjNavSearchIdCookieName,l=e.searchFormSubmittedCookieName,c=e.jsCookieDomain,u=e.skipQueryInputFocus,d=void 0!==u&&u,h=e.filterSuggestions,f=void 0===h||h,p=e.eventCategory,m=void 0===p?"search":p;this.logger=s,this.body=(0,t.default)("body"),this.form=i,this.searchInputTrigger=this.form.find(".search-input-trigger"),this.searchInputContainer=this.form.find(".search-input"),this.searchInputCleaner=this.searchInputContainer.find(".clear-btn"),this.queryField=this.searchInputContainer.find('[type="search"]'),this.searchButton=this.searchInputContainer.find(".search-btn"),this.initialQuery=this.queryField.val(),this.windowScrollElement=(0,t.default)("html, body"),this.windowElement=(0,t.default)(window),this.searchUrlMaximumLength=2e3,this.searchIdCookieName=o,this.adjNavSearchIdCookieName=a,this.jsCookieDomain=c,this.searchFormSubmittedCookieName=l,this.filtersStorage=new Xr.PersistentFiltersStorage,this.skipQueryInputFocus=d,this.filterSuggestions=f,this.eventCategory=m,this.isIE=window.document.documentMode,this.initFormSubmit(),r&&this.initAutocomplete(r),this.initSearchInput(),this.initSearchInputTrigger(),(0,So.initSearchInputCleaner)(this.searchInputCleaner,this.queryField),this.initSearchFormOnSubmitData(),this.searchButton.click((function(){(0,Ir.clearSearchCookie)(n.searchIdCookieName,n.jsCookieDomain),(0,Ir.clearSearchCookie)(n.adjNavSearchIdCookieName,n.jsCookieDomain)})),this.isIE&&this.initTermInputPasteHandler()}var n=e.prototype;return n.initFormSubmit=function(){var e=this;this.form.on("submit",(function(t){return e.onFormSubmit(t)}))},n.onFormSubmit=function(e){this.form.trigger("submit-data",[this.form]),this.form.reported||this.gaReport()},n.gaReport=function(){var e=this;(0,Ri.reportEvent)("search_button","",this.eventCategory).done((function(){e.form.reported=!0}))},n.initAutocomplete=function(e,t){var n,r=this;n=void 0!==t?t:this.filterSuggestions,this.autocomplete=new i.default({apiUrl:e,target:this.queryField,filterSuggestions:n}),this.autocomplete.target.on("suggestion-selected",(function(){(0,Ir.clearSearchCookie)(r.searchIdCookieName,r.jsCookieDomain),(0,Ir.clearSearchCookie)(r.adjNavSearchIdCookieName,r.jsCookieDomain),(0,Ri.reportEvent)("autosuggest",r.queryField.val(),r.eventCategory).done((function(){r.form.submit()}))})),this.autocomplete.target.on("keydown",(function(e){(0,So.selectItemOnEnterKey)(e,r.autocomplete)}))},n.initSearchInput=function(){var e=this;(0,t.default)(document).ready((function(){return e.initFocusInInput()})),this.queryField.on("focus",(function(){1===(0,t.default)(".article-page").length&&e.queryField.typeahead("close"),(0,vo.isMediumLayout)()||e.windowScrollElement.stop(!0,!1).animate({scrollTop:e.queryField.offset().top-17},300)})),this.queryField.on("populate-search-input",(function(n,i,r,o){var a=e.queryField.typeahead("val"),s=i;!o&&a&&(s="("+a+") AND "+i),e.queryField.typeahead("val",s).focus(),e.queryField.change(),!((0,t.default)(window).width()<=1019)||e.searchInputTrigger.hasClass("active")||r||e.searchInputTrigger.click(),e.queryField.typeahead("close")}))},n.initSearchInputTrigger=function(){var e=this;this.searchInputTrigger.on("click",(function(t){t.preventDefault();var n=e.searchInputTrigger.prop("title"),i=e.searchInputTrigger.data("alt-title");e.searchInputTrigger.toggleClass("active").prop("title",i).data("alt-title",n),e.searchInputContainer.toggleClass("active"),e.searchInputContainer.hasClass("active")&&(0,wo.moveCursorToEndOfInput)(e.queryField)})),this.setSearchInputTriggerAttrs(),this.windowElement.on("resize",(0,r.default)((function(){e.setSearchInputTriggerAttrs()}),200))},n.setSearchInputTriggerAttrs=function(){this.searchInputTrigger.is(":visible")?(this.searchInputTrigger.attr("aria-hidden",!1),this.searchInputTrigger.attr("tabIndex",0)):(this.searchInputTrigger.attr("aria-hidden",!0),this.searchInputTrigger.attr("tabIndex",-1))},n.initSearchFormOnSubmitData=function(){var e=this;this.form.on("submit-data",(function(n,i){for(var r,o=e.filtersStorage.filtersData,s=Array.from(i[0].elements),l=function(){var e=r.value;s.filter((function(t){return t.name===e.name&&t.value===e.value})).length||(0,t.default)("<input />",{type:"hidden",name:e.name,value:e.value}).appendTo(i)},c=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(o);!(r=c()).done;)l();e.csrftoken=e.getCsrfTokenData(e.body),i.serialize().length>e.searchUrlMaximumLength?(0===e.getCsrfTokenData(i).length&&e.csrftoken.appendTo(i),i.attr("method","post")):"post"===i.attr("method").toLowerCase()&&(i.attr("method","get"),(0,t.default)(e.getCsrfTokenData(i)).remove()),(0,Ir.setSubmittedSearchCookie)(e.searchFormSubmittedCookieName,e.jsCookieDomain)}))},n.getCsrfTokenData=function(e){return e.find('[name="csrfmiddlewaretoken"]').first()},n.getFormData=function(){var e=this.form.serialize();return new ji.QueryDict(e)},n.initFocusInInput=function(){var e=this;if(this.enableAutoComplete=!1,this.searchButton.prop("disabled",!1),(0,vo.isMediumLayout)()&&-1==window.location.href.indexOf("#")&&!this.skipQueryInputFocus){(0,wo.moveCursorToEndOfInput)(this.queryField);var n=window.document.documentMode,i="True"!==this.queryField.data("skip-ie-scroll-to-top");n&&(0,t.default)(document).one("scroll",(function(){i&&!(0,Co.isElementVisible)(e.queryField[0])&&(0,t.default)(document).scrollTop(0)})),(0,t.default)(document).on("typeahead:rendered typeahead:open",(function(){e.enableAutoComplete||e.queryField.typeahead("close")})),this.queryField.keypress((function(){e.enableAutoComplete=!0})),this.queryField.keydown((function(t){40===t.which&&(e.enableAutoComplete=!0,e.queryField.typeahead("open")),34===t.which&&setTimeout((function(){(0,r.default)((function(){e.queryField.blur(),window.scrollBy(0,window.innerHeight)}),100)}),100),33===t.which&&setTimeout((function(){(0,r.default)((function(){e.queryField.blur(),window.scrollBy(0,-window.innerHeight)}),100)}),100)})),this.queryField.on("click",(function(){e.enableAutoComplete=!0,e.queryField.typeahead("open")}))}},n.initTermInputPasteHandler=function(){this.searchInputContainer.on("paste",(function(e){e.preventDefault();var t="";e.clipboardData||e.originalEvent.clipboardData?t=(e.originalEvent||e).clipboardData.getData("text/plain"):window.clipboardData&&(t=window.clipboardData.getData("Text")),t=t.replace(/\r?\n|\r/g,""),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,t):document.execCommand("paste",!1,t)}))},e}();ko.SearchFormBase=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var To=qe.findIndex,xo=!0,Eo=st("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){xo=!1})),Ae({target:"Array",proto:!0,forced:xo||!Eo},{findIndex:function(e){return To(this,e,arguments.length>1?arguments[1]:void 0)}}),tt("findIndex");var Do={};(function(e){(function(){"use strict";Do.__esModule=!0,Do.CustomFiltersDialog=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(li);function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var a=function(){function e(e){var i=this,r=e.container,o=e.customizeFiltersBtn,a=e.selectedCustomFilters;this.container=r,this.windowElement=(0,t.default)(window),this.customizeFiltersBtn=o,this.customizeFiltersShowBtn=this.container.find(".show-btn"),this.customizeFiltersCancelBtn=this.container.find(".cancel-btn"),this.checkboxContainer=this.container.find(".custom-filters-checkbox-container"),this.groupTitlesContainer=this.container.find(".group-titles-container"),this.groupTitleListItems=this.groupTitlesContainer.find("li"),this.groupTitleLinks=this.groupTitleListItems.find(".choice-group-title-link"),this.choiceGroupCheckboxes=this.container.find(".choice-group"),this.previousWidth=this.windowElement[0].innerWidth,this.closeDialogButton=this.container.find(".close-overlay"),this.desktopMinWidth=1020,this.initCustomizeFilters(),this.choiceGroupCheckboxes.find('input[type="checkbox"]').each((function(e,n){a.indexOf(n.value)>-1&&(0,t.default)(n).prop("checked",!0)})),this.previousWidth>=this.desktopMinWidth?this.initDesktopNavigation():this.initMobileNavigation(),this.windowElement.on("resize",(0,n.default)((function(){i.newWidth=i.windowElement[0].innerWidth,i.previousWidth>=i.desktopMinWidth&&i.newWidth<i.desktopMinWidth?(i.initMobileNavigation(),i.previousWidth=i.windowElement[0].innerWidth):i.previousWidth<i.desktopMinWidth&&i.newWidth>=i.desktopMinWidth&&(i.initDesktopNavigation(),i.previousWidth=i.windowElement[0].innerWidth)}),200))}var i=e.prototype;return i.initCustomizeFilters=function(){var e=this;this.customizeFiltersOverlayBlock=new gi.OverlayBlock({container:this.container,triggers:this.customizeFiltersBtn}),this.selectedCustomFilters=[],this.unselectedCustomFilters=[],this.choiceGroupCheckboxes.find('input[type="checkbox"]').on("click",(function(n){var i={value:n.target.getAttribute("value"),name:n.target.getAttribute("name"),title:(0,t.default)(n.target).parent().find("label").text().trim()};if(!0===n.currentTarget.checked){e.selectedCustomFilters.push(i);var r=e.unselectedCustomFilters.findIndex((function(e){return e.value===n.target.getAttribute("value")}));-1!==r&&e.unselectedCustomFilters.splice(r,1)}else{e.unselectedCustomFilters.push(i);var o=e.selectedCustomFilters.findIndex((function(e){return e.value===n.target.getAttribute("value")}));-1!==o&&e.selectedCustomFilters.splice(o,1)}})),this.customizeFiltersShowBtn.on("click",(function(t){t.preventDefault(),e.container.trigger("update-choice-groups",[e.selectedCustomFilters,e.unselectedCustomFilters]),e.selectedCustomFilters.length&&(0,Ri.reportEvent)("additional_filters",e.selectedCustomFilters.map((function(e){return e.title})).join(","),"filter"),e.unselectedCustomFilters=[],e.selectedCustomFilters=[],e.customizeFiltersOverlayBlock.hide()})),this.customizeFiltersCancelBtn.on("click",(function(t){t.preventDefault(),e.customizeFiltersOverlayBlock.hide()})),this.container.closest(".overlay").on("overlay-hide-called",(function(){return e.resetFilters()}))},i.initMobileNavigation=function(){var e=this;this.groupTitleLinks.off(),this.choiceGroupCheckboxes.hide(),this.customizeFiltersShowBtn.hide(),this.groupTitleLinks.removeClass("desktop-current-title-link"),this.groupTitlesContainer.removeClass("has-expanded-group"),this.groupTitleLinks.on("click",(function(t){e.groupTitleLinksMobileClickHandler(t)})),this.groupTitleLinks.on("keypress",(function(t){"enter"===t.key.toLowerCase()&&e.groupTitleLinksMobileClickHandler(t)})),this.customizeFiltersShowBtn.on("click",(function(){return e.groupTitleListItems.removeClass("mobile-current-title-link"),e.choiceGroupCheckboxes.hide(),e.customizeFiltersShowBtn.hide(),void e.groupTitleListItems.show()})),this.container.closest(".overlay").on("overlay-hide-called",(function(){e.choiceGroupCheckboxes.hide(),e.customizeFiltersShowBtn.hide(),e.groupTitleListItems.show(),e.groupTitlesContainer.removeClass("has-expanded-group"),e.groupTitlesContainer.find(".mobile-current-title-link").removeClass("mobile-current-title-link")})),this.closeDialogButton.on("click",(function(){return e.resetFilters()}))},i.groupTitleLinksMobileClickHandler=function(e){e.preventDefault();var n=(0,t.default)(e.currentTarget).closest("li");this.checkboxContainer.scrollTop(0),n.hasClass("mobile-current-title-link")?(n.removeClass("mobile-current-title-link"),this.choiceGroupCheckboxes.hide(),this.customizeFiltersShowBtn.hide(),this.groupTitleListItems.show(),this.groupTitlesContainer.removeClass("has-expanded-group")):(this.mobileIndex=this.groupTitleListItems.index(n),n.addClass("mobile-current-title-link"),this.choiceGroupCheckboxes.hide(),this.groupTitleListItems.hide(),this.choiceGroupCheckboxes.eq(this.mobileIndex).show(),this.checkboxContainer.show(),this.groupTitleListItems.eq(this.mobileIndex).show(),this.customizeFiltersShowBtn.show(),this.groupTitlesContainer.addClass("has-expanded-group"),0!==this.mobileIndex&&this.customizeFiltersOverlayBlock.trapFocus(this.container)),this.latestChoiceGroupTitle=(0,t.default)(e.currentTarget)},i.initDesktopNavigation=function(){var e=this;this.groupTitleLinks.off(),this.customizeFiltersShowBtn.off("mobileShowHandler"),this.customizeFiltersShowBtn.show(),this.groupTitleListItems.show(),this.groupTitleListItems.removeClass("mobile-current-title-link"),this.latestChoiceGroupTitle?(this.groupTitleLinks.removeClass("desktop-current-title-link"),this.latestChoiceGroupTitle.addClass("desktop-current-title-link")):this.groupTitleLinks.eq(0).addClass("desktop-current-title-link"),this.mobileIndex?this.choiceGroupCheckboxes.eq(this.mobileIndex).show():this.choiceGroupCheckboxes.eq(0).show(),this.groupTitleLinks.on("click",(function(t){e.groupTitleLinksDesktopClickHandler(t)})),this.groupTitleLinks.on("keypress",(function(t){"enter"===t.key.toLowerCase()&&e.groupTitleLinksDesktopClickHandler(t)}))},i.groupTitleLinksDesktopClickHandler=function(e){e.preventDefault(),this.checkboxContainer.scrollTop(0),this.choiceGroupCheckboxes.hide(),this.groupTitleLinks.removeClass("desktop-current-title-link"),(0,t.default)(e.currentTarget).addClass("desktop-current-title-link");var n=(0,t.default)(e.currentTarget).closest("li"),i=this.groupTitleListItems.index(n);this.choiceGroupCheckboxes.eq(i).show()},i.resetFilters=function(){for(var e,n=r(this.selectedCustomFilters);!(e=n()).done;){var i=e.value;(0,t.default)("label[for='id_custom_filter_"+i.value+"']").siblings("input").prop("checked",!1)}for(var o,a=r(this.unselectedCustomFilters);!(o=a()).done;){var s=o.value;(0,t.default)("label[for='id_custom_filter_"+s.value+"']").siblings("input").prop("checked",!0)}this.selectedCustomFilters=[],this.unselectedCustomFilters=[]},e}();Do.CustomFiltersDialog=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Fo={__esModule:!0,PersistentCustomFiltersStorage:void 0},Io=function(e){var t,n;function i(){return e.call(this,"pm-custom-filters")||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(Jr.BasePersistentFiltersStorage);Fo.PersistentCustomFiltersStorage=Io;var Ao={exports:{}};(function(e){(function(){var t="[object Arguments]",n="[object Map]",i="[object Object]",r="[object Set]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[t]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[n]=h["[object Number]"]=h[i]=h["[object RegExp]"]=h[r]=h["[object String]"]=h["[object WeakMap]"]=!1;var f="object"==typeof e&&e&&e.Object===Object&&e,p="object"==typeof self&&self&&self.Object===Object&&self,m=f||p||Function("return this")(),g="object"==typeof Ao.exports&&Ao.exports&&!Ao.exports.nodeType&&Ao.exports,v=g&&Ao&&!Ao.nodeType&&Ao,y=v&&v.exports===g&&f.process,b=function(){try{return y&&y.binding("util")}catch(e){}}(),w=b&&b.isTypedArray;function S(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function _(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function C(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function k(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var T,x,E,D=Array.prototype,F=Function.prototype,I=Object.prototype,A=m["__core-js_shared__"],O=(T=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",M=F.toString,P=I.hasOwnProperty,j=I.toString,L=RegExp("^"+M.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=m.Symbol,N=m.Uint8Array,Y=I.propertyIsEnumerable,B=D.splice,V=(x=Object.keys,E=Object,function(e){return x(E(e))}),U=pe(m,"DataView"),H=pe(m,"Map"),W=pe(m,"Promise"),Q=pe(m,"Set"),q=pe(m,"WeakMap"),z=pe(Object,"create"),G=Ce(U),J=Ce(H),$=Ce(W),K=Ce(Q),Z=Ce(q),X=R?R.prototype:void 0,ee=X?X.valueOf:void 0,te=X?X.toString:void 0;function ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.__data__=new re;++t<n;)this.add(e[t])}function ae(e){this.__data__=new ie(e)}function se(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function le(e,t){for(var n=0,i=(t=ve(t,e)?[t]:de(t)).length;null!=e&&n<i;)e=e[_e(t[n++])];return n&&n==i?e:void 0}function ce(e,t){return null!=e&&t in Object(e)}function ue(e,o,a,s,l){return e===o||(null==e||null==o||!Oe(e)&&!Me(o)?e!=e&&o!=o:function(e,o,a,s,l,c){var u=De(e),d=De(o),h="[object Array]",f="[object Array]";u||(h=(h=me(e))==t?i:h),d||(f=(f=me(o))==t?i:f);var p=h==i&&!_(e),m=f==i&&!_(o),g=h==f;if(g&&!p)return c||(c=new ae),u||je(e)?he(e,o,a,s,l,c):function(e,t,i,o,a,s,l){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new N(e),new N(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case n:var c=C;case r:var u=2&s;if(c||(c=k),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;s|=1,l.set(e,t);var h=he(c(e),c(t),o,a,s,l);return l.delete(e),h;case"[object Symbol]":if(ee)return ee.call(e)==ee.call(t)}return!1}(e,o,h,a,s,l,c);if(!(2&l)){var v=p&&P.call(e,"__wrapped__"),y=m&&P.call(o,"__wrapped__");if(v||y){var b=v?e.value():e,w=y?o.value():o;return c||(c=new ae),a(b,w,s,l,c)}}return!!g&&(c||(c=new ae),function(e,t,n,i,r,o){var a=2&r,s=Le(e),l=s.length;if(l!=Le(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:P.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var p=e[u=s[c]],m=t[u];if(i)var g=a?i(m,p,u,t,e,o):i(p,m,u,e,t,o);if(!(void 0===g?p===m||n(p,m,i,r,o):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,o,a,s,l,c))}(e,o,ue,a,s,l))}function de(e){return De(e)?e:Se(e)}function he(e,t,n,i,r,o){var a=2&r,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,h=1&r?new oe:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],p=t[u];if(i)var m=a?i(p,f,u,t,e,o):i(f,p,u,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!S(t,(function(e,t){if(!h.has(t)&&(f===e||n(f,e,i,r,o)))return h.add(t)}))){d=!1;break}}else if(f!==p&&!n(f,p,i,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function fe(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Oe(e)||(t=e,O&&O in t))&&(Ie(e)||_(e)?L:u).test(Ce(e));var t}(n)?n:void 0}ne.prototype.clear=function(){this.__data__=z?z(null):{}},ne.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ne.prototype.get=function(e){var t=this.__data__;if(z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return P.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return z?void 0!==t[e]:P.call(t,e)},ne.prototype.set=function(e,t){return this.__data__[e]=z&&void 0===t?"__lodash_hash_undefined__":t,this},ie.prototype.clear=function(){this.__data__=[]},ie.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():B.call(t,n,1),0))},ie.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},ie.prototype.has=function(e){return se(this.__data__,e)>-1},ie.prototype.set=function(e,t){var n=this.__data__,i=se(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},re.prototype.clear=function(){this.__data__={hash:new ne,map:new(H||ie),string:new ne}},re.prototype.delete=function(e){return fe(this,e).delete(e)},re.prototype.get=function(e){return fe(this,e).get(e)},re.prototype.has=function(e){return fe(this,e).has(e)},re.prototype.set=function(e,t){return fe(this,e).set(e,t),this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new ie},ae.prototype.delete=function(e){return this.__data__.delete(e)},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ie){var i=n.__data__;if(!H||i.length<199)return i.push([e,t]),this;n=this.__data__=new re(i)}return n.set(e,t),this};var me=function(e){return j.call(e)};function ge(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function ve(e,t){if(De(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Pe(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}function ye(e){return e==e&&!Oe(e)}function be(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function we(e,t){return 1==t.length?e:le(e,function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(t,0,-1))}(U&&"[object DataView]"!=me(new U(new ArrayBuffer(1)))||H&&me(new H)!=n||W&&"[object Promise]"!=me(W.resolve())||Q&&me(new Q)!=r||q&&"[object WeakMap]"!=me(new q))&&(me=function(e){var t=j.call(e),o=t==i?e.constructor:void 0,a=o?Ce(o):void 0;if(a)switch(a){case G:return"[object DataView]";case J:return n;case $:return"[object Promise]";case K:return r;case Z:return"[object WeakMap]"}return t});var Se=Te((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Pe(e))return te?te.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(l,(function(e,t,i,r){n.push(i?r.replace(c,"$1"):t||e)})),n}));function _e(e){if("string"==typeof e||Pe(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ce(e){if(null!=e){try{return M.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ke(e){var t=e?e.length:0;return t?e[t-1]:void 0}function Te(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(Te.Cache||re),n}function xe(e,t){return e===t||e!=e&&t!=t}function Ee(e){return function(e){return Me(e)&&Fe(e)}(e)&&P.call(e,"callee")&&(!Y.call(e,"callee")||j.call(e)==t)}Te.Cache=re;var De=Array.isArray;function Fe(e){return null!=e&&Ae(e.length)&&!Ie(e)}function Ie(e){var t=Oe(e)?j.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Me(e){return!!e&&"object"==typeof e}function Pe(e){return"symbol"==typeof e||Me(e)&&"[object Symbol]"==j.call(e)}var je=w?function(e){return function(t){return e(t)}}(w):function(e){return Me(e)&&Ae(e.length)&&!!h[j.call(e)]};function Le(e){return Fe(e)?function(e,t){var n=De(e)||Ee(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!P.call(e,o)||r&&("length"==o||ge(o,i))||n.push(o);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||I))return V(e);var t,n,i=[];for(var r in Object(e))P.call(e,r)&&"constructor"!=r&&i.push(r);return i}(e)}function Re(e){return e}Ao.exports=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=function(e){return"function"==typeof e?e:null==e?Re:"object"==typeof e?De(e)?function(e,t){return ve(e)&&ye(t)?be(_e(e),t):function(n){var i=function(e,t,n){var i=null==e?void 0:le(e,t);return void 0===i?void 0:i}(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&function(e,t,n){for(var i,r=-1,o=(t=ve(t,e)?[t]:de(t)).length;++r<o;){var a=_e(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||!!(o=e?e.length:0)&&Ae(o)&&ge(a,o)&&(De(e)||Ee(e))}(e,t,ce)}(n,e):ue(t,i,void 0,3)}}(e[0],e[1]):1==(n=function(e){for(var t=Le(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ye(r)]}return t}(t=e)).length&&n[0][2]?be(n[0][0],n[0][1]):function(e){return e===t||function(e,t,n,i){var r=n.length,o=r;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){var s=(a=n[r])[0],l=e[s],c=a[1];if(a[2]){if(void 0===l&&!(s in e))return!1}else{var u,d=new ae;if(!(void 0===u?ue(c,l,void 0,3,d):u))return!1}}return!0}(e,0,n)}:ve(i=e)?(r=_e(i),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return le(t,e)}}(i);var t,n,i,r}(t);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return function(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;if(ge(r))B.call(e,r,1);else if(ve(r,e))delete e[_e(r)];else{var a=de(r),s=we(e,a);null!=s&&delete s[_e(ke(a))]}}}}(e,r),n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),Ao=Ao.exports;var Oo,Mo={__esModule:!0,SearchState:void 0},Po=(Oo=Ao)&&Oo.__esModule?Oo:{default:Oo},jo=function(){function e(e){var t=e.searchControlsState,n=e.noResultsFound,i=e.schemaUrlValue;this.initialSearchState=t,this.noResultsFound=n,this.schemaUrlValue=i}var t=e.prototype;return t.getChangedElements=function(e){var t=this;return e.filter((function(e){var n=t.initialSearchState.find((function(t){return t.name===e.name}));return!n&&"csrfmiddlewaretoken"!=e.name||n&&n.value!==e.value}))},t.getControlsToSubmit=function(e,t){var n=[];e.forEach((function(e){var t=!0,i=e.data&&void 0!==e.data.initialValue,r=i&&e.data.initialValue.toString(),o=e.data&&void 0!==e.data.skippedValue,a=o&&e.data.skippedValue.toString();i&&e.value===r&&(t=!1),o&&e.value===a&&(t=!1),t&&n.push(e)}));var i=this.didQueryChange(e);i&&(0,Po.default)(n,(function(e){return"whatsnew"===e.name})),i&&(0,Po.default)(n,(function(e){return"term_alias"===e.name}));var r=e.find((function(e){return"size"===e.name}));if(r&&r.data&&r.data.savedValue){var o=this.initialSearchState.find((function(e){return"size"===e.name})).value.toString()===r.value.toString(),a=r.value.toString()!==r.data.savedValue.toString();"1"===e.find((function(e){return"page"===e.name})).value.toString()&&o&&a&&(r.value=r.data.savedValue.toString(),n.find((function(e){return"size"===e.name}))||n.push(r))}if(n.find((function(e){return"cauthor_id"===e.name}))){var s=this.getChangedElements(e),l=["format","size","page"];s.filter((function(e){return l.indexOf(e.name)<0})).length&&(0,Po.default)(n,(function(e){return"cauthor_id"===e.name}))}if(n.find((function(e){return"ac"===e.name}))){var c=this.didQueryChange(e),u=this.didUserFilterChange(e);c&&!u&&(0,Po.default)(n,(function(e){return"ac"===e.name}))}if(n.find((function(e){return"schema"===e.name}))){var d=this.didQueryChange(e),h=this.didUserFilterChange(e);d&&!h&&(0,Po.default)(n,(function(e){return"schema"===e.name}));var f=Array.from(this.initialSearchState.filter((function(e){return"filter"===e.name}))),p=Array.from(e.filter((function(e){return"filter"===e.name})));this.noResultsFound&&p.length<f.length&&!this.schemaUrlValue&&(0,Po.default)(n,(function(e){return"schema"===e.name})),t&&this.didElementChange(e,"format")&&(0,Po.default)(n,(function(e){return"schema"===e.name}))}if(n.find((function(e){return"page"===e.name}))){var m=this.getChangedElements(e),g=["format","size","page","show_snippets"];m.filter((function(e){return g.indexOf(e.name)<0})).length&&(0,Po.default)(n,(function(e){return"page"===e.name}))}var v=n.find((function(e){return"filter"===e.name&&0===e.value.indexOf("years.")}));v&&this.didQueryChange(e)&&(0,Po.default)(n,(function(e){return e.name===v.name&&e.value===v.value}));var y=n.find((function(e){return"timeline"===e.name}));y&&this.didQueryChange(e)&&(0,Po.default)(n,(function(e){return e.name===y.name}));var b=n.find((function(e){return"format"===e.name}));b&&this.didQueryChange(e)&&(0,Po.default)(n,(function(e){return e.name===b.name}));var w=e.find((function(e){return"sort"===e.name}));if(!w.data.skippedValue||w.value!==w.data.skippedValue.toString()){var S=this.didQueryChange(e),_=this.didElementChange(e,"sort"),C=this.didElementChange(e,"sort_order"),k=w.data.savedValue,T=w.data.initialValue;if(!_&&!C&&S){var x=k||T;w.value=x,x===T?(0,Po.default)(n,(function(e){return"sort"===e.name})):n.push(w)}if((_||S)&&!C){var E=e.find((function(e){return"sort_order"===e.name})),D=w.value,F=E.data.initialValue,I=E.data.savedValue;D===T?(0,Po.default)(n,(function(e){return"sort_order"===e.name})):(E.value=I||F,E.value===F?(0,Po.default)(n,(function(e){return"sort_order"===e.name})):n.push(E))}}if(n.find((function(e){return"user_filter"===e.name})))if(this.didQueryChange(e))(0,Po.default)(n,(function(e){return"user_filter"===e.name}));else{var A=e.find((function(e){return"schema"===e.name}));n.find((function(e){return"schema"===e.name}))||(A.value=A.data.offValue.toString(),n.push(A));var O=e.find((function(e){return"ac"===e.name}));if(n.find((function(e){return"ac"===e.name}))||(O.value=O.data.offValue.toString(),n.push(O)),this.didUserFilterChange(e)){var M=n.find((function(e){return"term"===e.name})),P=M.data.exactQuery&&M.data.exactQuery.toString();P&&P!==M.value&&(M.value=P)}}if(n.find((function(e){return"term"===e.name})).data.replaceTermWithExact){var j=n.find((function(e){return"term"===e.name})),L=j.data.exactQuery&&j.data.exactQuery.toString();L&&L!==j.value&&(j.value=L)}var R=n.find((function(e){return"term_alias"===e.name}));if(!i&&R&&R.value&&!t?(0,Po.default)(n,(function(e){return"term"===e.name})):R&&t&&(0,Po.default)(n,(function(e){return"term_alias"===e.name})),t){var N=n.find((function(e){return"term"===e.name}));N&&(N.value=t)}return n.map((function(e){return{name:e.name,value:e.value}}))},t.didQueryChange=function(e){return this.didElementChange(e,"term")},t.didUserFilterChange=function(e){return this.didElementChange(e,"user_filter")},t.didElementChange=function(e,t){var n=this.initialSearchState.find((function(e){return e.name===t})),i=e.find((function(e){return e.name===t}));return n.value!==i.value},e}();Mo.SearchState=jo;var Lo={};(function(e){(function(){"use strict";Lo.__esModule=!0,Lo.UserFilters=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.container;this.storage=sessionStorage,this.container=t,this.showToggle=this.container.find(".user-filter-show-toggle"),this.userFilterLinks=this.container.find(".user-filter-items"),this.initUserFilters()}var t=e.prototype;return t.initUserFilters=function(){var e=this,t=this.storage.getItem("user-filters-show-state");this.setUserFiltersShowState(!0,t),this.showToggle.click((function(n){n.preventDefault(),e.showToggle.toggleClass("active"),t=e.storage.getItem("user-filters-show-state"),e.setUserFiltersShowState(!1,t)})),this.userFilterLinks.find("a").click((function(t){t.preventDefault();var i,r=(0,n.default)(t.target),o=r.data("is-all-user-filter"),a=r.data("user-filter"),s=!1;a&&a.length&&(i=a),!0===o&&(s=!0),e.container.trigger("user-filter-changed",[i,s])}))},t.setUserFiltersShowState=function(e,t){var n=this.container.find(".user-filter-link"),i=this.container.find(".current-filter"),r=this.userFilterLinks.find("li a").index(i);(e?"collapsed"===t:"expanded"===t||null===t)?(e?this.showToggle.removeClass("active"):this.storage.setItem("user-filters-show-state","collapsed"),this.showToggle.text("Show More"),this.showToggle.attr("aria-label","Show More My NCBI Filters"),n.hide(),n.eq(0).show(),n.eq(1).show(),r<=2?n.eq(2).show():i.show()):(e?this.showToggle.addClass("active"):this.storage.setItem("user-filters-show-state","expanded"),this.showToggle.text("Show Fewer"),this.showToggle.attr("aria-label","Show Fewer My NCBI Filters"),n.show())},e}();Lo.UserFilters=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ro={};(function(e){(function(){"use strict";Ro.__esModule=!0,Ro.SearchForm=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(xr);function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=i(si).default.getLogger("search-form"),l=function(e){var i,o;function l(n){var i,r=n.form,o=n.baseSuggestionsUrl,a=n.searchConstants,l=n.searchResultsContainer,c=n.staticFiltersContainer,u=n.customizeFiltersDialogContainer,d=n.sortByCookieName,h=n.sortOrderCookieName,f=n.sizeCookieName,p=n.searchIdCookieName,m=n.adjNavSearchIdCookieName,g=n.searchFormSubmittedCookieName,v=n.jsCookieDomain,y=n.timelineData,b=n.windowElement,w=n.noResultsFound,S=n.skipQueryInputFocus,_=n.showSnippetsCookieName;return(i=e.call(this,{form:r,baseSuggestionsUrl:o,searchIdCookieName:p,adjNavSearchIdCookieName:m,searchFormSubmittedCookieName:g,jsCookieDomain:v,skipQueryInputFocus:S})||this).windowElement=b,i.logger=s,i.searchConstants=a,i.searchResultsContainer=l,i.pageNumField=i.form.find('.page-num :input[name="page"]'),i.userFilterInputName="user_filter",i.userFilterInput=i.form.find('.user-filter input[name="'+i.userFilterInputName+'"]'),i.searchOptionsContainer=i.form.find(".search-options"),i.selectedFiltersContainer=i.searchOptionsContainer.find(".selected-filters"),i.displayOptionsContainer=i.searchOptionsContainer.find(".display-options"),i.displayOptionsDropdownTrigger=i.displayOptionsContainer.children(".trigger"),i.displayOptionsDropdownContainer=i.displayOptionsContainer.children(".dropdown"),i.formatSelector=i.displayOptionsContainer.find(".content .format-container select"),i.formatField=i.displayOptionsContainer.find('.content :input[name="format"]'),i.sortingContainer=i.displayOptionsContainer.find(".sorting"),i.sortOrderInput=i.sortingContainer.find('[name="sort_order"]'),i.sortOrderButton=i.sortingContainer.find(".sort-order-icon"),i.sortingSelector=i.sortingContainer.find(".sort-selector"),i.sizeSelector=i.searchOptionsContainer.find(".per-page-container select"),i.sizeField=i.displayOptionsContainer.find('.content :input[name="size"]'),i.staticFiltersContainer=(0,t.default)(c),i.customizeFiltersDialogContainer=(0,t.default)(u),i.customizeFiltersBtn=i.staticFiltersContainer.find(".customize-btn"),i.userFiltersContainer=i.staticFiltersContainer.find(".user-filters"),i.showSnippetsCheckbox=i.searchOptionsContainer.find(".show-snippets-checkbox"),i.showSnippetsHiddenInput=i.searchOptionsContainer.find('[name="show_snippets"]'),i.sortByCookieName=d,i.sortOrderCookieName=h,i.sizeCookieName=f,i.searchIdCookieName=p,i.adjNavSearchIdCookieName=m,i.showSnippetsCookieName=_,i.initialFormat=i.formatField.val(),i.initialQuery=i.queryField.val(),i.initialSortOrder=i.sortOrderInput.val(),i.initialSortOption=i.sortingSelector.val(),i.persistentCustomFilters=new Fo.PersistentCustomFiltersStorage,i.searchState=new Mo.SearchState({searchControlsState:i.getAllSearchControls(),noResultsFound:w,schemaUrlValue:i.schemaUrlValue}),i.selectedItems=[],i.initFilters(y),i.initSorting(),i.initFormat(),i.initSize(),i.initDisplayOptions(),i.initCustomFiltersDialog(),i.initUserFilters(),i.initSnippetsCheckbox(),i}o=e,(i=l).prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o;var c,u,d=l.prototype;return d.initSelectedItems=function(e){var t=this;this.selectedItems=e,this.searchResultsContainer.on("selected-updated",(function(e,n){t.selectedItems=n}))},d.onFormSubmit=function(e){var t=this.form[0];if(t.reportValidity){if(!t.reportValidity())return this.windowElement.scrollTop(0),e.preventDefault(),!1}else if(!t.checkValidity())return this.windowElement.scrollTop(0),this.searchInputContainer.find(".search-btn").trigger("click"),this.queryField.focus(),e.preventDefault(),!1;this.form.trigger("submit-data",[this.form]),this.filtersWithTimeline.filtersField.container.trigger("disable-filters"),this.form.reported||this.gaReport(),this.form.processed||(this.form.processed=!0,this.processForm())},d.processForm=function(){var e,t=this.form[0];this.filtersWithTimeline.timelineFilter&&this.queryField.val()!==this.initialQuery&&this.filtersWithTimeline.timelineFilter.resetValue();var n=this.selectedItems&&this.selectedItems.length;this.formatField.val()===this.initialFormat&&this.sortingSelector.val()===this.initialSortOption&&this.sortOrderInput.val()===this.initialSortOrder||!n||(e=this.selectedItems.join(","),this.pageNumField.val(1),this.searchResultsContainer.trigger("selected-updated",[[]]));var i=this.getAllSearchControls(),r=this.searchState.getControlsToSubmit(i,e);Array.from(t.elements).forEach((function(e){var t;(t="filter"===e.name?r.find((function(t){return t.name===e.name&&t.value===e.value})):r.find((function(t){return t.name===e.name})))?e.value=t.value:e.disabled=!0}))},d.initFilters=function(e){var n=this;this.staticFiltersContainer.on("adjust-timeline-and-user-filters",(function(e,t,i){return n.adjustTimelineAndUserFiltersPosition(t,i)})),this.filtersWithTimeline=new lo.FiltersWithTimeline({windowElement:this.windowElement,staticFiltersContainer:this.staticFiltersContainer,searchConstants:this.searchConstants,appliedFiltersMessage:this.searchResultsContainer.find(".applied-filters-message"),filtersTrigger:this.searchOptionsContainer.find(".filters-trigger"),timelineTrigger:this.searchOptionsContainer.find(".timeline-trigger"),timelineData:e,inlineTimelineFilter:this.searchResultsContainer.find(".timeline-filter"),sideTimelineFilter:this.staticFiltersContainer.find(".timeline-filter"),searchFormControls:this.getActiveSearchControls()});var i=this.filtersWithTimeline.getExpandedStateQueryParam();this.staticFiltersContainer.on("submit-filters",(function(e,o){var a=n.selectedFiltersContainer.find('input:hidden[name="'+i.name+'"]');a&&a.detach(),n.selectedFiltersContainer.empty();for(var s,l=r(o);!(s=l()).done;){var c=s.value;(0,t.default)("<input>",{type:"hidden",name:c.name,value:c.value}).appendTo(n.selectedFiltersContainer)}a&&a.appendTo(n.selectedFiltersContainer),(0,Ir.clearSearchCookie)(n.searchIdCookieName,n.jsCookieDomain),(0,Ir.clearSearchCookie)(n.adjNavSearchIdCookieName,n.jsCookieDomain),n.form.submit()})),this.staticFiltersContainer.on("timeline-collapsed",(function(){var e;(0,Mr.updateUrlQuery)(((e={})[i.name]=null,e)),n.selectedFiltersContainer.find('input:hidden[name="'+i.name+'"]').remove(),n.adjustTimelineAndUserFiltersPosition(n.filtersWithTimeline.getTimelineElementToAdjustForUserFilters(),n.filtersWithTimeline.isTimelineExpanded())})),this.staticFiltersContainer.on("timeline-expanded",(function(e){var r;(0,Mr.updateUrlQuery)(((r={})[i.name]=i.value,r)),(0,t.default)("<input>",{type:"hidden",name:i.name,value:i.value}).appendTo(n.selectedFiltersContainer),n.adjustTimelineAndUserFiltersPosition(n.filtersWithTimeline.getTimelineElementToAdjustForUserFilters(),n.filtersWithTimeline.isTimelineExpanded())}))},d.getSelectedFilters=function(){return t.default.map(this.selectedFiltersContainer.children(),(function(e){if("expanded"!==e.value)return e.value}))},d.adjustTimelineAndUserFiltersPosition=function(e,t){e&&(e&&t&&e.insertBefore(this.userFiltersContainer).hide().fadeIn(),e&&!t&&e.insertAfter(this.userFiltersContainer).hide().fadeIn())},d.initSorting=function(){var e=this;this.sortOrderButton.length&&this.sortOrderButton.on("click",(function(n){n.preventDefault();var i=(0,t.default)(n.target).data("sort-order");e.sortOrderInput.val(i),(0,Dr.setSecureCookieIfPossible)(e.sortOrderCookieName,i),(0,Ir.clearSearchCookie)(e.searchIdCookieName,e.jsCookieDomain),(0,Ir.clearSearchCookie)(e.adjNavSearchIdCookieName,e.jsCookieDomain),(0,Ri.reportEvent)(e.sortingSelector.val(),e.sortOrderVal,"sort_by"),e.form.submit()})),this.sortingSelector.on("change",(function(t){var n=e.sortingSelector.val();(0,Dr.setSecureCookieIfPossible)(e.sortByCookieName,n),(0,Ir.clearSearchCookie)(e.searchIdCookieName,e.jsCookieDomain),(0,Ir.clearSearchCookie)(e.adjNavSearchIdCookieName,e.jsCookieDomain),(0,Ri.reportEvent)(n,e.sortOrderVal,"sort_by"),e.form.submit()})),this.form.find(".sort-label.as-label").on("click",(function(){(0,Ri.reportEvent)("sort_label_click","no_effect_action","sort")}))},d.initSnippetsCheckbox=function(){var e=this;this.showSnippetsCheckbox.on("change",(function(){if(e.showSnippetsCheckbox.prop("checked"))e.showSnippetsHiddenInput.val(e.showSnippetsHiddenInput.data("on-value")),n.default.remove(e.showSnippetsCookieName);else{var t=e.showSnippetsHiddenInput.data("off-value");(0,Dr.setSecureCookieIfPossible)(e.showSnippetsCookieName,t),e.showSnippetsHiddenInput.val(t)}e.form.submit()}))},d.initFormat=function(){var e=this;this.formatSelector.on("change",(function(n){n.preventDefault();var i=(0,t.default)(n.target).closest("select").val();e.formatField.val(i),(0,Ir.clearSearchCookie)(e.adjNavSearchIdCookieName,e.jsCookieDomain),e.form.submit()}))},d.initSize=function(){var e=this;this.sizeSelector.on("change",(function(t){t.preventDefault();var n=e.sizeSelector.val();if((0,Dr.setSecureCookieIfPossible)(e.sizeCookieName,n),!e.sizeSelector.reported)return(0,Ri.reportEvent)(n,"","size").done((function(){e.sizeSelector.reported=!0,e.sizeSelector.trigger("change")})),t.preventDefault(),!1;e.sizeField.val(n);var i=e.searchResultsContainer.find(".position-number").first(),r=parseInt(i.text().replace(",",""),10);if(r>10)try{var o=parseInt(n,10),a=Math.floor((r-1+o)/o);e.pageNumField.val(a)}catch(t){(0,ui.pingerErrorHandler)("search-form","Failed to preserve the page number.")}(0,Ir.clearSearchCookie)(e.adjNavSearchIdCookieName,e.jsCookieDomain),e.form.submit()}))},d.initDisplayOptions=function(){this.displayOptionsContainer[0]?this.displayOptionsDropdown=new yr.DropdownBlock({target:this.displayOptionsDropdownTrigger,container:this.displayOptionsDropdownContainer.removeAttr("hidden"),toggleOnHover:!1,wrap:!1}):this.displayOptionsDropdown=null},d.initCustomFiltersDialog=function(){var e=this,t=this.persistentCustomFilters.filtersData;t&&t.length&&this.staticFiltersContainer.trigger("filters-list-updated",[t,[]]),this.customFilters=new Do.CustomFiltersDialog({container:this.customizeFiltersDialogContainer,customizeFiltersBtn:this.customizeFiltersBtn,selectedCustomFilters:t.map((function(e){return e.value}))}),this.customizeFiltersDialogContainer.on("update-choice-groups",(function(t,n,i){e.staticFiltersContainer.trigger("filters-list-updated",[n,i]);var r=e.filtersWithTimeline.filtersField.getCustomFilters();e.persistentCustomFilters.setFiltersData(r)}))},d.initUserFilters=function(){var e=this;this.userFilters=new Lo.UserFilters({container:this.userFiltersContainer}),this.userFilters.container.on("user-filter-changed",(function(t,n,i){!0===i?e.userFilterInput.val(e.userFilterInput.data("initial-value")):e.userFilterInput.val(n),(0,Ir.clearSearchCookie)(e.searchIdCookieName,e.jsCookieDomain),(0,Ir.clearSearchCookie)(e.adjNavSearchIdCookieName,e.jsCookieDomain),e.form.submit()}))},d.getActiveSearchControls=function(){var e=[];return Array.from(this.form[0].elements).forEach((function(n){var i=(0,t.default)(n),r=n.hasAttribute("data-initial-value"),o=i.data("initial-value"),a=i.prop("name");if(a&&"format"!==a&&"page"!==a&&"pos"!==a&&(!r||i.val()!==o.toString())){var s=i.clone();"term"===a&&"True"===s.data("replace-term-with-exact")&&s.val(s.data("exact-query")),e.push(s)}})),e},d.getAllSearchControls=function(){var e=[];return Array.from(this.form[0].elements).forEach((function(n){if("button"!==n.tagName.toLowerCase()){var i,r=(0,t.default)(n),o=r.prop("name"),a=r.prop("value");"show-snippets-checkbox"!==r.attr("id")&&(i="term"===o?{exactQuery:r.data("exact-query"),replaceTermWithExact:"True"===r.data("replace-term-with-exact")}:r.data(),e.push({name:o,value:a,data:i}))}})),e},d.getSearchHash=function(){for(var e,t=[],n=r(this.getActiveSearchControls());!(e=n()).done;){var i=e.value,o=i.prop("name");if("page"!==o&&"size"!==o&&"show_snippets"!==o){var a=i.val();t.push(o+"="+a)}}return t.sort(),t.join("&")},d.getTermValue=function(){return this.initialQuery},d.getResultsFormat=function(){return this.form.find(".format-container select[name=format]").val()},c=l,(u=[{key:"schemaUrlValue",get:function(){return new ji.QueryDict(window.location.search.substr(1)).getParam("schema")}},{key:"sortOrderVal",get:function(){if("relevance"===this.sortingSelector.val())return"";var e=this.sortOrderButton.data("sort-order");return"asc"===e?"oldest":"newest"}}])&&a(c.prototype,u),l}(ko.SearchFormBase);Ro.SearchForm=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var No={};(function(e){(function(){"use strict";No.__esModule=!0,No.renderMathML=function(e,n){-1!==e.indexOf("<math")&&(window.MathJax?(i.info("Rendering MathML in loaded data"),MathJax.Hub.Queue(["Typeset",MathJax.Hub])):(0,t.default)("head").append((0,t.default)('<script type="text/javascript" src="'+n+'" />')))};var t=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function n(e){return e&&e.__esModule?e:{default:e}}var i=n(si).default.getLogger("render-mathml")}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Yo=function(e,t,n){var i,r;return Mn&&"function"==typeof(i=t.constructor)&&i!==n&&p(r=i.prototype)&&r!==n.prototype&&Mn(e,r),e},Bo=ve.f,Vo=_.f,Uo=T.f,Ho=zr.trim,Wo=e.Number,Qo=Wo.prototype,qo="Number"==c($e(Qo)),zo=function(e){var t,n,i,r,o,a,s,l,c=m(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=Ho(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>r)return NaN;return parseInt(o,i)}return+c};if(Fe("Number",!Wo(" 0o1")||!Wo("0b1")||Wo("+0x1"))){for(var Go,Jo=function(e){var n=arguments.length<1?0:e,i=this;return i instanceof Jo&&(qo?t((function(){Qo.valueOf.call(i)})):"Number"!=c(i))?Yo(new Wo(zo(n)),i,Jo):zo(n)},$o=n?Bo(Wo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Ko=0;$o.length>Ko;Ko++)v(Wo,Go=$o[Ko])&&!v(Jo,Go)&&Uo(Jo,Go,Vo(Wo,Go));Jo.prototype=Qo,Qo.constructor=Jo,$(e,"Number",Jo)}var Zo=Math.floor;Ae({target:"Number",stat:!0},{isInteger:function(e){return!p(e)&&isFinite(e)&&Zo(e)===e}});var Xo={__esModule:!0,JumpToPageDialog:void 0},ea=function(e){var t,n;function i(t){var n,i=t.container,r=t.triggers,o=t.schemaAllActive,a=t.searchFormSubmittedCookieName,s=t.jsCookieDomain;return(n=e.call(this,{container:i,triggers:r,cssClass:"jump-to-page-overlay"})||this).input=n.container.find(".page-number"),n.schemaAllActive=o,n.searchFormSubmittedCookieName=a,n.maxPage=n.container.data("max-page"),n.jsCookieDomain=s,n.container.find("form").on("submit",(function(e){e.preventDefault(),n.jumpToPage(n.input.val())})),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.setInputValue=function(e){var t=this.input.prop("max");parseInt(e,10)>parseInt(t,10)&&(e=t),this.input.val(e)},r.jumpToPage=function(e){var t=ji.QueryDict.fromQueryString(window.location.search);""+e=="1"?t.deleteParam("page"):t.setParam("page",e),t.deleteParam("pos"),(0,Ri.reportEvent)("jump_to_page",e,"pagination"),(0,Ir.setSubmittedSearchCookie)(this.searchFormSubmittedCookieName,this.jsCookieDomain),window.location.search=t.encodeURI()},r.updateMaxPage=function(e){if(e){var t=e;Number.isInteger(e)||(t=parseInt(e.replace(/,/g,""),10));var n=t<parseInt(this.maxPage,10)?e:this.maxPage;this.input.prop("max",n),this.container.find(".total-pages").text(e)}},i}(gi.OverlayBlock);Xo.JumpToPageDialog=ea;var ta={};(function(e){(function(){"use strict";ta.__esModule=!0,ta.SearchResultsPaginator=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.isPrev,i=e.container,r=e.searchResultsContainer,o=e.mathJaxUrl,a=e.schemaAllActive,s=e.searchFormSubmittedCookieName,l=e.jsCookieDomain;this.isPrev=Boolean(t),this.container=(0,n.default)(i),this.searchResultsContainer=(0,n.default)(r),this.loadButton=this.container.children(".load-button"),this.maxResultsDisplayed=this.container.children(".max-results-displayed"),this.mathJaxUrl=o,this.schemaAllActive=a,this.searchFormSubmittedCookieName=s,this.jsCookieDomain=l,this.initLoadButton(),this.initJumpToPage()}var t=e.prototype;return t.initLoadButton=function(){var e=this;this.loadButton.on("click",(function(t){t.preventDefault(),e.load()})),this.loadingIndicator=new Ni.DotsLoadingIndicator({className:"page-loading-indicator",container:this.loadButton,color:"white"})},t.initJumpToPage=function(){var e=this,t=this.container.closest("main").find(".jump-to-page-dialog"),n=this.container.find(".jump-to-page-trigger");t[0]&&n[0]&&(this.jumpToPageDialog=new Xo.JumpToPageDialog({container:t,triggers:n,schemaAllActive:this.schemaAllActive,searchFormSubmittedCookieName:this.searchFormSubmittedCookieName,jsCookieDomain:this.jsCookieDomain}),this.container.on("chunk-loaded",(function(t,n,i,r){e.jumpToPageDialog.setInputValue(r+1)})),this.container.on("results-amount-update",(function(t,n,i){e.jumpToPageDialog.updateMaxPage(i)})))},t.load=function(){var e=this,t=this.searchResultsContainer.find(".search-results-chunk"),i=this.isPrev?t.eq(0):t.eq(-1),r=i.data(this.isPrev?"prev-page-url":"next-page-url");if(!r)throw Zi.Notification.error("Can't load results"),new Error("Can't load results: URL is not specified");this.loadButton.width(this.loadButton.width()).prop("disabled",!0);var o=(0,n.default)("main").find('[name="csrfmiddlewaretoken"]').first().val(),a=r.split("?"),s=a[0],l=a[1],c=ji.QueryDict.fromQueryString(l);c.setParam("no-cache",(new Date).getTime()),c.setParam("csrfmiddlewaretoken",o),"all"===this.schemaAllActive&&c.setParam("schema","all"),n.default.post({url:s,data:c.toDict()}).always((function(){e.loadButton.width("").prop("disabled",!1)})).done((function(t){var r=(0,n.default)(t)[e.isPrev?"insertBefore":"insertAfter"](i);r.hide().fadeIn();var o=!r.data(e.isPrev?"prev-page-url":"next-page-url"),a=parseInt(r.data("page-number"),10);o&&(e.loadButton.remove(),e.maxResultsDisplayed.removeClass("hide")),e.container.trigger("chunk-loaded",[r,o,a]),e.container.trigger("results-amount-update",[r.data("results-amount"),r.data("pages-amount")]),r.find(".full-docsum .search-result-selector").first().focus(),(0,No.renderMathML)(t,e.mathJaxUrl)})).fail((function(){Zi.Notification.error("Can't load results")}))},e}();ta.SearchResultsPaginator=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var na={};(function(e){(function(){"use strict";na.__esModule=!0,na.SearchResultsNavigator=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(li);function i(e){return e&&e.__esModule?e:{default:e}}var r=i(si).default.getLogger("search-results-navigator"),o=function(){function e(e){this.logger=r,this.windowScrollElement=(0,t.default)("html, body"),this.searchQuery=e.searchQuery,this.searchResultsContainer=(0,t.default)(e.searchResultsContainer),this.pageLabelEl=(0,t.default)(e.pageLabelEl),this.pageLabelIsHidden=!0,this.pageLabelIsOverlapping=!1,this.container=this.windowElement=(0,t.default)(window),0!==this.pageLabelEl.length&&(this.reset(),this.initEvents()),this.initHistory(),this.initPageLabel()}var i=e.prototype;return i.initHistory=function(){var e=this;if(this.historyEnabled=Boolean(window.history&&window.history.pushState&&window.history.replaceState),this.historyEnabled){if(!window.history.state){var t=this.searchResultsContainer.find(".results-chunk").data("page-number");window.history.replaceState({page:t},window.document.title,window.location.href)}this.windowElement.on("popstate",(function(t){var n=t.originalEvent.state;r.debug("Handle 'popstate' event",n);var i=e.pageRecordsIndex,o=n&&i.find((function(e){return e.page===n.page}));o?(e.currentPageRecord=o,e.navigateToPage(o)):r.warn("'popstate' event triggered but 'state.page' is not found in 'index'. 'state' and 'index' objects logged.",n,i,window.location.href)})),this.container.on("track-current-page",(0,n.default)((function(){r.debug("Debounced 'track-current-page' event handler from '.initHistory()'. Calling '.updateHistory()' next."),e.updateHistory()}),150))}else r.warn("Skip init state: your browser doesn't support History API")},i.initPageLabel=function(){var e=this;this.pageLabelEl.on("click",(function(t){t.preventDefault(),e.navigateToPage(e.currentPageRecord)})),gi.OverlayBlock.controller.pageContainer.on("padding-added",(function(t,n){e.pageLabelEl.css({marginLeft:-n/2+"px",marginRight:n+"px"})})),gi.OverlayBlock.controller.pageContainer.on("padding-removed",(function(){e.pageLabelEl.css({marginLeft:"",marginRight:""})}))},i.initEvents=function(){var e=this;this.windowElement.on("scroll",(0,n.default)((function(){r.debug("Throttled 'scroll' event handler from '.initEvents()'. Calling '.track()' next."),e.track()}),100,{maxWait:100})),this.windowElement.on("resize",(0,n.default)((function(){r.debug("Debounced 'resize' event handler from '.initEvents()'. Calling '.reset()' next."),e.reset()}),500))},i.navigateToPage=function(e){var t,n=this;e?(r.debug("Navigating to page "+e.page),t=e.page>1?e.top+1:0):(r.debug("Navigating to top"),t=0),this.windowElement.attr("data-page-label-scroll-start","true"),this.windowScrollElement.stop(!0,!1).animate({scrollTop:t},300,(function(){return n.windowElement.attr("data-page-label-scroll-start","false")}))},i.reset=function(){this.createIndex(),this.track()},i.createIndex=function(){var e=this;this.pageRecordsIndex=[],this.searchResultsContainer.find(".results-chunk").each((function(n,i){var r=(0,t.default)(i),o=r.children(".title");e.pageRecordsIndex.push({top:r.offset().top,page:r.data("page-number"),title:o.text().trim(),titleEl:o,chunkEl:r})}))},i.track=function(){if(r.debug("Tracking current page change"),this.pageRecordsIndex.length){var e,t=this.windowElement.scrollTop(),n=this.pageRecordsIndex.findIndex((function(e){return e.top>t})),i=!1,o=!1;e=0===n?0:-1===n?this.pageRecordsIndex.length-1:n-1,0===n&&(i=!0);var a=this.pageRecordsIndex[e],s=this.pageRecordsIndex[n],l=this.pageLabelEl.offset().top;if((Math.abs(a.top-l)<20||s&&Math.abs(s.top-l)<20)&&(o=!0),this.currentPageRecord||(this.currentPageRecord={page:0}),this.pageLabelIsHidden===i&&this.pageLabelIsOverlapping===o||(this.pageLabelIsHidden=i,this.pageLabelIsOverlapping=o,this.updatePageLabelVisibility(i,o)),this.currentPageRecord.page!==a.page){var c=this.currentPageRecord;this.currentPageRecord=a,this.updatePageLabel(c,a)}this.container.trigger("track-current-page")}else r.debug("Pages index is empty. Skip tracking.")},i.updatePageLabelVisibility=function(e,t){e?(r.debug("Hide page label"),this.pageLabelEl.removeClass("visible")):(r.debug("Show page label"),this.pageLabelEl.addClass("visible")),t?(r.debug('Page label is overlapping the "chunk" title'),this.pageLabelEl.addClass("overlapping")):this.pageLabelEl.removeClass("overlapping")},i.updatePageLabel=function(e,n){var i=e.page,o=e.title,a=n.page,s=n.title,l=this.pageLabelEl;r.debug("Updating current page label from "+o+" to "+s),l.empty().attr("href",this.getPageUrl(a));var c=(0,t.default)("<span>",{class:"transition-out",text:o}).appendTo(l),u=(0,t.default)("<span>",{class:"transition-in",text:s}).appendTo(l);c.css({top:0,opacity:1}).animate({top:a>i?"-2rem":"2rem",opacity:0},300).promise().done((function(){return c.remove()})),u.css({top:a>i?"2rem":"-2rem",opacity:0}).animate({top:0,opacity:1},300)},i.updateHistory=function(){if(this.historyEnabled)if(this.currentPageRecord){var e=this.currentPageRecord.page,t=this.getPageUrl(e);if(t!==window.location.href){r.debug("Push new URL: "+t);var n={page:e};history.pushState(n,null,t),this.container.trigger("url-update",[n])}else r.debug("Skip URL update: you're on the same page")}else r.debug("No results, no pages, nothing to do here.");else r.warn("Skip URL update: your browser doesn't support History API")},i.getPageUrl=function(e){var t=window.location.href,n=window.location.search.substr(1),i=ji.QueryDict.fromQueryString(n||[]);if((parseInt(i.getParam("page"),10)||1)===e)return t;1===e?i.deleteParam("page"):i.setParam("page",e),i.deleteParam("pos");var r=i.encodeURI(),o=t.split("?")[0];return r?o+"?"+r:o},e}();na.SearchResultsNavigator=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},r.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},r.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(e,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=s(o),l=this._rootContainsTarget(o),c=r.entry,u=t&&l&&this._computeTargetAndRootIntersection(o,n),d=r.entry=new i({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:n,intersectionRect:u});c?t&&l?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(n,i){if("none"!=e.getComputedStyle(n).display){for(var r,o,a,l,u,d,h,f,p=s(n),m=c(n),g=!1;!g;){var v=null,y=1==m.nodeType?e.getComputedStyle(m):{};if("none"==y.display)return;if(m==this.root||m==t?(g=!0,v=i):m!=t.body&&m!=t.documentElement&&"visible"!=y.overflow&&(v=s(m)),v&&(r=v,o=p,void 0,void 0,void 0,void 0,void 0,void 0,a=Math.max(r.top,o.top),l=Math.min(r.bottom,o.bottom),u=Math.max(r.left,o.left),f=l-a,!(p=(h=(d=Math.min(r.right,o.right))-u)>=0&&f>=0&&{top:a,bottom:l,left:u,right:d,width:h,height:f})))break;m=c(m)}return p}},r.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},r.prototype._rootIsInDom=function(){return!this.root||l(t,this.root)},r.prototype._rootContainsTarget=function(e){return l(this.root||t,e)},r.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},r.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=r,e.IntersectionObserverEntry=i}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function r(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function o(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e,t){for(var n=t;n;){if(n==e)return!0;n=c(n)}return!1}function c(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document);var ia={};(function(e){(function(){"use strict";ia.__esModule=!0,ia.BackToTop=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(li);function i(e){return e&&e.__esModule?e:{default:e}}var r=i(si).default.getLogger("back-to-top"),o=function(){function e(e,n,i){this.logger=r,this.windowScrollElement=(0,t.default)("html, body"),this.backToTopButton=e,this.windowElement=(0,t.default)(window),this.initBackToTopButton(),this.initScroll(),this.ncbiFooter=n,this.termInput=i}var i=e.prototype;return i.initBackToTopButton=function(){var e=this;this.backToTopButton.on("click",(function(t){t.preventDefault(),e.termInput.focus(),e.windowScrollElement.stop(!0,!1).animate({scrollTop:0},300)}))},i.initScroll=function(){var e=this,t=0;this.windowElement.scroll((0,n.default)((function(n){if("true"!==e.windowElement.attr("data-page-label-scroll-start")){r.debug("Throttled 'scroll' event handler from '.initScroll()'. ");var i=e.windowElement.scrollTop(),o=0===i,a=i>t,s=i+e.windowElement.height(),l=e.ncbiFooter.offset().top-120;a&&!(s>=l)||o?(r.debug("Hide 'Back to Top' Button"),e.backToTopButton.removeClass("visible")):(r.debug("Show 'Back to Top' Button"),e.backToTopButton.addClass("visible")),t=i}}),100,{maxWait:100}))},e}();ia.BackToTop=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ra,oa={__esModule:!0,CorrectedQueryBlock:void 0},aa=((ra=si)&&ra.__esModule?ra:{default:ra}).default.getLogger("corrected-query"),sa=function(){function e(e){var t=e.container;this.container=t,this.queryKey=this.container.data("query-key"),this.correctedQuery=this.container.data("corrected-query"),this.originalQuery=this.container.data("original-query"),this.isSuggestion=this.container.data("is-suggestion")}return e.prototype.updateTermInQueryString=function(e){if(!this.isSuggestion&&this.correctedQuery!==this.originalQuery){var t=window.location.href,n=window.location.search.substr(1),i=ji.QueryDict.fromQueryString(n);i.setParam(this.queryKey,this.correctedQuery);var r=t.replace(n,i.encodeURI());aa.debug("Replacing URL: "+r),history.replaceState(e,null,r)}},e}();oa.CorrectedQueryBlock=sa;var la,ca={__esModule:!0,CopyButton:void 0},ua=((la=si)&&la.__esModule?la:{default:la}).default.getLogger("copy-button"),da=function(){function e(e){var t=e.trigger,n=e.target,i=e.message;this.trigger=t,this.target=n,this.message=i,this.initCopyButton()}var t=e.prototype;return t.initCopyButton=function(){var e=this;this.trigger.on("click",(function(){return e.tryCopy()}))},t.tryCopy=function(){var e=!1;try{this.selectTargetValue(),e=document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(t){(0,ui.pingerErrorHandler)("copy-button","Failed to copy text.")}e?(ua.info("Copied to clipboard"),Zi.Notification.info(this.message)):((0,ui.pingerErrorHandler)("copy-button","Can't copy citation to clipboard."),Zi.Notification.error("Can't copy citation. Please select text and press Ctrl+C."))},t.selectTargetValue=function(){if("DIV"===this.target[0].nodeName){var e=document.createRange();e.selectNodeContents(this.target[0]);var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}else"INPUT"===this.target[0].nodeName&&this.target.focus().select()},t.disable=function(e){this.trigger.prop("disabled",e).toggleClass("disabled",e)},e}();ca.CopyButton=da;var ha={};(function(e){(function(){"use strict";ha.__esModule=!0,ha.CitationTextBlock=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){this.container=e,this.selector=this.container.find(".citation-style-selector"),this.citationTextNode=this.container.find(".citation-text"),this.copyButton=new ca.CopyButton({trigger:this.container.find(".copy-button"),target:this.citationTextNode,message:"Citation successfully copied."}),this.loadingIndicator=new Ni.DotsLoadingIndicator({container:this.container,className:"citation-loading-indicator"}),this.initCitationFormatSelector()}var t=e.prototype;return t.initCitationTextNode=function(e){this.allCitationsUrl=(0,n.default)(e).data("all-citations-url");var t=(0,n.default)(e).data("citation-style");this.container.find(".citation-actions form").attr("action",(0,n.default)(e).data("pubmed-format-link")),this.selector.val(t.toUpperCase()),this.loadCitation(t)},t.initCitationFormatSelector=function(){var e=this;this.selector.on("change",(function(){var t=e.selector.find("option:selected").data("style-url-name");e.citationTextNode.data("citation-style",t),e.loadCitation(t),(0,Ri.reportEvent)("cite",t,"save_share")}))},t.loadCitation=function(t){var n=this;this.container.addClass("loading"),this.loadingIndicator.show(),e.dataController.getCitationText(t,this.allCitationsUrl).done((function(e){return n.updateCitationTextNode(e)})).fail((function(e){(0,ui.pingerErrorHandler)("citation-text-block","Citation text block failed to load"),Zi.Notification.error(e),(0,Ri.reportEvent)("citation-not-loaded",e,"save_share"),n.updateCitationTextNode(e,!0)}))},t.updateCitationTextNode=function(e,t){void 0===t&&(t=!1),this.container.removeClass("loading"),this.loadingIndicator.hide(),this.citationTextNode.html(e.format),this.copyButton.disable(t)},e}();ha.CitationTextBlock=i,i.dataController={citationsLoaded:{},citations:{},getCitationText:function(e,t){var i=this,r=n.default.Deferred();return this.citationsLoaded[t]?r.resolve(this.getStyle(this.citations[t],e)).promise():(n.default.get(t).done((function(n){i.citations[t]=n,i.citationsLoaded[t]=!0,r.resolve(i.getStyle(n,e)).promise()})).fail((function(){var e="Loading of citation failed.";(0,ui.pingerErrorHandler)("citation-text-block",e),r.reject(e)})),r.promise())},getStyle:function(e,t){return e[t.toLowerCase()]}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var fa={__esModule:!0,ShareDialog:void 0},pa=function(e){var t,n;function i(t,n){return e.call(this,{container:t,triggers:n,cssClass:"share-dialog-overlay"})||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(gi.OverlayBlock);fa.ShareDialog=pa;var ma={__esModule:!0,EasySelectText:void 0},ga=function(){function e(e){this.target=e,this.initSelectOnClick()}return e.prototype.initSelectOnClick=function(){var e=this;this.target.on("mouseup",(function(t){e.target.prop("selectionStart")===e.target.prop("selectionEnd")&&(t.preventDefault(),e.target.select())}))},e}();ma.EasySelectText=ga;var va={};(function(e){(function(){"use strict";va.__esModule=!0,va.ResultActions=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(li);function i(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(e,i,r,o,a){var s=this;this.windowElement=(0,t.default)(window),this.shareDropdowns=[],this.pageContainer=e,this.citeDropdownOffsetFlipped=i,this.shareDropdownOffsetFlipped=r,this.dropdownOffset=o,this.chunkClassName=a,this.initResultActions(e),this.windowElement.on("resize",(0,n.default)((function(){return s.resetResultActions(e)}),100))}var i=e.prototype;return i.initShareDropdown=function(e){var t=this,n=e.find(".result-actions-bar .share-dialog-trigger"),i=e.find(".share-dropdown");i[0]&&(i.removeAttr("hidden"),this.shareDropdownBlock=new yr.DropdownBlock({target:n,container:i,toggleOnHover:!1,wrap:!1,flipCloseToViewportEnd:!0,targetClassName:"share-dialog-trigger"}),n.on("click",(function(e){t.setShareContentValues(e,i),t.repositionDropwdown(e,i,t.shareDropdownOffsetFlipped),i.hasClass("active")&&i.find(".share-link-twitter").focus()})),this.initPermalinkField(i))},i.initCiteDropdown=function(e){var t=this,n=e.find(".result-actions-bar .citation-dialog-trigger"),i=e.find(".cite-dropdown");if(i[0]){i.removeAttr("hidden"),this.citationDropdownBlock=new yr.DropdownBlock({target:n,container:i,toggleOnHover:!1,wrap:!1,flipCloseToViewportEnd:!0,targetClassName:"citation-dialog-trigger"});var r=new ha.CitationTextBlock(i.find(".citation-text-block"));i.on("dropdown-active",(function(){return r.container.trigger("show")})),n.on("click",(function(e){r.initCitationTextNode(e.currentTarget),t.repositionDropwdown(e,i,t.citeDropdownOffsetFlipped),i.find(".copy-button").focus()}))}},i.initMobileCiteDialog=function(e){var t=this,n=this.pageContainer.find(".citation-dialog"),i=e.find(".citation-dialog-trigger");n[0]&&i[0]&&(this.citationDialog||(this.citationTextBlock=new ha.CitationTextBlock(n.find(".citation-text-block"))),this.citationDialog=new gi.OverlayBlock({container:n,triggers:i,cssClass:"citation-dialog-overlay"}),i.on("click",(function(e){t.citationTextBlock.initCitationTextNode(e.currentTarget)})))},i.initMobileShareDialog=function(e){var t=this,n=this.pageContainer.find(".share-dialog"),i=e.find(".share-dialog-trigger");n[0]&&i[0]&&(this.shareDialog||this.initPermalinkField(n),this.shareDialog=new fa.ShareDialog(n,i),i.on("click",(function(e){t.setShareContentValues(e,n),n.find(".share-link-twitter").focus()})))},i.initResultActions=function(e){var n=this;(0,vo.isMediumLayout)()?(this.displayFormat="desktop",this.initShareDropdown(e),this.initCiteDropdown(e)):(e.find(".result-actions-bar").each((function(e,i){"desktop"==n.displayFormat&&((0,t.default)(i).find(".share > .trigger").off(),(0,t.default)(i).find(".cite > .trigger").off())})),this.initMobileShareDialog(e),this.initMobileCiteDialog(e),this.displayFormat="mobile")},i.resetResultActions=function(e){var n=this;(0,vo.isMediumLayout)()?"mobile"===this.displayFormat&&(this.citationDialog=null,this.pageContainer.find(".citation-style-selector").off(),this.pageContainer.find(".share-dialog-trigger").off(),this.pageContainer.find(".citation-dialog-trigger").off(),this.pageContainer.find(".copy-button").off(),this.pageContainer.find(".permalink-copy-button").off(),e.find("."+this.chunkClassName).each((function(e,i){n.initResultActions((0,t.default)(i))}))):"desktop"===this.displayFormat&&(this.shareDialog=null,this.pageContainer.find(".citation-style-selector").off(),this.pageContainer.find(".copy-button").off(),this.pageContainer.find(".permalink-copy-button").off(),this.pageContainer.find(".share > .trigger").off(),this.pageContainer.find(".cite > .trigger").off(),e.find("."+this.chunkClassName).each((function(e,i){n.initResultActions((0,t.default)(i))})))},i.setShareContentValues=function(e,n){var i=(0,t.default)(e.currentTarget).data("twitter-url"),r=(0,t.default)(e.currentTarget).data("facebook-url"),o=(0,t.default)(e.currentTarget).data("permalink-url");n.find(".share-link-twitter").attr("href",i),n.find(".share-link-facebook").attr("href",r),n.find(".permalink-text").val(o)},i.repositionDropwdown=function(e,n,i){var r=(0,t.default)(e.currentTarget).offset().top,o=(0,t.default)(e.currentTarget).offset().left;n.hasClass("flipped")?r-=parseInt(i,10):r+=parseInt(this.dropdownOffset,10),n.closest(".dropdown-block-container").offset({top:r,left:o})},i.initPermalinkField=function(e){var t=e.find(".permalink-copy-button"),n=e.find(".permalink-text");new ca.CopyButton({trigger:t,target:n,message:"Permalink successfully copied."}),e.on("dropdown-active",(function(){new ma.EasySelectText(n)}))},e}();va.ResultActions=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ya={};(function(e){(function(){"use strict";ya.__esModule=!0,ya.ResultSelectorsBase=void 0;var t=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function n(e){return e&&e.__esModule?e:{default:e}}var i=n(si).default.getLogger("results-selectors"),r=function(){function e(e,t,n,i){var r=this;this.searchResultsContainer=t,this.searchHash=n,this.itemCssClass=i,this.selected=[],this.oldSelectorsStoreItemName="labs-pubmed-results-selected",this.selectorsStoreItemName="pm-rs",this.selectedIdsSeparator=",",this.selectedHashSeparator="$",this.storage=e[0].sessionStorage,this.selectPage=!1,this.initSelectedUpdated(),this.removeOldSelectorValues(),this.loadSelected(),this.initSelectors(this.searchResultsContainer),this.searchResultsContainer.on("remove-from-selected",(function(e,t,n){if(n)r.searchResultsContainer.trigger("selected-updated",[[]]);else if(t){var i=r.selected.slice(),o=r.selected.indexOf(""+t);-1!==o&&(i.splice(o,1),r.searchResultsContainer.trigger("selected-updated",[i,!1]))}}))}var n=e.prototype;return n.selectDocsum=function(e,n){var r=(0,t.default)(n.target).parent().find(".position-number").text(),o=this.selected.indexOf(e);-1!==o?(this.selected.splice(o,1),i.debug("Removing selected article from the selected: "+e),(0,Ri.reportEvent)(r,e,"deselect_item")):(this.selected.push(e),i.debug("Adding selected article to the selected: "+e),(0,Ri.reportEvent)(r,e,"select_item")),this.searchResultsContainer.trigger("selected-updated",[this.selected.slice(),!1])},n.initSelectors=function(e,t){void 0===t&&(t=!1),this.initSelectionHandlers(e),t&&this.updateSelectorsSelectedState()},n.deinitSelectors=function(e){throw new Error("Not implemented method deinitSelectors")},n.initSelectionHandlers=function(e){throw new Error("Not implemented method initSelectionHandlers")},n.initSelectedUpdated=function(){var e=this;this.searchResultsContainer.on("selected-updated",(function(t,n,i){void 0===i&&(i=!1),e.selectPage=i,e.selected=n,e.updateSelectorsSelectedState(),e.writeSelectedtoStorage(n)})),this.searchResultsContainer.on("select-page",(function(t){e.searchResultsContainer.trigger("selected-updated",[e.getAllIdsOnThisPage(),!0])}))},n.updateSelectorsSelectedState=function(){var e=this;this.searchResultsContainer.find(".search-result-selector").each((function(n,i){var r=(0,t.default)(i),o=r.attr("value"),a=-1!==e.selected.indexOf(o);e.updateSelectorState(r,a)}))},n.updateSelectorState=function(e,t){throw new Error("Not implemented method updateSelectorState")},n.getSelectedIds=function(){return this.selected.slice()},n.getAllIdsOnThisPage=function(){var e=this.searchResultsContainer.find(".search-result-selector").map((function(e,n){return(0,t.default)(n).attr("value")}));return Array.from(e)},n.removeOldSelectorValues=function(){var e=this.storage.getItem(this.oldSelectorsStoreItemName);e&&(this.storage.setItem(this.selectorsStoreItemName,e),this.storage.setItem(this.oldSelectorsStoreItemName,""))},n.loadSelected=function(){var e=this.readSelectedFromStorage();this.searchResultsContainer.trigger("selected-updated",[e.selectedFromStorage,e.selectPage])},n.readSelectedFromStorage=function(){var e=this.storage.getItem(this.selectorsStoreItemName);if(!e)return{selectedFromStorage:[],selectPage:!1};var t=e.split(this.selectedHashSeparator),n=t[0],i=t[1],r="true"===t[2];return n===this.searchHash?{selectedFromStorage:i&&i.split(this.selectedIdsSeparator),selectPage:r}:(this.storage.setItem(this.selectorsStoreItemName,""),{selectedFromStorage:[],selectPage:!1})},n.writeSelectedtoStorage=function(e){var t="";if(e&&(t=e.join(this.selectedIdsSeparator)),t){var n=[this.searchHash,t,""+this.selectPage].join(this.selectedHashSeparator);this.storage.setItem(this.selectorsStoreItemName,n)}else this.storage.setItem(this.selectorsStoreItemName,"")},e}();ya.ResultSelectorsBase=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ba={};(function(e){(function(){"use strict";ba.__esModule=!0,ba.ResultSelectorsCheckboxes=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(){return e.apply(this,arguments)||this}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.deinitSelectors=function(e){e.find(".search-result-selector").off("click")},o.initSelectionHandlers=function(e){var t=this;e.find(".search-result-selector").on("click",(function(e){var i=(0,n.default)(e.target).closest(".search-result-selector").attr("value");t.selectDocsum(i,e)}))},o.updateSelectorState=function(e,t){e.prop("checked",t)},r}(ya.ResultSelectorsBase);ba.ResultSelectorsCheckboxes=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wa={};(function(e){(function(){"use strict";wa.__esModule=!0,wa.ActionPanel=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e){var t=e.container,n=e.expandButton,i=e.initialFocusEl;this.container=t,this.expandButton=n,this.closeButton=t.find(".action-panel-cancel"),this.initialFocusEl=i,this.initExpandButton(n),this.initCloseButton()}var t=e.prototype;return t.initExpandButton=function(e){var t=this;e.click((function(e){e.preventDefault(),t.togglePanel()}))},t.initCloseButton=function(){var e=this;this.closeButton.unbind().click((function(t){t.preventDefault(),e.togglePanel()}))},t.isExpanded=function(){return this.container.hasClass("expanded")},t.scrollToTop=function(e){var t=e.offset().top+e.height();(0,n.default)("html, body").animate({scrollTop:t+"px"})},t.togglePanel=function(){this.container.hasClass("expanded")?(this.closePanel(),this.focusOnExpandButton()):this.openPanel()},t.closePanel=function(){this.container.stop().slideUp(),this.container.removeClass("expanded"),this.container.attr("aria-hidden",!0),this.expandButton.attr("aria-expanded",!1),this.expandButton.removeClass("expanded"),this.closeButton.attr("aria-expanded",!1),this.container.trigger("toggle-panel",[!1])},t.openPanel=function(){this.container.stop().css("display","block").hide().slideDown(),this.container.addClass("expanded"),this.container.attr("aria-hidden",!1),this.expandButton.attr("aria-expanded",!0),this.expandButton.addClass("expanded"),this.closeButton.attr("aria-expanded",!0),this.initialFocusEl.focus(),this.container.trigger("toggle-panel",[!0])},t.focusOnExpandButton=function(){this.expandButton.focus()},e}();wa.ActionPanel=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sa={__esModule:!0,CollectionsPanel:void 0},_a=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.openCollectionsPanelAfterSuccessfulLogin=function(){var e=this.container.data("collections-open-panel-enabled"),t=this.container.data("collections-open-panel-url-hash");!0===e&&t===window.location.hash&&(this.togglePanel(),this.container.find(".collections-action-panel-form :input:visible:enabled:first").focus(),window.location.hash="","function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.split("#")[0]))},i}(wa.ActionPanel);Sa.CollectionsPanel=_a;var Ca={__esModule:!0,BibliographyPanel:void 0},ka=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.openBibliographyPanelAfterSuccessfulLogin=function(){var e=this.container.data("bibliography-open-panel-enabled"),t=this.container.data("bibliography-open-panel-url-hash");!0===e&&t===window.location.hash&&(this.togglePanel(),this.container.find(".bibliography-action-panel-form :input:visible:enabled:first").focus(),window.location.hash="","function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.split("#")[0]))},i}(wa.ActionPanel);Ca.BibliographyPanel=ka;var Ta={__esModule:!0,SavedSearchPanel:void 0},xa=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.openSavedSearchPanelAfterSuccessfulLogin=function(){var e=this.container.data("saved-search-open-panel-enabled"),t=this.container.data("saved-search-open-panel-url-hash");!0===e&&t===window.location.hash&&(this.togglePanel(),this.container.find(".saved-search-action-panel-form :input:visible:enabled:first").focus(),this.container.trigger("after-successful-login"),window.location.hash="","function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.split("#")[0]))},i}(wa.ActionPanel);Ta.SavedSearchPanel=xa;var Ea={__esModule:!0,RSSPanel:void 0},Da=function(e){var t,n;function i(t){var n,i=t.container,r=t.expandButton,o=t.initialFocusEl;return(n=e.call(this,{container:i,expandButton:r,initialFocusEl:o})||this).container=i,n.rssLinkCopyButton=new ca.CopyButton({trigger:n.container.find(".rss-link-copy-button"),target:n.container.find(".rss-link"),message:"RSS Link successfully copied."}),n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(wa.ActionPanel);Ea.RSSPanel=Da;var Fa={};function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Fa.__esModule=!0,Fa.SelectionSelector=void 0;var Aa=function(){function e(e,t,n,i,r){this.selectionSelectorContainer=e,this.selectionSelectorContainerParent=this.selectionSelectorContainer.find(".action-panel-control-wrap"),this.resultSelectionSelector=this.selectionSelectorContainer.find('[name="results-selection"]'),this.customResultsIdsInput=this.selectionSelectorContainer.find('[name="selected-result-ids"]'),this.pageResultsIdsInput=this.selectionSelectorContainer.find('[name="page-result-ids"]'),this.pageResultsIdsInput.val(t),this.selectionValidationMessage=this.selectionSelectorContainer.find(".selection-validation-message"),this.selectionWarningMessage=this.selectionSelectorContainer.find(".selection-warning-message"),this.customSelectionValue=this.resultSelectionSelector.data("custom-selection-option"),this.allResultsSelectionValue=this.resultSelectionSelector.data("all-selection-option"),this.pageSelectionValue=this.resultSelectionSelector.data("page-selection-option"),this.defaultSelectionValue=this.resultSelectionSelector.data("default-selection-option"),this.pageSelectionOption=this.resultSelectionSelector.find('[value="'+this.pageSelectionValue+'"]'),this.customSelectionOption=this.resultSelectionSelector.find('[value="'+this.customSelectionValue+'"]'),this.searchFormControls=i,this.initSelector(n,r)}var t=e.prototype;return t.initSelector=function(e,t){var n=this;t?this.pageSelectionOn(e):e&&e.length?this.customSelectionOn(e):this.customSelectionOff(),this.resultSelectionSelector.on("change",(function(){return n.validateSelector()}))},t.customSelectionOn=function(e){if(!e.length)return this.resultSelectionSelector.val(this.defaultSelectionValue),void this.customSelectionOff();this.selectedResultsIds=e,this.customResultsIdsInput.val(this.selectedResultsIds.join()),this.resultSelectionSelector.val(this.customSelectionValue),this.customSelectionOption.html(this.customSelectionOption.data("label")+" ("+e.length+")"),this.validateSelector()},t.customSelectionOff=function(){this.selectedResultsIds=[],this.customResultsIdsInput.val(""),this.customSelectionOption.html(this.customSelectionOption.data("label")),this.validateSelector()},t.allSelectionOn=function(){this.selectedResultsIds=[],this.customResultsIdsInput.val(""),this.resultSelectionSelector.val(this.allResultsSelectionValue),this.validateSelector()},t.pageSelectionOn=function(e){this.selectedResultsIds=[],this.customResultsIdsInput.val(e.join()),this.resultSelectionSelector.val(this.pageSelectionValue),this.customSelectionOption.html(this.customSelectionOption.data("label")+" ("+e.length+")"),this.validateSelector()},t.pageUpdated=function(e,t){var n=this.pageResultsIdsInput.val();n?(n=t?e+","+n:n+","+e,this.pageSelectionOption.html(this.pageSelectionOption.data("mult-page-title"))):(n=""+e,this.pageSelectionOption.html(this.pageSelectionOption.data("single-page-title"))),this.pageResultsIdsInput.val(n)},t.clearPageIds=function(){this.pageResultsIdsInput.val("")},t.validateSelector=function(){this.resultSelectionSelector.val()!==this.customSelectionValue||this.customResultsIdsInput.val()?(this.selectionSelectorContainer.trigger("selector-validated",!0),this.selectionValidationMessage.html(""),this.selectionSelectorContainerParent.removeClass("usa-input-error"),this.selectionValidationMessage.hide()):(this.selectionSelectorContainer.trigger("selector-validated",!1),this.selectionValidationMessage.html(this.selectionValidationMessage.data("alert-text")),this.selectionSelectorContainerParent.addClass("usa-input-error"),this.selectionValidationMessage.show()),this.selectionWarningMessage.length&&this.resultSelectionSelector.val()===this.allResultsSelectionValue?(this.selectionWarningMessage.html(this.selectionWarningMessage.data("warning-text")),this.selectionWarningMessage.show(),this.selectionSelectorContainerParent.addClass("warning-input")):(this.selectionWarningMessage.html(""),this.selectionSelectorContainerParent.removeClass("warning-input"),this.selectionWarningMessage.hide())},t.getCurrentValue=function(){return this.resultSelectionSelector.val()},t.hasIdsSelection=function(){var e=this.getCurrentValue();return e===this.pageSelectionValue||e===this.customSelectionValue},t.hasCustomSelection=function(){return this.getCurrentValue()===this.customSelectionValue},t.getSelectedCitationsPageOrCustom=function(){var e=this.getCurrentValue();return e===this.pageSelectionValue?this.pageResultsIdsInput.val():e===this.customSelectionValue?this.customResultsIdsInput.val():""},t.getSearchParams=function(){for(var e,t={},n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ia(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ia(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.searchFormControls);!(e=n()).done;){var i=e.value,r=i.attr("name"),o=i.val();r&&o&&(Object.prototype.hasOwnProperty.call(t,r)||(t[r]=[]),t[r].push(o))}var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s].join(","));return a},e}();Fa.SelectionSelector=Aa;var Oa={__esModule:!0};Oa.ActionForm=Oa.FORM_SUBMIT_EVENT_NAME=void 0;var Ma,Pa=((Ma=si)&&Ma.__esModule?Ma:{default:Ma}).default.getLogger("action-form");Oa.FORM_SUBMIT_EVENT_NAME="form-submitted";var ja=function(){function e(e){var t=this,n=e.container;this.container=n,this.form=this.container.find(".action-form"),this.submitButton=this.form.find(".action-panel-submit"),this.inProgressSubmitLabel=this.submitButton.data("loading-label"),this.originalSubmitLabel=this.submitButton.text(),this.csrftoken=this.form.find('[name="csrfmiddlewaretoken"]'),this.notificationTimeout=350,this.successLogLine="",this.failLogLine="",this.form.unbind().submit((function(e){return t.onFormSubmit(e)}))}var t=e.prototype;return t.enableFormSubmit=function(){this.submitButton.prop("disabled",!1)},t.disableFormSubmit=function(){this.submitButton.prop("disabled",!0)},t.getCsrfTokenData=function(){return{name:this.csrftoken.attr("name"),value:this.csrftoken.val()}},t.onActionComplete=function(e){var t=this;e?(this.container.trigger("form-submitted"),Pa.info(this.successLogLine),setTimeout((function(){return Zi.Notification.info(t.successLogLine)}),this.notificationTimeout)):((0,ui.pingerErrorHandler)("action-form",this.failLogLine),setTimeout((function(){return Zi.Notification.error(t.failLogLine)}),this.notificationTimeout)),this.submitButton.text(this.originalSubmitLabel),this.enableFormSubmit()},t.onFormSubmit=function(e){e.preventDefault(),this.setSubmitInProgress()},t.getSubmitEventArgs=function(){},t.setSubmitInProgress=function(){this.submitButton.text(this.inProgressSubmitLabel),this.disableFormSubmit()},e}();Oa.ActionForm=ja;var La={};(function(e){(function(){"use strict";La.__esModule=!0,La.SaveForm=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.container;return(n=e.call(this,{container:i})||this).resultsFormatSelector=n.form.find('[name="results-format"]'),n.successLogLine="Citations download should start shortly.",n.failLogLine="Unable to save citations to file.",n}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.constructForm=function(){this.container.remove(".save-temp-form");var e=(0,n.default)("<form />",{class:"save-temp-form"}).hide().appendTo(this.container),t=this.getCsrfTokenData();return(0,n.default)("<input/>",{type:"hidden",name:t.name,value:t.value}).appendTo(e),(0,n.default)("<input/>",{type:"hidden",name:this.resultsFormatSelector.attr("name"),value:this.resultsFormatSelector.val()}).appendTo(e),e},o.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t);var n=this.constructForm();this.setSelectedArticles(n),n.trigger("submit"),this.onActionComplete(!0)},o.setSelectedArticles=function(e){},r}(Oa.ActionForm);La.SaveForm=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ra={};(function(e){(function(){"use strict";Ra.__esModule=!0,Ra.SaveFormMultipleResults=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=function(e){var t,r;function o(t){var n,i=t.container,r=t.selectedResultsIds,o=t.searchFormControls,a=t.termValue,s=t.pageIds,l=t.initialSelectPage;return(n=e.call(this,{container:i})||this).searchFormControls=o,n.resultsSelectionContainer=n.form.find(".selection-selector-container"),n.selectionSelector=new Fa.SelectionSelector(n.resultsSelectionContainer,s,r,o,l),n.resultsSelectionContainer.on("selector-validated",(function(e,t){return t?n.enableFormSubmit():n.disableFormSubmit()})),n.term=a,n}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t)},a.getSubmitEventArgs=function(){return[this.selectionSelector.hasCustomSelection()]},a.setSelectedArticles=function(e){var t=this.selectionSelector.getSelectedCitationsPageOrCustom(),r="",o="";if(t)(0,n.default)("<input />",{type:"hidden",name:"result-ids",value:t}).appendTo(e),this.term&&(0,n.default)("<input />",{type:"hidden",name:"term",value:this.term}).appendTo(e),r=this.form.data("by-ids-action"),o=this.form.data("by-ids-method");else{for(var a,s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.searchFormControls);!(a=s()).done;)a.value.appendTo(e);r=this.form.data("by-search-action"),o=this.form.data("by-search-method")}e.attr("action",r),e.attr("method",o)},o}(La.SaveForm);Ra.SaveFormMultipleResults=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Na={};(function(e){(function(){"use strict";var t;Na.__esModule=!0,Na.Grecaptcha=void 0;var n=((t=si)&&t.__esModule?t:{default:t}).default.getLogger("captcha-field"),i=function(){function t(e,t){this.container=e,this.bodyElem=t,this.captchaValidationMessage=this.container.find(".captcha-validation-message"),this.captchaEnabled=this.container.data("recaptcha-enabled"),this.captchaURL=this.container.data("recaptcha-script-url")}var i=t.prototype;return i.initGrecaptchaControl=function(){if(this.captchaEnabled&&!("grecaptcha"in e)){this.container.find('[type="submit"]').prop("disabled",!0);var t='<script type="text/javascript" src="'+this.captchaURL+'" async defer/>';this.bodyElem.append(t),this.container.find('[type="submit"]').prop("disabled",!1)}},i.resetGrecaptchaControl=function(){try{this.captchaEnabled&&"grecaptcha"in e&&grecaptcha&&grecaptcha.reset()}catch(t){n.warn("Failed to reset grecaptcha")}},i.resetValidation=function(){this.captchaValidationMessage.length&&(this.captchaValidationMessage.hide(),this.captchaValidationMessage.text(""))},i.validate=function(e){if(this.captchaValidationMessage.length){var t=e.responseJSON;t&&t.recaptcha&&(this.captchaValidationMessage.text(t.recaptcha.join("; ")),this.captchaValidationMessage.show())}},i.copyValToForm=function(e){this.captchaInput=this.container.find(".g-recaptcha-response"),this.captchaInput.length&&(e[this.captchaInput.attr("name")]=this.captchaInput.val())},t}();Na.Grecaptcha=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ya={};(function(e){(function(){"use strict";Ya.__esModule=!0,Ya.EmailForm=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=function(e){var t,r;function o(t){var n,i=t.container,r=t.bodyElem;return(n=e.call(this,{container:i})||this).bodyElem=r,n.container&&n.container.length?(n.emailAddress=n.container.find(".email-to"),n.emailSubject=n.container.find('[name="email-subject"]').val(),n.emailSubjectHash=n.container.find('[name="email-subject-hash"]').val(),n.emailSearchDetails=n.container.find('[name="email-search-details"]').val(),n.emailSearchDetailsHash=n.container.find('[name="email-search-details-hash"]').val(),n.emailCitationFormat=n.container.find(".email-citation-format"),n.emailIncludeSupplementalContainer=n.container.find(".include-supplemental-container"),n.emailIncludeSupplemental=n.container.find(".email-include-supplemental"),n.grecaptcha=new Na.Grecaptcha(n.container,r),n.successLogLine="Email successfully sent.",n.failLogLine="Unable to send email.",n.container.on("toggle-panel",(function(e,t){return t&&n.grecaptcha.initGrecaptchaControl()})),n.filtersStorage=new mr.PersistentFiltersStorage,n.initEmailFormat(),n):function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.onFormSubmit=function(t){var n=this;e.prototype.onFormSubmit.call(this,t);var i=this.getSelectedArticles();i?i.done((function(e){n.sendEmail(e)})).fail((function(){return n.onActionComplete(!1)})):this.sendEmail()},a.sendEmail=function(e){var t=this,i=this.createAjaxSettings(!!e);i?(e&&(i.data.result_ids=e),n.default.ajax(i).done((function(){t.onActionComplete(!0),t.grecaptcha.resetValidation(),t.grecaptcha.resetGrecaptchaControl()})).fail((function(e){t.onActionComplete(!1),t.grecaptcha.validate(e),t.grecaptcha.resetGrecaptchaControl()}))):(0,ui.pingerErrorHandler)("email-form","No settings to send email specified")},a.getSelectedArticles=function(){},a.createAjaxSettings=function(e){var t={},n=this.composeEmailFormData();if(e)t={type:this.form.data("by-ids-method"),url:this.form.data("by-ids-action"),data:n,encode:!0};else{for(var r,o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.searchFormControls);!(r=o()).done;){var a=r.value,s=a.attr("name");"filter"===s&&Object.prototype.hasOwnProperty.call(n,"filter")?n.filter+=","+a.val():n[s]=a.val()}t={type:this.form.data("by-search-method"),url:this.form.data("by-search-action"),data:n,encode:!0}}return t},a.initEmailFormat=function(){var e=this;this.showHideIncludeSupplemental(),this.emailCitationFormat.on("change",(function(){e.showHideIncludeSupplemental()}))},a.showHideIncludeSupplemental=function(){"abstract"===this.emailCitationFormat.val()?this.emailIncludeSupplementalContainer.show():this.emailIncludeSupplementalContainer.hide()},a.composeEmailFormData=function(){var e=this.emailCitationFormat.val();this.rich_text="summary"===e||"abstract"===e?"yes":"no",this.format=e,"abstract"===e||"abstract-text"===e?this.format="abstract":"summary"!==e&&"summary-text"!==e||(this.format="summary");var t={rich_text_formatting:this.rich_text,results_format:this.format,to_email:this.emailAddress.val()},n=this.getCsrfTokenData();return t[n.name]=n.value,this.grecaptcha.copyValToForm(t),t.subject=this.emailSubject,t.subject_hash=this.emailSubjectHash,t.email_search_details=this.emailSearchDetails,t.email_search_details_hash=this.emailSearchDetailsHash,"abstract"===this.format&&"yes"===this.rich_text&&(t.include_supplemental=this.emailIncludeSupplemental.prop("checked")),t},o}(Oa.ActionForm);Ya.EmailForm=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ba={};(function(e){(function(){"use strict";Ba.__esModule=!0,Ba.EmailFormMultipleResults=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.container,r=t.bodyElem,o=t.selectedResultsIds,a=t.searchFormControls,s=t.termValue,l=t.pageIds,c=t.initialSelectPage;return(n=e.call(this,{container:i,bodyElem:r})||this).container&&n.container.length?(n.searchFormControls=a,n.resultsSelectionContainer=n.form.find(".selection-selector-container"),n.selectionSelector=new Fa.SelectionSelector(n.resultsSelectionContainer,l,o,a,c),n.resultsSelectionContainer.on("selector-validated",(function(e,t){t?n.enableFormSubmit():n.disableFormSubmit()})),n.term=s,n):function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t)},o.getSelectedArticles=function(){var e=n.default.Deferred(),t=this.selectionSelector.getSelectedCitationsPageOrCustom();return e.resolve(t),e.promise()},r}(Ya.EmailForm);Ba.EmailFormMultipleResults=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Va={};(function(e){(function(){"use strict";Va.__esModule=!0,Va.Clipboard=void 0;var t=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function n(e){return e&&e.__esModule?e:{default:e}}var i=n(si).default.getLogger("clipboard"),r=function(){function e(e){var n=e.clipboardAPIRoot,i=e.clipboardNextPageUrl,r=e.clipboardLink,o=e.csrfTokenInputName,a=void 0===o?"csrfmiddlewaretoken":o;this.clipboardAPIRoot=n,this.clipboardNextPageUrl=i,this.clipboardLink=r,this.csrfToken={value:(0,t.default)('[name="'+a+'"]').val(),name:a},this.storage=window.localStorage,this.isSafari=window.safari||navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),this.onBack=(window.performance&&window.performance.navigation&&window.performance.navigation.type)===window.performance.navigation.TYPE_BACK_FORWARD,this.updateAmountTextOnBackNavigation()}var n=e.prototype;return n.updateAmountTextOnBackNavigation=function(){var e=this;this.onBack?this.updateClipboardLink():this.isSafari&&(0,t.default)(window).on("pageshow",(function(t){t.originalEvent.persisted&&e.updateClipboardLink()}))},n.updateClipboardLink=function(){this.getTotalAmount()>0?(this.clipboardLink.removeClass("hidden"),this.clipboardLink.find(".amount-in-clipboard").text("("+this.getTotalAmount()+")")):this.clipboardLink.addClass("hidden")},n.syncClipboardIDs=function(e){this.storage.setItem("clipboard-ids",e.join(",")),this.storage.setItem("clipboard-total",e.length)},n.addToLocalClipboardIDs=function(e){var t=this.getLocalClipboardIDs();t.push.apply(t,e),this.storage.setItem("clipboard-ids",t.join(","))},n.removeFromLocalClipboardIDs=function(e){var t=this.getLocalClipboardIDs().filter((function(t){return-1===e.indexOf(t)}));this.storage.setItem("clipboard-ids",t.join(","))},n.removeAllFromLocalClipboardIDs=function(){this.storage.setItem("clipboard-ids","")},n.getLocalClipboardIDs=function(){var e=this.storage.getItem("clipboard-ids");return e?e.split(","):[]},n.getTotalAmount=function(){return parseInt(this.storage.getItem("clipboard-total"),10)},n.addCsrfToken=function(e){e[this.csrfToken.name]=this.csrfToken.value},n.logReportFailure=function(e,t,n,r){var o=e;403===t.status&&t.responseJSON&&t.responseJSON.msg?o=t.responseJSON.msg:n&&(o=n),403===t.status?(Zi.Notification.warning(o),i.warn(o)):(Zi.Notification.error(o),(0,ui.pingerErrorHandler)("clipboard",o)),r.reject()},n.onSentSuccessfully=function(e,t){var n=e.msg;Zi.Notification.info(n),i.info(n),this.addToLocalClipboardIDs(e.added_ids),t.resolve(),this.clipboardLink&&this.getTotalAmount()>0&&(this.clipboardLink.removeClass("hidden"),this.clipboardLink.find(".amount-in-clipboard").text("("+this.getTotalAmount()+")"))},n.sendByIds=function(e){var n=this,i=t.default.Deferred(),r={"result-ids":e.join(",")};return this.addCsrfToken(r),t.default.post(this.clipboardAPIRoot+"add/",r).done((function(e){n.storage.setItem("clipboard-total",e.total_amount),n.onSentSuccessfully(e,i)})).fail((function(e,t,r){return n.logReportFailure("Error during sending to clipboard.",e,r,i)})),i},n.sendBySearchData=function(e){var n=this,i=t.default.Deferred();return this.addCsrfToken(e),t.default.post(this.clipboardAPIRoot+"add-by-search/",e).done((function(e){n.storage.setItem("clipboard-total",e.total_amount),n.onSentSuccessfully(e,i)})).fail((function(e,t,r){return n.logReportFailure("Error during sending to clipboard.",e,r,i)})),i},n.getPage=function(e,n){var i=this,r=t.default.Deferred(),o=new ji.QueryDict([["page",e],["format",n]]);return t.default.get(this.clipboardNextPageUrl+"?"+o+"&no-cache='"+(new Date).getTime()).done((function(e){return r.resolve((0,t.default)(e))})).fail((function(e,t,n){return i.logReportFailure("Error retrieving clipboard results.",e,n,r)})),r},n.remove=function(e){var n=this,r=t.default.Deferred(),o={"result-ids":e.join(",")};return this.addCsrfToken(o),t.default.post(this.clipboardAPIRoot+"remove/",o).done((function(e){n.storage.setItem("clipboard-total",e.total_amount),r.resolve(e.total_amount),Zi.Notification.info(e.msg),i.info(e.msg),n.removeFromLocalClipboardIDs(e.removed_ids)})).fail((function(e,t,i){n.logReportFailure("Error during removing from clipboard.",e,i,r),r.reject()})),r},n.removeAndGetNewPages=function(e,n,r){var o=this,a=t.default.Deferred(),s={"result-ids":e.join(",")};return this.addCsrfToken(s),t.default.post(this.clipboardAPIRoot+"remove/",s).done((function(e){o.storage.setItem("clipboard-total",e.total_amount);var s,l=t.default.Deferred(),c=[],u=0,d=function(){var e=s.valueOf();o.getPage(e,n).done((function(t){u+=1,c.push([e,t]),u>=r&&l.resolve()})).fail((function(){(u+=1)>=r&&l.reject()}))};for(s=1;s<=r;s++)d();l.done((function(){c.sort((function(e,t){return e[0]-t[0]})),a.resolve(c,e.total_amount)})).fail((function(){a.reject(c,e.total_amount)}));var h=e.msg;Zi.Notification.info(h),i.info(h),o.removeFromLocalClipboardIDs(e.removed_ids)})).fail((function(e,t,n){return o.logReportFailure("Error during removing from clipboard.",e,n,a)})),a},n.removeAll=function(){var e=this,n=t.default.Deferred(),r={};return this.addCsrfToken(r),t.default.post(this.clipboardAPIRoot+"remove/all/",r).done((function(t){e.storage.setItem("clipboard-total",t.total_amount);var r=t.msg;Zi.Notification.info(r),i.info(r),n.resolve(),e.removeAllFromLocalClipboardIDs()})).fail((function(t,i,r){return e.logReportFailure("Error during removing from clipboard.",t,r,n)})),n},n.getAll=function(){var e=this,n=t.default.Deferred();return t.default.get(this.clipboardAPIRoot+"all/").done((function(t){e.storage.setItem("clipboard-total",t.total_amount),n.resolve(t.items)})).fail((function(){Zi.Notification.error("Error during retrieval IDs from Clipboard, please try again."),n.reject()})),n},e}();Va.Clipboard=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ua={};function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ua.__esModule=!0,Ua.ClipboardForm=void 0;var Wa=function(e){var t,n;function i(t){var n,i=t.container,r=t.selectedResultsIds,o=t.searchFormControls,a=t.pageIds,s=t.trigger,l=t.mapArticleIdToLabel,c=t.clipboard,u=t.initialSelectPage;return(n=e.call(this,{container:i})||this).clipboard=c,n.searchFormControls=o,n.resultsSelectionContainer=n.form.find(".selection-selector-container"),n.selectionSelector=new Fa.SelectionSelector(n.resultsSelectionContainer,a,r,o,u),n.resultsSelectionContainer.on("selector-validated",(function(e,t){return t?n.enableFormSubmit():n.disableFormSubmit()})),n.trigger=s,n.mapArticleIdToLabel=l,n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.onFormSubmit=function(t){var n=this;e.prototype.onFormSubmit.call(this,t);var i=this.selectionSelector.getSelectedCitationsPageOrCustom();if(i){var r=i.split(",");this.clipboard.sendByIds(r).done((function(){n.updateClipboardLabels(r.map((function(e){return n.mapArticleIdToLabel(e)}))),n.container.trigger(Oa.FORM_SUBMIT_EVENT_NAME)})).fail((function(){return n.container.trigger(Oa.FORM_SUBMIT_EVENT_NAME)})).always((function(){return n.onActionComplete()}))}else{var o=this.selectionSelector.getSearchParams(),a=this.selectionSelector.pageResultsIdsInput.val().split(",");this.clipboard.sendBySearchData(o).done((function(){n.updateClipboardLabels(a.map((function(e){return n.mapArticleIdToLabel(e)})))})).always((function(){n.container.trigger(Oa.FORM_SUBMIT_EVENT_NAME),n.onActionComplete()}))}},r.updateClipboardLabels=function(e){for(var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ha(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ha(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(e);!(t=n()).done;)t.value.removeAttr("hidden").addClass("active")},r.onActionComplete=function(){this.submitButton.text(this.originalSubmitLabel),this.enableFormSubmit()},i}(Oa.ActionForm);Ua.ClipboardForm=Wa;var Qa={};function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Qa.__esModule=!0,Qa.ClipboardSenderPanel=void 0;var za=function(e){var t,n;function i(t){var n,i=t.container,r=t.expandButton,o=t.mobileTrigger,a=t.selectedIDs,s=t.mapArticleIdToLabel,l=t.clipboard,c=t.initialFocusEl;return(n=e.call(this,{container:i,expandButton:r,initialFocusEl:c})||this).selectedIDs=a,n.mapArticleIdToLabel=s,n.clipboard=l,n.initExpandButton(o),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.updateSelectedIDs=function(e){this.selectedIDs=e},r.initExpandButton=function(t){var n=this;t.click((function(t){t.preventDefault(),n.selectedIDs&&n.selectedIDs.length?n.sendSelected():e.prototype.togglePanel.call(n)}))},r.sendSelected=function(){var e=this;if(this.selectedIDs&&this.selectedIDs.length){var t=this.selectedIDs.map((function(t){return e.mapArticleIdToLabel(t)}));this.clipboard.sendByIds(this.selectedIDs).done((function(){e.container.trigger(Oa.FORM_SUBMIT_EVENT_NAME,[!0]);for(var n,i=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qa(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(t);!(n=i()).done;)n.value.removeAttr("hidden").addClass("active")})).fail((function(){return e.container.trigger(Oa.FORM_SUBMIT_EVENT_NAME)}))}},i}(wa.ActionPanel);Qa.ClipboardSenderPanel=za;var Ga={};(function(e){(function(){"use strict";Ga.__esModule=!0,Ga.CollectionForm=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=function(e){var t,r;function o(t){var n,i=t.container;return(n=e.call(this,{container:i})||this).disableFormSubmit(),n.isExistingCollectionsLoaded=!1,n.existingCollectionChoice=n.form.find(".collections-existing"),n.existingCollectionChoice.on("change",(function(){return n.selectExistingCollection()})),n.existingCollectionsRetryLoad=n.form.find(".collections-retry-load-on-error"),n.existingCollectionsRetryLoad.on("click",(function(){return n.selectExistingCollection()})),n.existingCollectionControls=n.form.find(".existing-collections-controls"),n.collectionsRootURL=n.form.data("collections-root-url"),n.newCollectionChoice=n.form.find(".collections-new"),n.newCollectionChoice.on("change",(function(){return n.selectNewCollection()})),n.newCollectionControls=n.form.find(".new-collections-controls"),n.collectionNameTooLongMessage=n.form.find(".collections-new-name-too-long"),n.maxCollectionNameLength=n.form.data("myncbi-max-collection-name-length"),n.newCollectionName=n.form.find(".collections-action-add-to-new"),n.newCollectionName.on("input",(function(e){return n.toggleSubmitForNewCollection(e.target.value.length)})),n.addingToCollectionInProcess=!1,n.saveProgressIndicator=new Ni.DotsLoadingIndicator({container:n.container,className:"loading-indicator"}),n.container.on("toggle-panel",(function(e,t){t&&(n.existingCollectionChoice.prop("checked",!0),n.existingCollectionChoice.trigger("change"))})),n}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.onFormSubmit=function(t){var n=this;e.prototype.onFormSubmit.call(this,t),this.promiseSelectedArticles().done((function(e){return n.saveToCollections(e)})).fail((function(){return n.onActionComplete(!1)}))},a.saveToCollections=function(e){var t=this;this.addingToCollectionInProcess=!0,this.saveProgressIndicator.show(),this.container.addClass("loading");var i={};i.article_ids=e;var r,o=this.getCsrfTokenData();i[o.name]=o.value,this.existingCollectionChoice.is(":checked")&&(i.collection_id=this.form.find(".collections-action-add-to-existing").val(),r=this.form.data("add-to-existing-collection-url"),(0,Ri.reportEvent)("collection","existing_collection","save_share")),this.newCollectionChoice.is(":checked")&&(i.collection_name=this.newCollectionName.val(),r=this.form.data("create-and-add-to-new-collection-url"),this.isExistingCollectionsLoaded=!1,(0,Ri.reportEvent)("collection",i.collection_name,"save_share")),n.default.post({url:r,data:i,encode:!0}).done((function(e){var n=t.getEditCollectionLink(e.collection_id);t.successLogLine="New items were added to your collection. "+n+".",t.onActionComplete(!0)})).fail((function(e){if(Object.prototype.hasOwnProperty.call(e,"responseJSON")){var n=e.responseJSON;if(Object.prototype.hasOwnProperty.call(n,"error")&&(t.failLogLine=n.error,Object.prototype.hasOwnProperty.call(n,"collection_id"))){var i=t.getEditCollectionLink(n.collection_id);t.failLogLine+=" "+i+"."}}t.onActionComplete(!1)})).always((function(){t.addingToCollectionInProcess=!1,t.saveProgressIndicator.hide(),t.container.removeClass("loading")}))},a.getEditCollectionLink=function(e){return'<a href="'+this.collectionsRootURL+e+'/">Edit your collection</a>'},a.selectNewCollection=function(){this.newCollectionName.prop("required",!0),this.existingCollectionControls.hide(),this.existingCollectionsRetryLoad.hide(),this.newCollectionControls.show(),this.toggleSubmitForNewCollection(this.newCollectionName.val().length),this.existingCollectionChoice.removeAttr("checked"),this.newCollectionChoice[0].setAttribute("checked","")},a.selectExistingCollection=function(){var e=this;if(this.newCollectionName.prop("required",!1),this.newCollectionControls.hide(),this.existingCollectionControls.removeClass("usa-input-error").show(),this.existingCollectionsRetryLoad.hide(),this.newCollectionChoice.removeAttr("checked"),this.existingCollectionChoice[0].setAttribute("checked",""),!1===this.isExistingCollectionsLoaded){this.container.trigger("collection-validated",!1);var t=this.form.find(".collections-action-add-to-existing");t.find("option").remove(),n.default.get({url:this.form.data("existing-collections-url")}).done((function(r){for(var o,a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(r.collections.sort((function(e,t){return e.name.localeCompare(t.name)})));!(o=a()).done;){var s=o.value;"Favorites"===s.name?t.prepend((0,n.default)("<option>",{value:s.id,text:s.name}).prop("selected","selected")):t.append((0,n.default)("<option>",{value:s.id,text:s.name}))}e.isExistingCollectionsLoaded=!0,e.container.trigger("collection-validated",!0)})).fail((function(){var t="Unable to retrieve existing collections";(0,ui.pingerErrorHandler)("collections-form",t),Zi.Notification.error(t),e.existingCollectionControls.addClass("usa-input-error"),e.existingCollectionsRetryLoad.show()}))}else this.container.trigger("collection-validated",!0)},a.toggleSubmitForNewCollection=function(e){e>this.maxCollectionNameLength?(this.container.trigger("collection-validated",!1),this.newCollectionControls.addClass("usa-input-error"),this.collectionNameTooLongMessage.show()):(this.newCollectionControls.removeClass("usa-input-error"),this.collectionNameTooLongMessage.hide(),this.container.trigger("collection-validated",!0))},o}(Oa.ActionForm);Ga.CollectionForm=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ja={};(function(e){(function(){"use strict";Ja.__esModule=!0,Ja.CollectionsFormMultipleResults=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.container,r=t.selectedResultsIds,o=t.pageIds,a=t.searchFormControls,s=t.initialSelectPage;return(n=e.call(this,{container:i})||this).resultsSelectionContainer=n.form.find(".selection-selector-container"),n.selectionSelector=new Fa.SelectionSelector(n.resultsSelectionContainer,o,r,a,s),n.selectorValid=!0,n.collectionValid=!1,n.selectionSelector.selectionSelectorContainer.on("selector-validated",(function(e,t){n.selectorValid=t,n.selectorValid&&n.collectionValid?n.enableFormSubmit():n.disableFormSubmit()})),n.container.on("collection-validated",(function(e,t){n.collectionValid=t,n.selectorValid&&n.collectionValid&&!n.addingToCollectionInProcess?n.enableFormSubmit():n.disableFormSubmit()})),n.failLogLine="Unable to add items to the collection.",n}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t)},o.getSubmitEventArgs=function(){return[this.selectionSelector.hasCustomSelection()]},o.promiseSelectedArticles=function(){var e=n.default.Deferred(),t=this.selectionSelector.getSelectedCitationsPageOrCustom();if(t)e.resolve(t);else{var i=this.form.data("get-article-ids-by-search-url"),r=this.selectionSelector.getSearchParams();r.max_amount=this.form.data("add-to-collection-max-amount");var o=this.getCsrfTokenData();r[o.name]=o.value,n.default.post({url:i,data:r,encode:!0}).done((function(t){e.resolve(t.article_ids.join(","))})).fail((function(){e.reject("No results to add")}))}return e.promise()},r}(Ga.CollectionForm);Ja.CollectionsFormMultipleResults=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var $a={};(function(e){(function(){"use strict";$a.__esModule=!0,$a.BibliographyForm=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=function(e){var t,r;function o(t){var n,i=t.container;return(n=e.call(this,{container:i})||this).isExistingBibliographiesLoaded=!1,n.bibliographiesRetryLoad=n.form.find(".bibliographies-retry-load-on-error"),n.bibliographiesRetryLoad.on("click",(function(){return n.loadBibliographies()})),n.myBibRootURL=n.form.data("mybib-root-url"),n.myBibliographyRadio=n.form.find("#my-bibliography"),n.bibliographiesList=n.form.find(".bibliographies-action-add"),n.saveProgressIndicator=new Ni.DotsLoadingIndicator({container:n.container,className:"loading-indicator"}),n.container.on("toggle-panel",(function(e,t){t&&n.loadBibliographies()})),n}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.registerCheckedAttrOnChange=function(){var e=this.bibliographiesList.find("input");e.on("change",(function(t){e.removeAttr("checked"),t.target.setAttribute("checked","")}))},a.onFormSubmit=function(t){var n=this;e.prototype.onFormSubmit.call(this,t),this.saveProgressIndicator.show(),this.container.addClass("loading"),this.saveArticleIdsByChunks().then((function(e){n.successLogLine=e,n.onActionComplete(!0)})).fail((function(e){n.failLogLine=e,n.onActionComplete(!1)})).always((function(){n.saveProgressIndicator.hide(),n.container.removeClass("loading")}))},a.saveArticleIdsByChunks=function(){var e=n.default.Deferred(),t={},i=this.getCsrfTokenData();t[i.name]=i.value;var r,o=this.form.find(".bibliographies-action-add").find("input:checked").attr("id");"my-bibliography"!==o?((0,Ri.reportEvent)("mybib","delegate","save_share"),t.delegate_id=o,r=this.getEditDelegateBibliographyLink(o)):((0,Ri.reportEvent)("mybib","bibliography","save_share"),r=this.getEditUserBibliographyLink());var a=this.form.data("add-to-bibliography-url"),s=this.form.data("add-to-bibliography-batch-size"),l=0;return this.promiseSelectedArticles().done((function(i){return function i(o){var c=o.slice(0,s),u=o.slice(s);t.article_ids=c.join(","),n.default.post({url:a,data:t,encode:!0}).done((function(){if(u.length)l+=s,i(u);else{var t="New items were added to bibliography. "+r+".";e.resolve(t)}})).fail((function(){l>0?e.reject("An unexpected error occurred. Only the first "+l+" items have been added to bibliography. "+r+"."):e.reject("An unexpected error occurred. No items have been added to bibliography. "+r+".")}))}(i.split(","))})).fail((function(){return e.reject("No results to add")})),e.promise()},a.getEditUserBibliographyLink=function(){return'<a href="'+this.myBibRootURL+'">Edit your bibliography</a>'},a.getEditDelegateBibliographyLink=function(e){return'<a href="'+this.myBibRootURL+"?user="+e+'">Edit '+e+"'s bibliography</a>"},a.loadBibliographies=function(){var e=this;this.bibliographiesRetryLoad.hide(),!1===this.isExistingBibliographiesLoaded&&n.default.get({url:this.form.data("bibliography-delegates-url")}).done((function(t){for(var r,o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(t.delegates);!(r=o()).done;){var a=r.value;e.bibliographiesList.append((0,n.default)("<li>").append((0,n.default)("<input>",{name:"bibliography",id:a.id,value:a.name,type:"radio",role:"radio"}),(0,n.default)("<label>",{for:a.id,text:a.name})))}e.isExistingBibliographiesLoaded=!0,e.registerCheckedAttrOnChange()})).fail((function(){var t="Unable to retrieve your bibliography delegates.";(0,ui.pingerErrorHandler)("bibliography-form",t),Zi.Notification.error(t),e.bibliographiesRetryLoad.show()}))},o}(Oa.ActionForm);$a.BibliographyForm=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ka={};(function(e){(function(){"use strict";Ka.__esModule=!0,Ka.BibliographyFormMultipleResults=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.container,r=t.selectedResultsIds,o=t.pageIds,a=t.searchFormControls,s=t.initialSelectPage;return(n=e.call(this,{container:i})||this).resultsSelectionContainer=n.form.find(".selection-selector-container"),n.selectionSelector=new Fa.SelectionSelector(n.resultsSelectionContainer,o,r,a,s),n.selectionSelector.selectionSelectorContainer.on("selector-validated",(function(e,t){t?n.enableFormSubmit():n.disableFormSubmit()})),n.failLogLine="Unable to add items to the bibliography.",n}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t)},o.getSubmitEventArgs=function(){return[this.selectionSelector.hasCustomSelection()]},o.promiseSelectedArticles=function(){var e=n.default.Deferred(),t=this.selectionSelector.getSelectedCitationsPageOrCustom();if(t)e.resolve(t);else{var i=this.form.data("get-article-ids-by-search-url"),r=this.selectionSelector.getSearchParams();r.max_amount=this.form.data("add-to-bibliography-max-amount");var o=this.getCsrfTokenData();r[o.name]=o.value,n.default.post({url:i,data:r,encode:!0}).done((function(t){e.resolve(t.article_ids.join(","))})).fail((function(){e.reject("No results to add")}))}return e.promise()},r}($a.BibliographyForm);Ka.BibliographyFormMultipleResults=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Za={};(function(e){(function(){"use strict";Za.__esModule=!0,Za.CitationManagerForm=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.container;return(n=e.call(this,{container:i})||this).resultsFormatSelector=n.form.find('[name="results-format"]'),n.successLogLine="Citations were successfully saved to file. Download should start shortly.",n.failLogLine="Unable to download to citation manager.",n}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.constructForm=function(){this.container.remove(".citation-manager-temp-form");var e=(0,n.default)("<form />",{class:"citation-manager-temp-form"}).hide().appendTo(this.container),t=this.getCsrfTokenData();return(0,n.default)("<input/>",{type:"hidden",name:t.name,value:t.value}).appendTo(e),(0,n.default)("<input/>",{type:"hidden",name:this.resultsFormatSelector.attr("name"),value:this.resultsFormatSelector.val()}).appendTo(e),e},o.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t);var n=this.constructForm();this.setSelectedArticles(n),n.submit(),this.onActionComplete(!0)},o.setSelectedArticles=function(e){},r}(Oa.ActionForm);Za.CitationManagerForm=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Xa={};(function(e){(function(){"use strict";Xa.__esModule=!0,Xa.CitationManagerFormMultipleResults=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=function(e){var t,r;function o(t){var n,i=t.container,r=t.selectedResultsIds,o=t.searchFormControls,a=t.termValue,s=t.pageIds,l=t.initialSelectPage;return(n=e.call(this,{container:i})||this).searchFormControls=o,n.resultsSelectionContainer=n.form.find(".selection-selector-container"),n.selectionSelector=new Fa.SelectionSelector(n.resultsSelectionContainer,s,r,o,l),n.resultsSelectionContainer.on("selector-validated",(function(e,t){return t?n.enableFormSubmit():n.disableFormSubmit()})),n.term=a,n}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.onFormSubmit=function(t){e.prototype.onFormSubmit.call(this,t)},a.getSubmitEventArgs=function(){return[this.selectionSelector.hasCustomSelection()]},a.setSelectedArticles=function(e){var t=this.selectionSelector.getSelectedCitationsPageOrCustom(),r="",o="";if(t)(0,n.default)("<input />",{type:"hidden",name:"result-ids",value:t}).appendTo(e),this.term&&(0,n.default)("<input />",{type:"hidden",name:"term",value:this.term}).appendTo(e),r=this.form.data("by-ids-action"),o=this.form.data("by-ids-method");else{for(var a,s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.searchFormControls);!(a=s()).done;)a.value.appendTo(e);r=this.form.data("by-search-action"),o=this.form.data("by-search-method")}e.attr("action",r),e.attr("method",o)},o}(Za.CitationManagerForm);Xa.CitationManagerFormMultipleResults=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var es={};(function(e){(function(){var t,n=/[&<>"'`]/g,i=RegExp(n.source),r="object"==typeof e&&e&&e.Object===Object&&e,o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")(),s=(t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==t?void 0:t[e]}),l=Object.prototype.toString,c=a.Symbol,u=c?c.prototype:void 0,d=u?u.toString:void 0;es=function(e){var t;return(e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t))&&i.test(e)?e.replace(n,s):e}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ts={};(function(e){(function(){"use strict";ts.__esModule=!0,ts.SavedSearchForm=void 0;var t=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=i(es);function i(e){return e&&e.__esModule?e:{default:e}}var r=function(e){var i,r;function o(t){var n,i=t.container,r=t.selectedFilters;return(n=e.call(this,{container:i})||this).savedSearchRootURL=n.form.data("saved-search-root-url"),n.selectedFilters=r,n.failLogLine="Unable to save your search.",n.trySearchTermLink=n.form.find(".try-search-term"),n.trySearchTermLink.unbind().click((function(e){return n.trySearchTerm(e)})),n.alertNoChoice=n.form.find(".saved-search-alert-no"),n.alertNoChoice.on("change",(function(){return n.selectAlertNo()})),n.alertYesChoice=n.form.find(".saved-search-alert-yes"),n.alertYesChoice.on("change",(function(){return n.selectAlertYes()})),n.alertControls=n.form.find(".alert-schedule-wrap"),n.emailText=n.form.find(".saved-search-email-text"),n.frequencyChoice=n.form.find(".saved-search-frequency"),n.frequencyChoice.on("change",(function(){return n.changeFrequency()})),n.frequencyMonthlyAdditional=n.form.find(".saved-search-monthly-additional"),n.frequencyWeeklyAdditional=n.form.find(".saved-search-weekly-additional"),n.frequencyWeeklyAdditional.hide(),n.searchTermInput=n.form.find(".saved-search-term"),n.searchTermInput.on("input",(function(){n.searchTermInput[0].setCustomValidity("")})),n.invalidCharacters=/["&=<>\/]+/,n.emailText.on("input",(function(){n.validateEmailText()})),n}r=e,(i=o).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r;var a=o.prototype;return a.validateEmailText=function(){this.invalidCharacters.test(this.emailText.val())?(this.emailText[0].setCustomValidity('Optional email text may not contain the following characters: "&=<>/'),this.emailText[0].reportValidity()):this.emailText[0].setCustomValidity("")},a.onFormSubmit=function(n){var i=this;this.validateEmailText(),e.prototype.onFormSubmit.call(this,n);var r=this.form.data("create-saved-search-url"),o={name:this.form.find(".saved-search-name").val(),term:this.form.find(".saved-search-term").val(),has_alert:"yes"===this.form.find("input[name=saved-search-alert]:checked").val(),frequency:this.frequencyChoice.find("option:selected").val(),monthly_on_day:this.frequencyMonthlyAdditional.find("option:selected").val(),weekly_on_day:this.frequencyWeeklyAdditional.find("option:selected").val(),report:this.form.find(".saved-search-report").find("option:selected").val(),amount:this.form.find(".saved-search-amount").find("option:selected").val(),send_if_no_result:this.form.find(".saved-search-send-if-no-result").is(":checked"),email_text:this.emailText.val(),selected_filters:this.selectedFilters.join()},a=this.form.find(".search-timestamp");a&&a.length&&a.val()&&(o.search_timestamp=this.form.find(".search-timestamp").val());var s=this.getCsrfTokenData();o[s.name]=s.value,t.default.post({url:r,data:o,encode:!0}).done((function(e){var t=i.getEditSavedSearchLink(e.saved_search_id);i.successLogLine="New search saved. "+t+".",i.onActionComplete(!0)})).fail((function(e){if(Object.prototype.hasOwnProperty.call(e,"responseJSON")){var t=e.responseJSON;Object.prototype.hasOwnProperty.call(t,"error")&&(i.failLogLine=t.error),i.invalidTerm=Object.prototype.hasOwnProperty.call(t,"invalid_term")}i.onActionComplete(!1)}))},a.onActionComplete=function(t){!t&&this.invalidTerm?((0,ui.pingerErrorHandler)("action-form",this.failLogLine),this.searchTermInput[0].setCustomValidity(this.failLogLine),this.submitButton.text(this.originalSubmitLabel),this.enableFormSubmit(),this.submitButton.trigger("click")):e.prototype.onActionComplete.call(this,t)},a.getEditSavedSearchLink=function(e){return'<a href="'+this.savedSearchRootURL+e+'/">Edit your search settings</a>'},a.trySearchTerm=function(e){var n=this;e.preventDefault();var i=this.form.find(".saved-search-term").val();if(i){var r={term:i},o=this.selectedFilters.join(",");o&&(r.filter=o);var a=this.getCsrfTokenData();r[a.name]=a.value,t.default.post({url:this.form.data("try-search-terms-url"),data:r,encode:!0}).done((function(e){return n.notyFoundResultsAmount(e)})).fail((function(e){var t="Unable to test search terms.";if(Object.prototype.hasOwnProperty.call(e,"responseJSON")){var n=e.responseJSON;Object.prototype.hasOwnProperty.call(n,"error")&&(t=n.error)}(0,ui.pingerErrorHandler)("saved-search-form",t),Zi.Notification.error(t)}))}else Zi.Notification.error("Search term is empty! Please provide a valid query.")},a.selectAlertNo=function(){this.alertControls.hide(),this.alertYesChoice.removeAttr("checked"),this.alertNoChoice[0].setAttribute("checked","")},a.selectAlertYes=function(){this.alertControls.show(),this.alertNoChoice.removeAttr("checked"),this.alertYesChoice[0].setAttribute("checked","")},a.changeFrequency=function(){var e=this.frequencyChoice.find("option:selected").val();"monthly"===e?(this.frequencyMonthlyAdditional.show(),this.frequencyWeeklyAdditional.hide()):"weekly"===e?(this.frequencyMonthlyAdditional.hide(),this.frequencyWeeklyAdditional.show()):"daily"===e&&(this.frequencyMonthlyAdditional.hide(),this.frequencyWeeklyAdditional.hide())},a.notyFoundResultsAmount=function(e){var t=e.total_results;if(t>0){e.ignored_terms&&Zi.Notification.warning((0,n.default)(e.ignored_terms)+"."),e.ignored_words&&Zi.Notification.warning((0,n.default)(e.ignored_words)+"."),e.ignored_quotes&&Zi.Notification.warning((0,n.default)(e.ignored_quotes)+"."),e.ignored_fields&&Zi.Notification.warning((0,n.default)(e.ignored_fields)+".");var i=(0,ao.formatNumberWithCommas)(t);Zi.Notification.info(i+" results found.")}else Zi.Notification.error("Error: No items found.")},o}(Oa.ActionForm);ts.SavedSearchForm=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ns={};(function(e){(function(){"use strict";ns.__esModule=!0,ns.RssForm=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.container,r=t.selectedFilters;return(n=e.call(this,{container:i})||this).selectedFilters=r,n.rssLinkInput=n.form.find(".rss-link"),n.failLogLine="Unable to generate your RSS Feed URL.",n}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.composeTermWithFilters=function(e,t){var n={};for(var i in t.forEach((function(e){var t=e.split(".");n[t[0]]?n[t[0]]=new Array(n[t[0]]).concat(t[1]):n[t[0]]=t[1]})),n)if(n[i]&&n[i].constructor===Array)e=e+" AND ("+n[i].map((function(e){return e+"[Filter]"})).join(" OR ")+")";else if("years"===i){var r=n[i].split("-");e=e+" AND "+r[0]+":"+r[1]+"[pdat]"}else e=e+" AND "+n[i]+"[Filter]";return e},o.onFormSubmit=function(t){var i=this;e.prototype.onFormSubmit.call(this,t);var r=this.form.data("create-rss-feed-url"),o=this.form.data("search-form-term-value"),a={name:this.form.find(".rss-name").val(),term:this.selectedFilters.length>0?this.composeTermWithFilters(o,this.selectedFilters):o,limit:this.form.find(".rss-limit").val()},s=this.getCsrfTokenData();a[s.name]=s.value,n.default.post({url:r,data:a,encode:!0}).done((function(e){i.rssLinkInput.val(e.rss_feed_url),i.rssLinkInput.select(),i.form.find(".rss-link-copy-button").removeClass("disabled"),i.form.find(".rss-link-copy-button").removeAttr("disabled"),i.successLogLine="RSS link created.",i.onActionComplete(!0)})).fail((function(e){if(Object.prototype.hasOwnProperty.call(e,"responseJSON")){var t=e.responseJSON;Object.prototype.hasOwnProperty.call(t,"error")&&(i.failLogLine=t.error)}(0,ui.pingerErrorHandler)("rss-form",i.failLogLine),Zi.Notification.error(i.failLogLine),i.onActionComplete(!1)}))},r}(Oa.ActionForm);ns.RssForm=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var is={};(function(e){(function(){"use strict";is.__esModule=!0,is.SelectedLabelSimple=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(){function e(e,t,i,r,o,a){void 0===a&&(a=!0),this.container=e,this.amountContainer=this.container.find(".selected-results-amount"),this.clearButton=this.container.find(".clear-selection-button"),this.thisPageInput=(0,n.default)(".mobile-this-page-selector"),this.fullLabelText=a,this.update(t,i),this.initClearButton(),this.initSelectThisPage()}var t=e.prototype;return t.updateSelectedText=function(e,t){if(this.selectedLength){var n=this.constructText(this.selectedLength);this.amountContainer.attr("title",n),this.amountContainer.text(this.fullLabelText?n:""+this.selectedLength)}else this.amountContainer.text(""),this.amountContainer.attr("title","")},t.update=function(e,t){this.selectedLength=e,this.updateSelectedText(this.fullLabelText,t),this.shouldShow()?(this.amountContainer.attr("aria-live","polite"),this.show()):(this.amountContainer.attr("aria-live","off"),this.hide())},t.initClearButton=function(){var e=this;this.clearButton.length&&this.clearButton.on("click",(function(t){e.container.trigger("clear-selection"),!0===e.thisPageInput.prop("checked")&&e.thisPageInput.prop("checked",!1)}))},t.initSelectThisPage=function(){},t.hasSelected=function(){return Boolean(this.selectedLength)},t.shouldShow=function(){return this.hasSelected()},t.hide=function(){this.container.removeClass("active")},t.show=function(){this.container.addClass("active")},t.toggle=function(e){void 0===e&&(e=!0),this.container.toggleClass("active",e)},t.constructText=function(e){var t=1===e?" item":" items";return""+new Intl.NumberFormat("en-US").format(e)+t+" selected"},e}();is.SelectedLabelSimple=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var rs={};(function(e){(function(){"use strict";rs.__esModule=!0,rs.SelectedLabelSticky=void 0;var t=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function n(e){return e&&e.__esModule?e:{default:e}}var i=n(si).default.getLogger("results-selectors-label"),r=function(e){var n,r;function o(n,i,r,o,a,s,l){var c;return void 0===s&&(s=!0),void 0===l&&(l=void 0),(c=e.call(this,n,i,r,o,a,s)||this).intersectionObserveElement=l,c.observingIntersection=!!c.intersectionObserveElement.length,c.windowElement=(0,t.default)(window),c.initObservingLocation(),c}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=o.prototype;return a.initObservingLocation=function(){var e=this;this.intersectionObserveElement.length&&(this.pageHeaderIntersectionObserver=new IntersectionObserver((function(t){i.debug("Target element visibility changed"),e.toggle(e.hasSelected()&&!t[0].isIntersecting)})),this.pageHeaderIntersectionObserver.observe(this.intersectionObserveElement[0]))},a.shouldShow=function(){if(!this.observingIntersection)return this.hasSelected();var e=this.windowElement.scrollTop(),t=e+this.windowElement.height(),n=this.intersectionObserveElement.offset().top,i=n+this.intersectionObserveElement.height()<=t&&n>=e;return this.hasSelected()&&!i},o}(is.SelectedLabelSimple);rs.SelectedLabelSticky=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var os={};(function(e){(function(){"use strict";os.__esModule=!0,os.SelectedLabelMobile=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t,n,i,r,o,a,s){var l;return(l=e.call(this,t,n,i,r,o,a)||this).intersectionObserveElement=s,l.initObservingLocation(),i&&l.thisPageInput.prop("checked",!0),l}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.initObservingLocation=function(){var e=this;this.intersectionObserveElement.length&&(this.pageHeaderIntersectionObserver=new IntersectionObserver((function(t){t[0].isIntersecting?e.container.removeClass("fixed"):e.container.addClass("fixed")})),this.pageHeaderIntersectionObserver.observe(this.intersectionObserveElement[0]))},o.updateSelectedText=function(t,n){e.prototype.updateSelectedText.call(this,t,n),this.selectedLength?this.clearButton.show():(this.thisPageInput.prop("checked",!1),this.clearButton.hide()),n?this.thisPageInput.prop("checked",!0):this.thisPageInput.prop("checked",!1)},o.initSelectThisPage=function(){var e=this;this.thisPageInput.on("change",(function(t){(0,n.default)(t.target).prop("checked")?e.container.trigger("this-page-selection"):e.container.trigger("clear-selection")}))},r}(is.SelectedLabelSimple);os.SelectedLabelMobile=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var as={__esModule:!0,DocsumCustomHighlight:void 0},ss=function(){function e(e){var t=e.targetElems,n=e.highlightColor,i=e.headElem;0===n.indexOf("#")?i.append("<style>.marked {background-color:"+n+";}</style>"):"bold"===n&&i.append("<style>.marked {font-weight:bold;}</style>"),t.addClass("marked")}return e.prototype.performHighlightIn=function(e){e.addClass("marked")},e}();as.DocsumCustomHighlight=ss;var ls=Ve("species"),cs=T.f,us=ve.f,ds=K.set,hs=Ve("match"),fs=e.RegExp,ps=fs.prototype,ms=/a/g,gs=/a/g,vs=new fs(ms)!==ms,ys=en.UNSUPPORTED_Y;if(n&&Fe("RegExp",!vs||ys||t((function(){return gs[hs]=!1,fs(ms)!=ms||fs(gs)==gs||"/a/i"!=fs(ms,"i")})))){for(var bs=function(e,t){var n,i=this instanceof bs,r=Kn(e),o=void 0===t;if(!i&&r&&e.constructor===bs&&o)return e;vs?r&&!o&&(e=e.source):e instanceof bs&&(o&&(t=Xt.call(e)),e=e.source),ys&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=Yo(vs?new fs(e,t):fs(e,t),i?this:ps,bs);return ys&&n&&ds(a,{sticky:n}),a},ws=function(e){e in bs||cs(bs,e,{configurable:!0,get:function(){return fs[e]},set:function(t){fs[e]=t}})},Ss=us(fs),_s=0;Ss.length>_s;)ws(Ss[_s++]);ps.constructor=bs,bs.prototype=ps,$(e,"RegExp",bs)}!function(e){var t=ie(e),i=T.f;n&&t&&!t[ls]&&i(t,ls,{configurable:!0,get:function(){return this}})}("RegExp");var Cs={};(function(e){(function(){"use strict";Cs.__esModule=!0,Cs.CustomSearchTermsHighlight=void 0;var t=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(si).default.getLogger("adj-nav-storage"),a=function(){function e(t){var n=this,i=t.highlightColor,r=t.tokensToHighlightCSV,o=t.headElem,a=t.markJSUrl,s=t.excludeFromHighlight,l=t.blackText,c=void 0!==l&&l;if(this._configured=!0,i&&r){this.markJSUrl=a,this._lazyLoadMarkJSScript();var u=this._addHighlightCss(i,o,c);this.wordHighlightOptions={className:u,exclude:s,separateWordSearch:!0,ignorePunctuation:e.punctuation,diacritics:!0,ignoreJoiners:!0,acrossElements:!0,filter:function(e,t){return n.wordsFilter(t)},accuracy:{value:"exactly",limiters:e.punctuation}},this.noSeparateWordSearchOptions={className:u,exclude:s,separateWordSearch:!1,ignorePunctuation:e.punctuation,diacritics:!0,ignoreJoiners:!0,acrossElements:!0,accuracy:{value:"exactly",limiters:e.punctuation}},this.regexHighlightOptions={className:u,exclude:s,acrossElements:!0,diacritics:!0,ignoreJoiners:!0},this._prepareHighlightTokens(r)}else this._configured=!1}e.setMarkJSDeferred=function(e){this._markJSDeferred=e},e.getMarkJSDeferred=function(){return this._markJSDeferred};var n=e.prototype;return n._prepareHighlightTokens=function(e){var t=e.split("|").filter(Boolean);this.wordTokens=[],this.exactTokens=[],this.regexTokens=[];for(var n,r=i(t);!(n=r()).done;){var o=n.value;-1===o.indexOf("__pmid_range:")?-1===o.indexOf("__exact_match:")?-1===o.indexOf("*")?this.wordTokens.push(o.replace(",","")):this.regexTokens.push(new RegExp(o.replace(/\*/g,"[^\\s.,!?;:()]*"),"gmi")):this.exactTokens.push(o.replace("__exact_match:","").replace(",","")):this._preparePMIDtokens(o)}},n._preparePMIDtokens=function(e){try{for(var t=e.toLowerCase().replace("__pmid_range:","").replace(/PMC/g,"").replace(/NBK/g,"").split(":"),n=t[0],i=t[1],r=parseInt(n,10);r<=parseInt(i,10);r++)this.exactTokens.push(""+r)}catch(Ds){o.error("Error while trying to parse PMIDs range for custom highlight")}},n._addHighlightCss=function(e,t,n){var i=n?"#212121":"unset",r=n?"terms-highlight-black-text":"terms-highlight";return 0===e.indexOf("#")?t.append("<style>."+r+" {background-color:"+e+";color: "+i+";}</style>"):"bold"===e&&t.append("<style>."+r+" {font-weight:bold;background:unset;color:unset;}</style>"),r},n._lazyLoadMarkJSScript=function(){e.getMarkJSDeferred()||(e.setMarkJSDeferred(t.default.Deferred()),t.default.getScript(this.markJSUrl,(function(){e.getMarkJSDeferred().resolve()})))},n.performHighlightIn=function(t){var n=this;this._configured&&(this._lazyLoadMarkJSScript(),e.getMarkJSDeferred().promise().done((function(){n.wordTokens&&n.wordTokens.length&&t.mark(n.wordTokens,n.wordHighlightOptions),n.exactTokens&&n.exactTokens.length&&t.mark(n.exactTokens,n.noSeparateWordSearchOptions);for(var e,r=i(n.regexTokens);!(e=r()).done;){var o=e.value;t.markRegExp(o,n.regexHighlightOptions)}})))},n.wordsFilter=function(t){return!(t.length<3)&&-1===e.stopWords.indexOf(t)},e}();Cs.CustomSearchTermsHighlight=a,a.punctuation=":;.,--\u2013\u2014\u2012_(){}[]!'\"+=".split(""),a.stopWords=["a","about","again","all","almost","also","although","always","among","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","can","could","did","do","does","done","due","during","each","either","enough","especially","etc","for","found","from","further","had","has","have","having","here","how","however","i","if","in","into","is","it","its","itself","just","kg","km","made","mainly","make","mg","might","ml","mm","most","mostly","must","nearly","neither","no","nor","obtained","of","often","on","our","overall","perhaps","quite","rather","really","regarding","seem","seen","several","should","show","showed","shown","shows","significantly","since","so","some","such","than","that","the","their","theirs","them","then","there","therefore","these","they","this","those","through","thus","to","upon","various","very","was","we","were","what","when","which","while","with","within","without","would"]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ks={};(function(e){(function(){"use strict";ks.__esModule=!0,ks.AbstractCustomHighlight=void 0;var t,n=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t},i=function(e){var t,i;function r(t){var n,i=t.targetElem,r=t.highlightColor,o=t.tokensToHighlightCSV,a=t.headElem,s=t.markJSUrl;return(n=e.call(this,{highlightColor:r,tokensToHighlightCSV:o,headElem:a,markJSUrl:s,excludeFromHighlight:[".stats *",".conflict-of-interest .title",".supplementary-info .title",".supplementary-info .short-content",".article-overview-actions *",".short-article-details",".short-article-details .more-details",".affiliation-link",".affiliations .title",".affiliations .key",".free-label",".in-clipboard-label",".abstract .title",".abstract .sub-title",".empty-abstract",".dropdown-container *",".identifiers .id-label",".identifier.doi a",".citation-doi",".conflict-of-interest .title",".full-text-links *","h2.title","h3.title",".overlay *",".linkout *",".actions-bar *",".no-abstract"]})||this).performHighlightIn(i),n}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r.prototype.performHighlightIn=function(t){for(var i=this,r=function(){var t=a[o];-1===t.className.indexOf("custom-highlighted")&&window.requestAnimationFrame((function(){var r=(0,n.default)(t);e.prototype.performHighlightIn.call(i,r),r.addClass("custom-highlighted")}))},o=0,a=Array.from(t);o<a.length;o++)r()},r}(Cs.CustomSearchTermsHighlight);ks.AbstractCustomHighlight=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ts,xs={__esModule:!0,Sensor:void 0},Es=(Ts=xr)&&Ts.__esModule?Ts:{default:Ts};xs.Sensor=function(e,t,n){var i=this;0!==e.length&&(this.container=e,this.container.is(":visible")&&(this.container.find(".close-btn").click((function(e){e.preventDefault(),i.container.hide();var r=Es.default.get(t)||"";r.indexOf(n)<=-1&&(r=""===r?n:r.concat(":",n),(0,Dr.setSecureCookieIfPossible)(t,r,{expires:30}))})),setTimeout((function(){var e=n+"-sensor-shown";(0,Ri.reportEvent)(e,e)}),1e3)))},function(e){(function(){"use strict";var t=r("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=r(si),i=r(li);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=n.default.getLogger("search-page");window.ncbi=window.ncbi||{},window.ncbi.awesome=window.ncbi.awesome||{},window.ncbi.awesome.searchPage={init:function(e){var n=e.searchQuery,i=e.searchConstants,r=e.totalResults,o=e.maxSelectedAmount,a=e.itemsPerPage,l=e.baseSuggestionsUrl,c=e.sortByCookieName,u=e.sortOrderCookieName,d=e.sizeCookieName,h=e.searchIdCookieName,f=e.searchFormSubmittedCookieName,p=e.isOnSearchPageCookieName,m=e.sensorCookieName,g=e.covidSensorKey,v=e.schemaAllActive,y=e.timelineData,b=e.mathJaxUrl,w=e.clipboardAPIRoot,S=e.clipboardNextPageUrl,_=e.rootUrl,C=e.jsCookieDomain,k=e.adjNavSearchIdCookieName,T=e.showSnippetsCookieName,x=e.termHighlightColor,E=e.highlightedTokens,D=e.markJSUrl,F=e.citeDropdownOffsetFlipped,I=e.shareDropdownOffsetFlipped,A=e.dropdownOffset;this.searchID=(0,t.default)('meta[name="ncbi_adj_nav_search_id"]').attr("content"),this.skipQueryInputFocus=!0;var O=navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),M=window.safari;this.isiOS=O||M,this.initScrollToPos(),this.logger=s,this.windowElement=(0,t.default)(window),this.bodyElem=(0,t.default)("body"),this.headElem=(0,t.default)("head"),this.container=(0,t.default)("#search-page"),this.searchPageHeader=(0,t.default)("#search-form"),this.ncbiFooter=(0,t.default)("#ncbi-footer"),this.searchQuery=n,this.searchConstants=i,this.totalResults=r,this.maxSelectedAmount=o,this.itemsPerPage=a,this.mathJaxUrl=b,this.markJSUrl=D,this.schemaAllActive=v,this.citeDropdownOffsetFlipped=F,this.shareDropdownOffsetFlipped=I,this.dropdownOffset=A,this.searchResultsContainer=(0,t.default)("#search-results"),this.resultsListContainer=this.container.find(".search-results-list"),this.resultsAmountContainer=this.container.find(".results-amount .value"),this.spellCheckContainer=(0,t.default)("#spell-check-warning"),this.resultsListLoadingIndicator=new Ni.DotsLoadingIndicator({container:this.resultsListContainer.eq(0),className:"loading-indicator"}),this.rootUrl=_,this.covidSensor=this.container.find(".covid-sensor"),this.moreActionsTrigger=this.container.find(".more-actions > .trigger"),this.searchFormTermInput=this.searchPageHeader.find(".term-input"),this.searchIdCookieName=h,this.searchFormSubmittedCookieName=f,this.jsCookieDomain=C,this.adjNavStorage=new Hi.AdjNavStorage({}),this.filtersStorage=new mr.PersistentFiltersStorage,this.clipboard=new Va.Clipboard({clipboardAPIRoot:w,clipboardNextPageUrl:S,clipboardLink:this.container.find(".clipboard-link")}),this.initForm(l,c,u,d,h,k,f,C,y,T),this.initPaginators(),this.initNavigator(),this.initBackToTop(),this.initResultsAmountUpdate(),this.initResultItems(),this.showClipboardLabels(),this.initResultsActions(),this.initResultActions(),this.spellCheck=this.initCorrectedQueryBlock(this.spellCheckContainer),this.initClickOnResult(".full-docsum",".full-docsum .docsum-title"),this.initClickOnResult(".results-article",".results-article .heading-title,\n      .results-article a"),(0,Ir.setIsOnSearchPageCookie)(p,C),this.initCustomHighlighter(x,E),this.initSensor(this.covidSensor,m,g)},initScrollToPos:function(){var e=this;void 0!==typeof history&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.scrolledToPosKickedOff=!1,this.isiOS?window.addEventListener("pageshow",(function(){var t=e.getLastClickedResultPos();t?e.scrollToPos(t.page,t.pos):(e.searchForm.skipQueryInputFocus=!1,e.searchForm.initFocusInInput())})):window.addEventListener("load",(function(){var t=e.getLastClickedResultPos();t?e.scrollToPos(t.page,t.pos,!1):(e.searchForm.skipQueryInputFocus=!1,e.searchForm.initFocusInInput())}))},scrollToPos:function(e,n,i){var r=this;if(void 0===i&&(i=!0),e&&n)try{var o=this.resultsListContainer.find('.results-chunk[data-page-number="'+e+'"]');if(!o.length)return void s.warn("Can't navigate to results (pos "+n+") because that item is not currently displayed.");var a=this.isFormatAbstract()?o.find(".results-article"):o.find(".full-docsum");if(a&&a.length&&a.length>=n){var l=(0,t.default)(a[n-1]).offset().top-42;window.innerWidth<=759&&(l-=42),i?window.requestAnimationFrame((function(){(0,t.default)("html, body").animate({scrollTop:l},150),r.removeLastClickedResultPos()})):(window.scrollBy(0,l),this.removeLastClickedResultPos())}else s.warn("Can't navigate to results (pos "+n+") because that item is not currently displayed.")}catch(c){(0,ui.pingerErrorHandler)("search-page","Invalid page position when scrolling to docsum: "+n)}},getLastClickedResultPos:function(){var e=window.sessionStorage.getItem("searchpos:"+this.searchID);if(e){var t=e.split(":"),n=t[0],i=t[1];try{return{page:parseInt(n,10),pos:parseInt(i,10)}}catch(r){(0,ui.pingerErrorHandler)("search-page","Invalid page or position when navigating to item: "+n+" "+i)}}},removeLastClickedResultPos:function(){window.sessionStorage.removeItem("searchpos:"+this.searchID)},showClipboardLabels:function(){this.resultsListContainer.find(".in-clipboard-label").attr("hidden","").removeClass("active");for(var e,t=o(this.clipboard.getLocalClipboardIDs());!(e=t()).done;){var n=e.value;this.getResultContainerById(n).find(".in-clipboard-label").removeAttr("hidden").addClass("active")}},initForm:function(e,n,i,r,o,a,s,l,c,u){var d=this;this.searchFormContainer=(0,t.default)("#search-form"),this.searchForm=new Ro.SearchForm({form:this.searchFormContainer,baseSuggestionsUrl:e,searchConstants:this.searchConstants,searchResultsContainer:this.searchResultsContainer,staticFiltersContainer:this.container.find(".static-filters"),customizeFiltersDialogContainer:this.container.find(".customize-filters-dialog"),sortByCookieName:n,sortOrderCookieName:i,sizeCookieName:r,searchIdCookieName:o,adjNavSearchIdCookieName:a,searchFormSubmittedCookieName:s,jsCookieDomain:l,timelineData:c,windowElement:this.windowElement,noResultsFound:0===this.totalResults,skipQueryInputFocus:this.skipQueryInputFocus,showSnippetsCookieName:u}),this.searchForm.form.on("submit-data",(function(){d.resultsListContainer.addClass("loading"),d.resultsListLoadingIndicator.show()})),this.windowElement.on("pageshow",(function(e){e.originalEvent.persisted&&(Array.from(d.searchFormContainer[0].elements).forEach((function(e){e.disabled=!1})),d.searchForm.filtersWithTimeline.filtersField.container.trigger("enable-filters"),d.searchForm.filtersWithTimeline.filtersTrigger.hasClass("active")&&(d.searchForm.filtersWithTimeline.filtersField.container.hide(),d.searchForm.filtersWithTimeline.filtersTrigger.toggleClass("active")),d.searchForm.displayOptionsDropdown.hide(),d.resultsListLoadingIndicator.hide(),d.resultsListContainer.removeClass("loading"))})),this.windowElement.on("pageshow",(function(){setTimeout((function(){-1!==window.location.href.indexOf("#")&&(d.collectionsPanel.openCollectionsPanelAfterSuccessfulLogin(),d.bibliographyPanel.openBibliographyPanelAfterSuccessfulLogin(),d.savedSearchPanel.openSavedSearchPanelAfterSuccessfulLogin())}),300)}))},initPaginators:function(){this.prevPaginator=new ta.SearchResultsPaginator({isPrev:!0,container:this.searchResultsContainer.find(".prev-results-paginator"),searchResultsContainer:this.searchResultsContainer,mathJaxUrl:this.mathJaxUrl,schemaAllActive:this.schemaAllActive,searchFormSubmittedCookieName:this.searchFormSubmittedCookieName,jsCookieDomain:this.jsCookieDomain}),this.nextPaginator=new ta.SearchResultsPaginator({container:this.searchResultsContainer.find(".next-results-paginator"),searchResultsContainer:this.searchResultsContainer,mathJaxUrl:this.mathJaxUrl,schemaAllActive:this.schemaAllActive,searchFormSubmittedCookieName:this.searchFormSubmittedCookieName,jsCookieDomain:this.jsCookieDomain}),this.prevPaginator.container.on("chunk-loaded",Ri.reportPageView),this.nextPaginator.container.on("chunk-loaded",Ri.reportPageView)},initResultsAmountUpdate:function(){var e=this,t=function(t,n,i){return e.updateResultsAmount(n)};this.prevPaginator.container.on("results-amount-update",t),this.nextPaginator.container.on("results-amount-update",t)},initNavigator:function(){var e=this;this.navigator=new na.SearchResultsNavigator({searchQuery:this.searchQuery,searchResultsContainer:this.searchResultsContainer,pageLabelEl:this.searchResultsContainer.find(".current-page-label")}),this.prevPaginator.container.on("chunk-loaded",(function(){return e.navigator.reset()})),this.nextPaginator.container.on("chunk-loaded",(function(){return e.navigator.reset()}))},initBackToTop:function(){this.backToTop=new ia.BackToTop(this.container.find(".back-to-top"),this.ncbiFooter,this.searchFormTermInput)},initCorrectedQueryBlock:function(e){var t=this;if(e.length>0){var n=new oa.CorrectedQueryBlock({container:this.spellCheckContainer});return this.navigator.container.one("url-update",(function(e,t){return n.updateTermInQueryString(t)})),this.prevPaginator.container.on("chunk-loaded",(function(){return t.resetCorrectedQueryContainer(e)})),this.nextPaginator.container.on("chunk-loaded",(function(){return t.resetCorrectedQueryContainer(e)})),n}},resetCorrectedQueryContainer:function(e){0!==e.length&&(e.detach(),this.searchResultsContainer.find(".search-results-chunk").find("#"+e[0].id).remove(),e.insertAfter(this.searchResultsContainer.find(".search-results-chunk:eq(0)").children(".title")))},updateResultsAmount:function(e){this.resultsAmountContainer.text(e)},initResultItems:function(){var e=this;this.resultItems={},this.searchResultsContainer.find(".search-results-chunk").each((function(t,n){e.initResultChunkItems(n)}));var t=function(t,n){e.initResultChunkItems(n)};this.prevPaginator.container.on("chunk-loaded",t),this.nextPaginator.container.on("chunk-loaded",t)},initResultChunkItems:function(e){var n=this,i=(e=(0,t.default)(e)).data("page-number");this.isFormatAbstract()&&e.find(".results-article > .article-overview").each((function(e,t){n.resultItems[i+"-"+(e+1)]=new Sr.ArticleOverview({container:t,articleSearchActionsContainers:[n.prevPaginator,n.nextPaginator],searchFormTermInput:n.searchFormTermInput,filtersStorage:n.filtersStorage})}))},isFormatAbstract:function(){return this.searchForm.getResultsFormat()===this.searchConstants.FORMAT_ABSTRACT},initResultActions:function(){var e=this;this.resultActions=new va.ResultActions(this.searchResultsContainer,this.citeDropdownOffsetFlipped,this.shareDropdownOffsetFlipped,this.dropdownOffset,"search-results-chunk");var t=function(t,n){e.resultActions.initResultActions(n)};this.prevPaginator.container.on("chunk-loaded",t),this.nextPaginator.container.on("chunk-loaded",t)},initSelectorsElements:function(){this.resultSelectors&&this.resultSelectors.deinitSelectors(this.searchResultsContainer),this.resultSelectors=new ba.ResultSelectorsCheckboxes(this.windowElement,this.searchResultsContainer,this.searchForm.getSearchHash())},initResultsSelectors:function(){var e=this;this.initSelectorsElements();var t=function(t,n){e.resultSelectors.initSelectors(n,!0)};this.prevPaginator.container.on("chunk-loaded",t),this.nextPaginator.container.on("chunk-loaded",t),this.selectedItemsLabels=[];var n=this.resultSelectors.selected.length,i=this.resultSelectors.selectPage,r=this.searchResultsContainer.find("#results-container-selected-results-container"),a=new is.SelectedLabelSimple(r,n,i,this.totalResults,this.maxSelectedAmount,!0);this.selectedItemsLabels.push(a);var s=this.searchResultsContainer.find("#page-label-selected-results-container"),l=new rs.SelectedLabelSticky(s,n,i,this.totalResults,this.maxSelectedAmount,!0,this.searchPageHeader);this.selectedItemsLabels.push(l),this.mobileLabelContainer=this.searchResultsContainer.find("#mobile-top-actions-bar");var c=new os.SelectedLabelMobile(this.mobileLabelContainer,n,i,this.totalResults,this.maxSelectedAmount,!0,this.searchPageHeader);this.selectedItemsLabels.push(c);for(var u,d=o(this.selectedItemsLabels);!(u=d()).done;)u.value.container.on("clear-selection",(function(){e.searchResultsContainer.trigger("selected-updated",[[]])}));c.container.on("all-selection",(function(){e.searchResultsContainer.trigger("select-all")})),c.container.on("this-page-selection",(function(){e.searchResultsContainer.trigger("select-page")})),this.searchResultsContainer.on("selected-updated",(function(t,n,i){for(var r,a=o(e.selectedItemsLabels);!(r=a()).done;)r.value.update(n.length,i)})),this.searchForm.initSelectedItems(this.resultSelectors.selected.slice()),this.prevPaginator.container.on("chunk-loaded",(function(t,n){e.searchResultsContainer.trigger("check-for-search-results-selection")})),this.nextPaginator.container.on("chunk-loaded",(function(t,n){e.searchResultsContainer.trigger("check-for-search-results-selection")})),this.searchResultsContainer.trigger("check-for-search-results-selection")},getResultContainerById:function(e){var t=this.resultsListContainer.find("input[value="+e+"]");return"abstract"===this.searchForm.getResultsFormat()?t.closest(".results-article"):t.closest(".full-docsum")},initResultsActions:function(){var e=this;this.initResultsSelectors(),this.initMoreActions();var t=this.container.find(".multiple-results-actions"),n=this.container.find(".save-action-panel"),i=this.container.find(".email-action-panel"),r=this.container.find(".clipboard-panel"),a=t.find(".clipboard-panel-trigger"),s=this.moreActionsDialog.container.find(".clipboard-trigger"),l=function(t){return e.getResultContainerById(t).find(".in-clipboard-label")},c=this.container.find(".collections-action-panel"),u=this.container.find(".bibliography-action-panel"),d=this.container.find(".citation-manager-action-panel"),h=this.container.find(".saved-search-action-panel"),f=this.container.find(".rss-action-panel"),p=this.resultSelectors.selectPage,m=new wa.ActionPanel({container:n,expandButton:t.find(".save-results-panel-trigger"),initialFocusEl:n.find(".custom-results-selector")});this.savePanel=m;var g=new wa.ActionPanel({container:i,expandButton:t.find(".email-results-panel-trigger"),initialFocusEl:i.find(".email-to")});this.emailPanel=g;var v=new Qa.ClipboardSenderPanel({container:r,expandButton:a,mobileTrigger:s,selectedIDs:this.resultSelectors.getSelectedIds(),mapArticleIdToLabel:l,clipboard:this.clipboard,initialFocusEl:r.find(".custom-results-selector")});this.clipboardPanel=v;var y=new Sa.CollectionsPanel({container:c,expandButton:t.find(".collections-panel-trigger"),initialFocusEl:c.find(".custom-results-selector")});this.collectionsPanel=y;var b=new Ca.BibliographyPanel({container:u,expandButton:t.find(".bibliography-panel-trigger"),initialFocusEl:u.find(".custom-results-selector")});this.bibliographyPanel=b;var w=new wa.ActionPanel({container:d,expandButton:t.find(".citation-manager-panel-trigger"),initialFocusEl:d.find(".custom-results-selector")});this.citationManagerPanel=w;var S=new Ta.SavedSearchPanel({container:h,expandButton:this.container.find(".saved-search-panel-trigger"),initialFocusEl:h.find(".saved-search-name")});this.savedSearchPanel=S;var _=new Ea.RSSPanel({container:f,expandButton:this.container.find(".rss-panel-trigger"),initialFocusEl:f.find(".rss-name")}),C=new Ra.SaveFormMultipleResults({container:n,selectedResultsIds:this.resultSelectors.getSelectedIds(),searchFormControls:this.searchForm.getActiveSearchControls(),termValue:this.searchForm.getTermValue(),pageIds:this.resultsListContainer.find(".search-results-chunk").data("chunk-ids"),initialSelectPage:p}),k=new Ba.EmailFormMultipleResults({container:i,bodyElem:this.bodyElem,selectedResultsIds:this.resultSelectors.getSelectedIds(),searchFormControls:this.searchForm.getActiveSearchControls(),termValue:this.searchForm.getTermValue(),pageIds:this.resultsListContainer.find(".search-results-chunk").data("chunk-ids"),initialSelectPage:p}),T=new Ua.ClipboardForm({container:r,selectedResultsIds:this.resultSelectors.getSelectedIds(),searchFormControls:this.searchForm.getActiveSearchControls(),pageIds:this.resultsListContainer.find(".search-results-chunk").data("chunk-ids"),trigger:a,mapArticleIdToLabel:l,clipboard:this.clipboard,initialSelectPage:p}),x=new Ja.CollectionsFormMultipleResults({container:c,selectedResultsIds:this.resultSelectors.getSelectedIds(),pageIds:this.resultsListContainer.find(".search-results-chunk").data("chunk-ids"),searchFormControls:this.searchForm.getActiveSearchControls(),initialSelectPage:p}),E=new Ka.BibliographyFormMultipleResults({container:u,selectedResultsIds:this.resultSelectors.getSelectedIds(),pageIds:this.resultsListContainer.find(".search-results-chunk").data("chunk-ids"),searchFormControls:this.searchForm.getActiveSearchControls(),initialSelectPage:p}),D=new Xa.CitationManagerFormMultipleResults({container:d,selectedResultsIds:this.resultSelectors.getSelectedIds(),searchFormControls:this.searchForm.getActiveSearchControls(),termValue:this.searchForm.getTermValue(),pageIds:this.resultsListContainer.find(".search-results-chunk").data("chunk-ids"),initialSelectPage:p});new ts.SavedSearchForm({container:h,selectedFilters:this.searchForm.getSelectedFilters()}),new ns.RssForm({container:f,selectedFilters:this.searchForm.getSelectedFilters()}),i.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){g.closePanel(),g.focusOnExpandButton()})),n.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){m.closePanel(),m.focusOnExpandButton()})),r.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){v.closePanel(),e.moreActionsTrigger.focus()})),v.closeButton.click((function(t){e.moreActionsTrigger.focus()})),c.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){y.closePanel(),e.moreActionsTrigger.focus()})),y.closeButton.click((function(t){e.moreActionsTrigger.focus()})),u.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){b.closePanel(),e.moreActionsTrigger.focus()})),b.closeButton.click((function(t){e.moreActionsTrigger.focus()})),d.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){w.closePanel(),e.moreActionsTrigger.focus()})),w.closeButton.click((function(t){e.moreActionsTrigger.focus()})),h.on(Oa.FORM_SUBMIT_EVENT_NAME,(function(){S.closePanel(),S.focusOnExpandButton()})),this.actionPanels=[m,g,v,y,b,w,S,_],this.searchResultsContainer.on("selected-updated",(function(e,t,n){n?(C.selectionSelector.pageSelectionOn(t),k.selectionSelector.pageSelectionOn(t),T.selectionSelector.pageSelectionOn(t),x.selectionSelector.pageSelectionOn(t),E.selectionSelector.pageSelectionOn(t),D.selectionSelector.pageSelectionOn(t),v.updateSelectedIDs(t)):(C.selectionSelector.customSelectionOn(t),k.selectionSelector.customSelectionOn(t),T.selectionSelector.customSelectionOn(t),v.updateSelectedIDs(t),x.selectionSelector.customSelectionOn(t),E.selectionSelector.customSelectionOn(t),D.selectionSelector.customSelectionOn(t))})),this.prevPaginator.container.on("chunk-loaded",(function(e,t){C.selectionSelector.pageUpdated(t.data("chunk-ids"),!0),k.selectionSelector.pageUpdated(t.data("chunk-ids"),!0),T.selectionSelector.pageUpdated(t.data("chunk-ids"),!0),x.selectionSelector.pageUpdated(t.data("chunk-ids"),!0),E.selectionSelector.pageUpdated(t.data("chunk-ids"),!0),D.selectionSelector.pageUpdated(t.data("chunk-ids"),!0)})),this.nextPaginator.container.on("chunk-loaded",(function(e,t){C.selectionSelector.pageUpdated(t.data("chunk-ids"),!1),k.selectionSelector.pageUpdated(t.data("chunk-ids"),!1),T.selectionSelector.pageUpdated(t.data("chunk-ids"),!1),x.selectionSelector.pageUpdated(t.data("chunk-ids"),!1),E.selectionSelector.pageUpdated(t.data("chunk-ids"),!1),D.selectionSelector.pageUpdated(t.data("chunk-ids"),!1)}));for(var F,I=function(){var t=F.value;t.container.on("toggle-panel",(function(n,i){if(i)for(var r,a=o(e.actionPanels);!(r=a()).done;){var s=r.value;s!==t&&s.closePanel()}}))},A=o(this.actionPanels);!(F=A()).done;)I()},initClickOnResult:function(e,n){var i=this;this.resultsListContainer.on("click",n,(function(n){var r=(0,t.default)(n.target),o=r.closest("[data-full-article-url]");i.adjNavStorage.addToAdjNavData(o.data("article-id"),i.searchID,o.data("full-article-url"));var a=r.closest(e),s=r.closest(".results-chunk"),l=a.data("rel-pos"),c=s.data("page-number");window.sessionStorage.setItem("searchpos:"+i.searchID,c+":"+l),(i.container.find(".results-chunk").length>1||i.isiOS)&&i.historyPushNavToItemOnPage(c)}))},historyPushNavToItemOnPage:function(e){var t;try{t=parseInt(e,10)}catch(i){return void(0,ui.pingerErrorHandler)("search-page","Invalid page when navigating to item: "+e)}if(void 0!==t&&!isNaN(t)){var n=new ji.QueryDict(window.location.search);(n.getParam("page")||1)!==t&&(t>1?n.setParam("page",t):n.deleteParam("page")),null!=typeof window.history&&"pushState"in window.history&&window.history.pushState({query:"updated",msg:"navigation to item on page "+t},"queryUpdated",""+window.location.origin+this.rootUrl+"?"+n.toString())}},initMoreActions:function(){var e=this,t=this.container.find(".more-actions"),n=t.children(".dropdown");t.length&&(this.moreActionsDropdown=new br.MoreActionsDropdownBlock({target:t.children(".trigger"),container:n.removeAttr("hidden"),toggleOnHover:!1,wrap:!1}));var i=this.container.find(".more-actions-dialog");this.moreActionsDialog=new gi.OverlayBlock({container:i,triggers:this.container.find(".more-actions-dialog-trigger")});var r=this.moreActionsDialog.container.find(".clipboard-trigger"),o=i.find(".collections-trigger"),a=i.find(".bibliography-trigger"),s=i.find(".save-trigger"),l=i.find(".email-trigger"),c=i.find(".citation-manager-trigger");l.on("click",(function(){return e.moreActionsDialog.hide(),e.emailPanel.isExpanded()||e.emailPanel.togglePanel(),e.emailPanel.scrollToTop(e.searchPageHeader),!1})),s.on("click",(function(){return e.moreActionsDialog.hide(),e.savePanel.isExpanded()||e.savePanel.togglePanel(),e.savePanel.scrollToTop(e.searchPageHeader),!1})),o.on("click",(function(){return e.moreActionsDialog.hide(),e.collectionsPanel.isExpanded()||e.collectionsPanel.togglePanel(),e.collectionsPanel.scrollToTop(e.searchPageHeader),!1})),a.on("click",(function(){return e.moreActionsDialog.hide(),e.bibliographyPanel.isExpanded()||e.bibliographyPanel.togglePanel(),e.bibliographyPanel.scrollToTop(e.searchPageHeader),!1})),r.on("click",(function(){return e.moreActionsDialog.hide()})),c.on("click",(function(){return e.moreActionsDialog.hide(),e.citationManagerPanel.isExpanded()||e.citationManagerPanel.togglePanel(),e.citationManagerPanel.scrollToTop(e.searchPageHeader),!1}))},initCustomHighlighter:function(e,t){var n=this;e&&(this.isFormatAbstract()?(this.highlighter=new ks.AbstractCustomHighlight({targetElem:this.searchResultsContainer.find(".search-results-chunk").find(".article-overview").slice(0,5),highlightColor:e,tokensToHighlightCSV:t,headElem:this.headElem,markJSUrl:this.markJSUrl}),this.prevPaginator.container.on("chunk-loaded",(function(e,t){return n.highlighter.performHighlightIn(t.find(".article-overview").slice(0,5))})),this.nextPaginator.container.on("chunk-loaded",(function(e,t){return n.highlighter.performHighlightIn(t.find(".article-overview").slice(0,5))})),this.searchResultsContainer.on("new-html-loaded",(function(e,t){return n.highlighter.performHighlightIn(t)})),this.initAbstractsHighlightOnScroll()):(this.highlighter=new as.DocsumCustomHighlight({targetElems:this.searchResultsContainer.find(".search-results-chunk").find(".docsum-content b"),highlightColor:e,headElem:this.headElem}),this.prevPaginator.container.on("chunk-loaded",(function(e,t){n.highlighter.performHighlightIn(t.find(".docsum-content b"))})),this.nextPaginator.container.on("chunk-loaded",(function(e,t){n.highlighter.performHighlightIn(t.find(".docsum-content b"))}))))},initAbstractsHighlightOnScroll:function(){var e=this,n=0;this.windowElement.on("scroll",(0,i.default)((function(){var i=window.pageYOffset||document.documentElement.scrollTop,r=i>=n;n=i<=0?0:i;for(var o,a=e.searchResultsContainer.find(".search-results-chunk").find('.article-overview:not(".custom-highlighted")'),s=0,l=Array.from(a);s<l.length;s++){var c=l[s],u=c.getBoundingClientRect(),d=window.innerHeight||document.documentElement.clientHeight,h=void 0;if(r){if(h=(0,t.default)(c).closest(".results-article").prev(".results-article").height(),u.top>=0-h&&u.top<=d+h){o=c;break}}else if(h=u.height,u.bottom>=0-h&&u.bottom<=d+h){o=c;break}}e.highlightNextOverviews(o)}),300))},highlightNextOverviews:function(e){if(e){for(var n=[e],i=(0,t.default)(e).closest(".results-article"),r=0,o=[i.prev(".results-article"),i.next(".results-article"),i.next(".results-article").length&&i.next(".results-article").next(".results-article"),i.prev(".results-article").length&&i.prev(".results-article").prev(".results-article")];r<o.length;r++){var a=o[r];if(a.length){var s=a.find(".article-overview");s.length&&n.push(s[0])}}this.highlighter.performHighlightIn(n)}},initSensor:function(e,t,n){this.SensorBanner=new xs.Sensor(e,t,n)}}}).call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}();